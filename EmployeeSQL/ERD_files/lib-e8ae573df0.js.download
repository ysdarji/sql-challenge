/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";var n=[],i=t.document,r=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,c=n.indexOf,l={},u=l.toString,h=l.hasOwnProperty,d=h.toString,f=d.call(Object),p={};function m(t,e){var n=(e=e||i).createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}var g="3.2.1",v=function(t,e){return new v.fn.init(t,e)},b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,w=/-([a-z])/g,E=function(t,e){return e.toUpperCase()};function C(t){var e=!!t&&"length"in t&&t.length,n=v.type(t);return"function"!==n&&!v.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}v.fn=v.prototype={jquery:g,constructor:v,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=v.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return v.each(this,t)},map:function(t){return this.pushStack(v.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},v.extend=v.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(l&&i&&(v.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&v.isPlainObject(n)?n:{},a[e]=v.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},v.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===v.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=v.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==u.call(t)||(e=r(t))&&("function"!=typeof(n=h.call(e,"constructor")&&e.constructor)||d.call(n)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[u.call(t)]||"object":typeof t},globalEval:function(t){m(t)},camelCase:function(t){return t.replace(y,"ms-").replace(w,E)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(b,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?v.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(C(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return a.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v.isFunction(t))return i=o.call(arguments,2),r=function(){return t.apply(e||this,i.concat(o.call(arguments)))},r.guid=t.guid=t.guid||v.guid++,r},now:Date.now,support:p}),"function"==typeof Symbol&&(v.fn[Symbol.iterator]=n[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){l["[object "+e+"]"]=e.toLowerCase()}));var $=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,i,r,o,a,s,c,l,u,h,d,f,p,m,g,v,b,y,w="sizzle"+1*new Date,E=t.document,C=0,$=0,A=at(),x=at(),k=at(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,_=[],M=_.pop,F=_.push,D=_.push,R=_.slice,O=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+I+"*("+N+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+I+"*\\]",P=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(I+"+","g"),j=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),U=new RegExp("^"+I+"*,"+I+"*"),W=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),V=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),z=new RegExp(P),q=new RegExp("^"+N+"$"),Y={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},rt=bt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{D.apply(_=R.call(E.childNodes),E.childNodes),_[E.childNodes.length].nodeType}catch(t){D={apply:_.length?function(t,e){F.apply(t,R.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,l,u,h,p,v,b=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!r&&((e?e.ownerDocument||e:E)!==f&&d(e),e=e||f,m)){if(11!==C&&(h=Q.exec(t)))if(o=h[1]){if(9===C){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(b&&(l=b.getElementById(o))&&y(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return D.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return D.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!k[t+" "]&&(!g||!g.test(t))){if(1!==C)b=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,nt):e.setAttribute("id",u=w),s=(p=a(t)).length;s--;)p[s]="#"+u+" "+vt(p[s]);v=p.join(","),b=J.test(t)&&mt(e.parentNode)||e}if(v)try{return D.apply(i,b.querySelectorAll(v)),i}catch(t){}finally{u===w&&e.removeAttribute("id")}}}return c(t.replace(j,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[w]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st((function(e){return e=+e,st((function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:E;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,m=!o(f),E!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=ct((function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=X.test(f.querySelectorAll))&&(ct((function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+I+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+w+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+I+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=X.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),v.push("!=",P)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=X.test(p.compareDocumentPosition),y=e||X.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===E&&y(E,t)?-1:e===f||e.ownerDocument===E&&y(E,e)?1:u?O(u,t)-O(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:u?O(u,t)-O(u,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ut(a[i],s[i]):a[i]===E?-1:s[i]===E?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(V,"='$1']"),n.matchesSelector&&m&&!k[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=b.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&T.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==o?o:n.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&A(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!c&&!s,y=!1;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(y=(f=(l=(u=(h=(d=g)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){u[t]=[C,f,y];break}}else if(b&&(y=f=(l=(u=(h=(d=e)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===y)for(;(d=++f&&d&&d[m]||(y=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&((u=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[C,y]),d!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st((function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=O(t,o[a])]=!(n[i]=o[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:st((function(t){var e=[],n=[],i=s(t.replace(j,"$1"));return i[w]?st((function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:st((function(t){return function(e){return ot(t,e).length>0}})),contains:st((function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}})),lang:st((function(t){return q.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt((function(){return[0]})),last:pt((function(t,e){return[e-1]})),eq:pt((function(t,e,n){return[n<0?n+e:n]})),even:pt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:pt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:pt((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:pt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function gt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=$++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,c){var l,u,h,d=[C,s];if(c){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[o])&&l[0]===C&&l[1]===s)return d[2]=l[2];if(u[o]=d,d[2]=t(e,n,c))return!0}return!1}}function yt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,l=null!=e;s<c;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function Et(t,e,n,i,r,o){return i&&!i[w]&&(i=Et(i)),r&&!r[w]&&(r=Et(r,o)),st((function(o,a,s,c){var l,u,h,d=[],f=[],p=a.length,m=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?m:wt(m,d,t,s,c),v=n?r||(o?t:p||i)?[]:a:g;if(n&&n(g,v,s,c),i)for(l=wt(v,f),i(l,[],s,c),u=l.length;u--;)(h=l[u])&&(v[f[u]]=!(g[f[u]]=h));if(o){if(r||t){if(r){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(g[u]=h);r(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=r?O(o,h):d[u])>-1&&(o[l]=!(a[l]=h))}}else v=wt(v===a?v.splice(p,v.length):v),r?r(null,a,v,c):D.apply(a,v)}))}function Ct(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],c=a?1:0,u=bt((function(t){return t===e}),s,!0),h=bt((function(t){return O(e,t)>-1}),s,!0),d=[function(t,n,i){var r=!a&&(i||n!==l)||((e=n).nodeType?u(t,n,i):h(t,n,i));return e=null,r}];c<o;c++)if(n=i.relative[t[c].type])d=[bt(yt(d),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[w]){for(r=++c;r<o&&!i.relative[t[r].type];r++);return Et(c>1&&yt(d),c>1&&vt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(j,"$1"),n,c<r&&Ct(t.slice(c,r)),r<o&&Ct(t=t.slice(r)),r<o&&vt(t))}d.push(n)}return yt(d)}return gt.prototype=i.filters=i.pseudos,i.setFilters=new gt,a=ot.tokenize=function(t,e){var n,r,o,a,s,c,l,u=x[t+" "];if(u)return e?0:u.slice(0);for(s=t,c=[],l=i.preFilter;s;){for(a in n&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):x(t,c).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=k[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=Ct(e[n]))[w]?r.push(s):o.push(s);s=k(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,c,u){var h,p,g,v=0,b="0",y=o&&[],w=[],E=l,$=o||r&&i.find.TAG("*",u),A=C+=null==E?1:Math.random()||.1,x=$.length;for(u&&(l=a===f||a||u);b!==x&&null!=(h=$[b]);b++){if(r&&h){for(p=0,a||h.ownerDocument===f||(d(h),s=!m);g=t[p++];)if(g(h,a||f,s)){c.push(h);break}u&&(C=A)}n&&((h=!g&&h)&&v--,o&&y.push(h))}if(v+=b,n&&b!==v){for(p=0;g=e[p++];)g(y,w,a,s);if(o){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=M.call(c));w=wt(w)}D.apply(c,w),u&&!o&&w.length>0&&v+e.length>1&&ot.uniqueSort(c)}return u&&(C=A,l=E),y};return n?st(o):o}(o,r)),s.selector=t}return s},c=ot.select=function(t,e,n,r){var o,c,l,u,h,d="function"==typeof t&&t,f=!r&&a(t=d.selector||t);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===e.nodeType&&m&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(Z,tt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(o=Y.needsContext.test(t)?0:c.length;o--&&(l=c[o],!i.relative[u=l.type]);)if((h=i.find[u])&&(r=h(l.matches[0].replace(Z,tt),J.test(c[0].type)&&mt(e.parentNode)||e))){if(c.splice(o,1),!(t=r.length&&vt(c)))return D.apply(n,r),n;break}}return(d||s(t,f))(r,e,!m,n,!e||J.test(t)&&mt(e.parentNode)||e),n},n.sortStable=w.split("").sort(S).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||lt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||lt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||lt(L,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),ot}(t);v.find=$,v.expr=$.selectors,v.expr[":"]=v.expr.pseudos,v.uniqueSort=v.unique=$.uniqueSort,v.text=$.getText,v.isXMLDoc=$.isXML,v.contains=$.contains,v.escapeSelector=$.escape;var A=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&v(t).is(n))break;i.push(t)}return i},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=v.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,_=/^.[^:#\[\.,]*$/;function M(t,e,n){return v.isFunction(e)?v.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?v.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?v.grep(t,(function(t){return c.call(e,t)>-1!==n})):_.test(e)?v.filter(e,t,n):(e=v.filter(e,t),v.grep(t,(function(t){return c.call(e,t)>-1!==n&&1===t.nodeType})))}v.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?v.find.matchesSelector(i,t)?[i]:[]:v.find.matches(t,v.grep(e,(function(t){return 1===t.nodeType})))},v.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(v(t).filter((function(){for(e=0;e<i;e++)if(v.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)v.find(t,r[e],n);return i>1?v.uniqueSort(n):n},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&k.test(t)?v(t):t||[],!1).length}});var F,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(v.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||F,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof v?e[0]:e,v.merge(this,v.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:i,!0)),T.test(r[1])&&v.isPlainObject(e))for(r in e)v.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v.isFunction(t)?void 0!==n.ready?n.ready(t):t(v):v.makeArray(t,this)}).prototype=v.fn,F=v(i);var R=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}v.fn.extend({has:function(t){var e=v(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(v.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&v(t);if(!k.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&v.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?v.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(v(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),v.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return A(t,"parentNode")},parentsUntil:function(t,e,n){return A(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return A(t,"nextSibling")},prevAll:function(t){return A(t,"previousSibling")},nextUntil:function(t,e,n){return A(t,"nextSibling",n)},prevUntil:function(t,e,n){return A(t,"previousSibling",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return S(t,"iframe")?t.contentDocument:(S(t,"template")&&(t=t.content||t),v.merge([],t.childNodes))}},(function(t,e){v.fn[t]=function(n,i){var r=v.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=v.filter(i,r)),this.length>1&&(O[t]||v.uniqueSort(r),R.test(t)&&r.reverse()),this.pushStack(r)}}));var I=/[^\x20\t\r\n\f]+/g;function N(t){return t}function B(t){throw t}function P(t,e,n,i){var r;try{t&&v.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&v.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}v.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return v.each(t.match(I)||[],(function(t,n){e[n]=!0})),e}(t):v.extend({},t);var e,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){v.each(n,(function(n,i){v.isFunction(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==v.type(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return v.each(arguments,(function(t,e){for(var n;(n=v.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?v.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},v.extend({Deferred:function(e){var n=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return v.Deferred((function(e){v.each(n,(function(n,i){var r=v.isFunction(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,r){var o=0;function a(e,n,i,r){return function(){var s=this,c=arguments,l=function(){var t,l;if(!(e<o)){if((t=i.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");l=t&&("object"==typeof t||"function"==typeof t)&&t.then,v.isFunction(l)?r?l.call(t,a(o,n,N,r),a(o,n,B,r)):(o++,l.call(t,a(o,n,N,r),a(o,n,B,r),a(o,n,N,n.notifyWith))):(i!==N&&(s=void 0,c=[t]),(r||n.resolveWith)(s,c))}},u=r?l:function(){try{l()}catch(t){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(t,u.stackTrace),e+1>=o&&(i!==B&&(s=void 0,c=[t]),n.rejectWith(s,c))}};e?u():(v.Deferred.getStackHook&&(u.stackTrace=v.Deferred.getStackHook()),t.setTimeout(u))}}return v.Deferred((function(t){n[0][3].add(a(0,t,v.isFunction(r)?r:N,t.notifyWith)),n[1][3].add(a(0,t,v.isFunction(e)?e:N)),n[2][3].add(a(0,t,v.isFunction(i)?i:B))})).promise()},promise:function(t){return null!=t?v.extend(t,r):r}},o={};return v.each(n,(function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add((function(){i=s}),n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=o.call(arguments),a=v.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?o.call(arguments):n,--e||a.resolveWith(i,r)}};if(e<=1&&(P(t,a.done(s(n)).resolve,a.reject,!e),"pending"===a.state()||v.isFunction(r[n]&&r[n].then)))return a.then();for(;n--;)P(r[n],s(n),a.reject);return a.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&H.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},v.readyException=function(e){t.setTimeout((function(){throw e}))};var j=v.Deferred();function U(){i.removeEventListener("DOMContentLoaded",U),t.removeEventListener("load",U),v.ready()}v.fn.ready=function(t){return j.then(t).catch((function(t){v.readyException(t)})),this},v.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==t&&--v.readyWait>0||j.resolveWith(i,[v]))}}),v.ready.then=j.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(v.ready):(i.addEventListener("DOMContentLoaded",U),t.addEventListener("load",U));var W=function(t,e,n,i,r,o,a){var s=0,c=t.length,l=null==n;if("object"===v.type(n))for(s in r=!0,n)W(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,v.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(v(t),n)})),e))for(;s<c;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):o},V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function z(){this.expando=v.expando+z.uid++}z.uid=1,z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[v.camelCase(e)]=n;else for(i in e)r[v.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][v.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(v.camelCase):(e=v.camelCase(e))in i?[e]:e.match(I)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||v.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!v.isEmptyObject(e)}};var q=new z,Y=new z,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;function X(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(G,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:K.test(t)?JSON.parse(t):t)}(n)}catch(t){}Y.set(t,e,n)}else n=void 0;return n}v.extend({hasData:function(t){return Y.hasData(t)||q.hasData(t)},data:function(t,e,n){return Y.access(t,e,n)},removeData:function(t,e){Y.remove(t,e)},_data:function(t,e,n){return q.access(t,e,n)},_removeData:function(t,e){q.remove(t,e)}}),v.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Y.get(o),1===o.nodeType&&!q.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=v.camelCase(i.slice(5)),X(o,i,r[i]));q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Y.set(this,t)})):W(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=Y.get(o,t))||void 0!==(n=X(o,t))?n:void 0;this.each((function(){Y.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Y.remove(this,t)}))}}),v.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=q.get(t,e),n&&(!i||Array.isArray(n)?i=q.access(t,e,v.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=v.queue(t,e),i=n.length,r=n.shift(),o=v._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){v.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return q.get(t,n)||q.access(t,n,{empty:v.Callbacks("once memory").add((function(){q.remove(t,[e+"queue",n])}))})}}),v.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?v.queue(this[0],t):void 0===e?this:this.each((function(){var n=v.queue(this,t,e);v._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&v.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){v.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=v.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=q.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Z=["Top","Right","Bottom","Left"],tt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&v.contains(t.ownerDocument,t)&&"none"===v.css(t,"display")},et=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function nt(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return v.css(t,e,"")},c=s(),l=n&&n[3]||(v.cssNumber[e]?"":"px"),u=(v.cssNumber[e]||"px"!==l&&+c)&&J.exec(v.css(t,e));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+c||1;do{u/=o=o||".5",v.style(t,e,u+l)}while(o!==(o=s()/c)&&1!==o&&--a)}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var it={};function rt(t){var e,n=t.ownerDocument,i=t.nodeName,r=it[i];return r||(e=n.body.appendChild(n.createElement(i)),r=v.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),it[i]=r,r)}function ot(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&tt(i)&&(r[o]=rt(i))):"none"!==n&&(r[o]="none",q.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}v.fn.extend({show:function(){return ot(this,!0)},hide:function(){return ot(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){tt(this)?v(this).show():v(this).hide()}))}});var at=/^(?:checkbox|radio)$/i,st=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|\/(?:java|ecma)script/i,lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ut(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&S(t,e)?v.merge([t],n):n}function ht(t,e){for(var n=0,i=t.length;n<i;n++)q.set(t[n],"globalEval",!e||q.get(e[n],"globalEval"))}lt.optgroup=lt.option,lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td;var dt,ft,pt=/<|&#?\w+;/;function mt(t,e,n,i,r){for(var o,a,s,c,l,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===v.type(o))v.merge(d,o.nodeType?[o]:o);else if(pt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(st.exec(o)||["",""])[1].toLowerCase(),c=lt[s]||lt._default,a.innerHTML=c[1]+v.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;v.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&v.inArray(o,i)>-1)r&&r.push(o);else if(l=v.contains(o.ownerDocument,o),a=ut(h.appendChild(o),"script"),l&&ht(a),n)for(u=0;o=a[u++];)ct.test(o.type||"")&&n.push(o);return h}dt=i.createDocumentFragment().appendChild(i.createElement("div")),(ft=i.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),dt.appendChild(ft),p.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue;var gt=i.documentElement,vt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yt=/^([^.]*)(?:\.(.+)|)/;function wt(){return!0}function Et(){return!1}function Ct(){try{return i.activeElement}catch(t){}}function $t(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)$t(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Et;else if(!r)return t;return 1===o&&(a=r,r=function(t){return v().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=v.guid++)),t.each((function(){v.event.add(this,e,r,i,n)}))}v.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,f,p,m,g=q.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&v.find.matchesSelector(gt,r),n.guid||(n.guid=v.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==v&&v.event.triggered!==e.type?v.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(I)||[""]).length;l--;)f=m=(s=yt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=v.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=v.event.special[f]||{},u=v.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&v.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),v.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,f,p,m,g=q.hasData(t)&&q.get(t);if(g&&(c=g.events)){for(l=(e=(e||"").match(I)||[""]).length;l--;)if(f=m=(s=yt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=v.event.special[f]||{},d=c[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||v.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)v.event.remove(t,f+e[l],n,i,!0);v.isEmptyObject(c)&&q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=v.event.fix(t),c=new Array(arguments.length),l=(q.get(this,"events")||{})[s.type]||[],u=v.event.special[s.type]||{};for(c[0]=s,e=1;e<arguments.length;e++)c[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=v.event.handlers.call(this,s,l),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((v.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,c))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?v(r,this).index(l)>-1:v.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,c<e.length&&s.push({elem:l,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(v.Event.prototype,t,{enumerable:!0,configurable:!0,get:v.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[v.expando]?t:new v.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S(this,"input"))return this.click(),!1},_default:function(t){return S(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},v.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},v.Event=function(t,e){if(!(this instanceof v.Event))return new v.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?wt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&v.extend(this,e),this.timeStamp=t&&t.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=wt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=wt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=wt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},v.event.addProp),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){v.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||v.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),v.fn.extend({on:function(t,e,n,i){return $t(this,t,e,n,i)},one:function(t,e,n,i){return $t(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,v(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each((function(){v.event.remove(this,t,n,e)}))}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,xt=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/^true\/(.*)/,Tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function _t(t,e){return S(t,"table")&&S(11!==e.nodeType?e:e.firstChild,"tr")&&v(">tbody",t)[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){var e=St.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Dt(t,e){var n,i,r,o,a,s,c,l;if(1===e.nodeType){if(q.hasData(t)&&(o=q.access(t),a=q.set(e,o),l=o.events))for(r in delete a.handle,a.events={},l)for(n=0,i=l[r].length;n<i;n++)v.event.add(e,r,l[r][n]);Y.hasData(t)&&(s=Y.access(t),c=v.extend({},s),Y.set(e,c))}}function Rt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&at.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ot(t,e,n,i){e=a.apply([],e);var r,o,s,c,l,u,h=0,d=t.length,f=d-1,g=e[0],b=v.isFunction(g);if(b||d>1&&"string"==typeof g&&!p.checkClone&&kt.test(g))return t.each((function(r){var o=t.eq(r);b&&(e[0]=g.call(this,r,o.html())),Ot(o,e,n,i)}));if(d&&(o=(r=mt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(c=(s=v.map(ut(r,"script"),Mt)).length;h<d;h++)l=r,h!==f&&(l=v.clone(l,!0,!0),c&&v.merge(s,ut(l,"script"))),n.call(t[h],l,h);if(c)for(u=s[s.length-1].ownerDocument,v.map(s,Ft),h=0;h<c;h++)l=s[h],ct.test(l.type||"")&&!q.access(l,"globalEval")&&v.contains(u,l)&&(l.src?v._evalUrl&&v._evalUrl(l.src):m(l.textContent.replace(Tt,""),u))}return t}function Lt(t,e,n){for(var i,r=e?v.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||v.cleanData(ut(i)),i.parentNode&&(n&&v.contains(i.ownerDocument,i)&&ht(ut(i,"script")),i.parentNode.removeChild(i));return t}v.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),c=v.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||v.isXMLDoc(t)))for(a=ut(s),i=0,r=(o=ut(t)).length;i<r;i++)Rt(o[i],a[i]);if(e)if(n)for(o=o||ut(t),a=a||ut(s),i=0,r=o.length;i<r;i++)Dt(o[i],a[i]);else Dt(t,s);return(a=ut(s,"script")).length>0&&ht(a,!c&&ut(t,"script")),s},cleanData:function(t){for(var e,n,i,r=v.event.special,o=0;void 0!==(n=t[o]);o++)if(V(n)){if(e=n[q.expando]){if(e.events)for(i in e.events)r[i]?v.event.remove(n,i):v.removeEvent(n,i,e.handle);n[q.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),v.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return W(this,(function(t){return void 0===t?v.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ot(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_t(this,t).appendChild(t)}))},prepend:function(){return Ot(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_t(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(v.cleanData(ut(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return v.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!xt.test(t)&&!lt[(st.exec(t)||["",""])[1].toLowerCase()]){t=v.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(v.cleanData(ut(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ot(this,arguments,(function(e){var n=this.parentNode;v.inArray(this,t)<0&&(v.cleanData(ut(this)),n&&n.replaceChild(e,this))}),t)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){v.fn[t]=function(t){for(var n,i=[],r=v(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),v(r[a])[e](n),s.apply(i,n.get());return this.pushStack(i)}}));var It=/^margin/,Nt=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),Bt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};function Pt(t,e,n){var i,r,o,a,s=t.style;return(n=n||Bt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||v.contains(t.ownerDocument,t)||(a=v.style(t,e)),!p.pixelMarginRight()&&Nt.test(a)&&It.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){c.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c.innerHTML="",gt.appendChild(s);var e=t.getComputedStyle(c);n="1%"!==e.top,a="2px"===e.marginLeft,r="4px"===e.width,c.style.marginRight="50%",o="4px"===e.marginRight,gt.removeChild(s),c=null}}var n,r,o,a,s=i.createElement("div"),c=i.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(c),v.extend(p,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),a}}))}();var jt=/^(none|table(?!-c[ea]).+)/,Ut=/^--/,Wt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},zt=["Webkit","Moz","ms"],qt=i.createElement("div").style;function Yt(t){var e=v.cssProps[t];return e||(e=v.cssProps[t]=function(t){if(t in qt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=zt.length;n--;)if((t=zt[n]+e)in qt)return t}(t)||t),e}function Kt(t,e,n){var i=J.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Gt(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=v.css(t,n+Z[o],!0,r)),i?("content"===n&&(a-=v.css(t,"padding"+Z[o],!0,r)),"margin"!==n&&(a-=v.css(t,"border"+Z[o]+"Width",!0,r))):(a+=v.css(t,"padding"+Z[o],!0,r),"padding"!==n&&(a+=v.css(t,"border"+Z[o]+"Width",!0,r)));return a}function Xt(t,e,n){var i,r=Bt(t),o=Pt(t,e,r),a="border-box"===v.css(t,"boxSizing",!1,r);return Nt.test(o)?o:(i=a&&(p.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+Gt(t,e,n||(a?"border":"content"),i,r)+"px")}function Qt(t,e,n,i,r){return new Qt.prototype.init(t,e,n,i,r)}v.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Pt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=v.camelCase(e),c=Ut.test(e),l=t.style;if(c||(e=Yt(s)),a=v.cssHooks[e]||v.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];"string"==(o=typeof n)&&(r=J.exec(n))&&r[1]&&(n=nt(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(v.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,a,s=v.camelCase(e);return Ut.test(e)||(e=Yt(s)),(a=v.cssHooks[e]||v.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Pt(t,e,i)),"normal"===r&&e in Vt&&(r=Vt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),v.each(["height","width"],(function(t,e){v.cssHooks[e]={get:function(t,n,i){if(n)return!jt.test(v.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Xt(t,e,i):et(t,Wt,(function(){return Xt(t,e,i)}))},set:function(t,n,i){var r,o=i&&Bt(t),a=i&&Gt(t,e,i,"border-box"===v.css(t,"boxSizing",!1,o),o);return a&&(r=J.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=v.css(t,e)),Kt(0,n,a)}}})),v.cssHooks.marginLeft=Ht(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Pt(t,"marginLeft"))||t.getBoundingClientRect().left-et(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),v.each({margin:"",padding:"",border:"Width"},(function(t,e){v.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Z[i]+e]=o[i]||o[i-2]||o[0];return r}},It.test(t)||(v.cssHooks[t+e].set=Kt)})),v.fn.extend({css:function(t,e){return W(this,(function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Bt(t),r=e.length;a<r;a++)o[e[a]]=v.css(t,e[a],!1,i);return o}return void 0!==n?v.style(t,e,n):v.css(t,e)}),t,e,arguments.length>1)}}),v.Tween=Qt,Qt.prototype={constructor:Qt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||v.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(v.cssNumber[n]?"":"px")},cur:function(){var t=Qt.propHooks[this.prop];return t&&t.get?t.get(this):Qt.propHooks._default.get(this)},run:function(t){var e,n=Qt.propHooks[this.prop];return this.options.duration?this.pos=e=v.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Qt.propHooks._default.set(this),this}},Qt.prototype.init.prototype=Qt.prototype,Qt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=v.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){v.fx.step[t.prop]?v.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[v.cssProps[t.prop]]&&!v.cssHooks[t.prop]?t.elem[t.prop]=t.now:v.style(t.elem,t.prop,t.now+t.unit)}}},Qt.propHooks.scrollTop=Qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},v.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},v.fx=Qt.prototype.init,v.fx.step={};var Jt,Zt,te=/^(?:toggle|show|hide)$/,ee=/queueHooks$/;function ne(){Zt&&(!1===i.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ne):t.setTimeout(ne,v.fx.interval),v.fx.tick())}function ie(){return t.setTimeout((function(){Jt=void 0})),Jt=v.now()}function re(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Z[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function oe(t,e,n){for(var i,r=(ae.tweeners[e]||[]).concat(ae.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ae(t,e,n){var i,r,o=0,a=ae.prefilters.length,s=v.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var e=Jt||ie(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(i);return s.notifyWith(t,[l,i,n]),i<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:v.extend({},e),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},n),originalProperties:e,originalOptions:n,startTime:Jt||ie(),duration:n.duration,tweens:[],createTween:function(e,n){var i=v.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),u=l.props;for(function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=v.camelCase(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=v.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,l.opts.specialEasing);o<a;o++)if(i=ae.prefilters[o].call(l,t,u,l.opts))return v.isFunction(i.stop)&&(v._queueHooks(l.elem,l.opts.queue).stop=v.proxy(i.stop,i)),i;return v.map(u,oe,l),v.isFunction(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),v.fx.timer(v.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}v.Animation=v.extend(ae,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return nt(n.elem,t,J.exec(e),n),n}]},tweener:function(t,e){v.isFunction(t)?(e=t,t=["*"]):t=t.match(I);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ae.tweeners[n]=ae.tweeners[n]||[],ae.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,c,l,u,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&tt(t),g=q.get(t,"fxshow");for(i in n.queue||(null==(a=v._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,v.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[i],te.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||v.style(t,i)}if((c=!v.isEmptyObject(e))||!v.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=q.get(t,"display")),"none"===(u=v.css(t,"display"))&&(l?u=l:(ot([t],!0),l=t.style.display||l,u=v.css(t,"display"),ot([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===v.css(t,"float")&&(c||(d.done((function(){p.display=l})),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),c=!1,f)c||(g?"hidden"in g&&(m=g.hidden):g=q.access(t,"fxshow",{display:l}),o&&(g.hidden=!m),m&&ot([t],!0),d.done((function(){for(i in m||ot([t]),q.remove(t,"fxshow"),f)v.style(t,i,f[i])}))),c=oe(m?g[i]:0,i,d),i in g||(g[i]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?ae.prefilters.unshift(t):ae.prefilters.push(t)}}),v.speed=function(t,e,n){var i=t&&"object"==typeof t?v.extend({},t):{complete:n||!n&&e||v.isFunction(t)&&t,duration:t,easing:n&&e||e&&!v.isFunction(e)&&e};return v.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in v.fx.speeds?i.duration=v.fx.speeds[i.duration]:i.duration=v.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v.isFunction(i.old)&&i.old.call(this),i.queue&&v.dequeue(this,i.queue)},i},v.fn.extend({fadeTo:function(t,e,n,i){return this.filter(tt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=v.isEmptyObject(t),o=v.speed(e,n,i),a=function(){var e=ae(this,v.extend({},t),o);(r||q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=v.timers,a=q.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ee.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||v.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=v.timers,a=i?i.length:0;for(n.finish=!0,v.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),v.each(["toggle","show","hide"],(function(t,e){var n=v.fn[e];v.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(re(e,!0),t,i,r)}})),v.each({slideDown:re("show"),slideUp:re("hide"),slideToggle:re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){v.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),v.timers=[],v.fx.tick=function(){var t,e=0,n=v.timers;for(Jt=v.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||v.fx.stop(),Jt=void 0},v.fx.timer=function(t){v.timers.push(t),v.fx.start()},v.fx.interval=13,v.fx.start=function(){Zt||(Zt=!0,ne())},v.fx.stop=function(){Zt=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(e,n){return e=v.fx&&v.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}}))},function(){var t=i.createElement("input"),e=i.createElement("select").appendChild(i.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=i.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var se,ce=v.expr.attrHandle;v.fn.extend({attr:function(t,e){return W(this,v.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){v.removeAttr(this,t)}))}}),v.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?v.prop(t,e,n):(1===o&&v.isXMLDoc(t)||(r=v.attrHooks[e.toLowerCase()]||(v.expr.match.bool.test(e)?se:void 0)),void 0!==n?null===n?void v.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=v.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&S(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(I);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),se={set:function(t,e,n){return!1===e?v.removeAttr(t,n):t.setAttribute(n,n),n}},v.each(v.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ce[e]||v.find.attr;ce[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ce[a],ce[a]=r,r=null!=n(t,e,i)?a:null,ce[a]=o),r}}));var le=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;function he(t){return(t.match(I)||[]).join(" ")}function de(t){return t.getAttribute&&t.getAttribute("class")||""}v.fn.extend({prop:function(t,e){return W(this,v.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[v.propFix[t]||t]}))}}),v.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&v.isXMLDoc(t)||(e=v.propFix[e]||e,r=v.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=v.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(v.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){v.propFix[this.toLowerCase()]=this})),v.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,c=0;if(v.isFunction(t))return this.each((function(e){v(this).addClass(t.call(this,e,de(this)))}));if("string"==typeof t&&t)for(e=t.match(I)||[];n=this[c++];)if(r=de(n),i=1===n.nodeType&&" "+he(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=he(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,c=0;if(v.isFunction(t))return this.each((function(e){v(this).removeClass(t.call(this,e,de(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(I)||[];n=this[c++];)if(r=de(n),i=1===n.nodeType&&" "+he(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=he(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):v.isFunction(t)?this.each((function(n){v(this).toggleClass(t.call(this,n,de(this),e),e)})):this.each((function(){var e,i,r,o;if("string"===n)for(i=0,r=v(this),o=t.match(I)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=de(this))&&q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+he(de(n))+" ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g;v.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v.isFunction(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,v(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=v.map(r,(function(t){return null==t?"":t+""}))),(e=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=v.valHooks[r.type]||v.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(fe,""):null==n?"":n:void 0}}),v.extend({valHooks:{option:{get:function(t){var e=v.find.attr(t,"value");return null!=e?e:he(v.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(e=v(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=v.makeArray(e),a=r.length;a--;)((i=r[a]).selected=v.inArray(v.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),v.each(["radio","checkbox"],(function(){v.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=v.inArray(v(t).val(),e)>-1}},p.checkOn||(v.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var pe=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(e,n,r,o){var a,s,c,l,u,d,f,p=[r||i],m=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(s=c=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!pe.test(m+v.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[v.expando]?e:new v.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:v.makeArray(n,[e]),f=v.event.special[m]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!v.isWindow(r)){for(l=f.delegateType||m,pe.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(r.ownerDocument||i)&&p.push(c.defaultView||c.parentWindow||t)}for(a=0;(s=p[a++])&&!e.isPropagationStopped();)e.type=a>1?l:f.bindType||m,(d=(q.get(s,"events")||{})[e.type]&&q.get(s,"handle"))&&d.apply(s,n),(d=u&&s[u])&&d.apply&&V(s)&&(e.result=d.apply(s,n),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),n)||!V(r)||u&&v.isFunction(r[m])&&!v.isWindow(r)&&((c=r[u])&&(r[u]=null),v.event.triggered=m,r[m](),v.event.triggered=void 0,c&&(r[u]=c)),e.result}},simulate:function(t,e,n){var i=v.extend(new v.Event,n,{type:t,isSimulated:!0});v.event.trigger(i,null,e)}}),v.fn.extend({trigger:function(t,e){return this.each((function(){v.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return v.event.trigger(t,e,n,!0)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){v.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),v.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),p.focusin="onfocusin"in t,p.focusin||v.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){v.event.simulate(e,t.target,v.event.fix(t))};v.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=q.access(i,e);r||i.addEventListener(t,n,!0),q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=q.access(i,e)-1;r?q.access(i,e,r):(i.removeEventListener(t,n,!0),q.remove(i,e))}}}));var me=t.location,ge=v.now(),ve=/\?/;v.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+e),n};var be=/\[\]$/,ye=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,n,i){var r;if(Array.isArray(e))v.each(e,(function(e,r){n||be.test(t)?i(t,r):Ce(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==v.type(e))i(t,e);else for(r in e)Ce(t+"["+r+"]",e[r],n,i)}v.param=function(t,e){var n,i=[],r=function(t,e){var n=v.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!v.isPlainObject(t))v.each(t,(function(){r(this.name,this.value)}));else for(n in t)Ce(n,t[n],e,r);return i.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=v.prop(this,"elements");return t?v.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!v(this).is(":disabled")&&Ee.test(this.nodeName)&&!we.test(t)&&(this.checked||!at.test(t))})).map((function(t,e){var n=v(this).val();return null==n?null:Array.isArray(n)?v.map(n,(function(t){return{name:e.name,value:t.replace(ye,"\r\n")}})):{name:e.name,value:n.replace(ye,"\r\n")}})).get()}});var $e=/%20/g,Ae=/#.*$/,xe=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Se=/^(?:GET|HEAD)$/,Te=/^\/\//,_e={},Me={},Fe="*/".concat("*"),De=i.createElement("a");function Re(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(I)||[];if(v.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Oe(t,e,n,i){var r={},o=t===Me;function a(s){var c;return r[s]=!0,v.each(t[s]||[],(function(t,s){var l=s(e,n,i);return"string"!=typeof l||o||r[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),a(l),!1)})),c}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Le(t,e){var n,i,r=v.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&v.extend(!0,t,i),t}De.href=me.href,v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Le(Le(t,v.ajaxSettings),e):Le(v.ajaxSettings,t)},ajaxPrefilter:Re(_e),ajaxTransport:Re(Me),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,c,l,u,h,d,f,p=v.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?v(m):v.event,b=v.Deferred(),y=v.Callbacks("once memory"),w=p.statusCode||{},E={},C={},$="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=ke.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(t,e){return null==u&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,E[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)A.always(t[A.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||$;return r&&r.abort(e),x(0,e),this}};if(b.promise(A),p.url=((e||p.url||me.href)+"").replace(Te,me.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(I)||[""],null==p.crossDomain){l=i.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=De.protocol+"//"+De.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=v.param(p.data,p.traditional)),Oe(_e,p,n,A),u)return A;for(d in(h=v.event&&p.global)&&0==v.active++&&v.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Se.test(p.type),o=p.url.replace(Ae,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace($e,"+")):(f=p.url.slice(o.length),p.data&&(o+=(ve.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(xe,"$1"),f=(ve.test(o)?"&":"?")+"_="+ge+++f),p.url=o+f),p.ifModified&&(v.lastModified[o]&&A.setRequestHeader("If-Modified-Since",v.lastModified[o]),v.etag[o]&&A.setRequestHeader("If-None-Match",v.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&A.setRequestHeader("Content-Type",p.contentType),A.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)A.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,A,p)||u))return A.abort();if($="abort",y.add(p.complete),A.done(p.success),A.fail(p.error),r=Oe(Me,p,n,A)){if(A.readyState=1,h&&g.trigger("ajaxSend",[A,p]),u)return A;p.async&&p.timeout>0&&(c=t.setTimeout((function(){A.abort("timeout")}),p.timeout));try{u=!1,r.send(E,x)}catch(t){if(u)throw t;x(-1,t)}}else x(-1,"No Transport");function x(e,n,i,s){var l,d,f,E,C,$=n;u||(u=!0,c&&t.clearTimeout(c),r=void 0,a=s||"",A.readyState=e>0?4:0,l=e>=200&&e<300||304===e,i&&(E=function(t,e,n){for(var i,r,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(p,A,i)),E=function(t,e,n,i){var r,o,a,s,c,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(p,E,A,l),l?(p.ifModified&&((C=A.getResponseHeader("Last-Modified"))&&(v.lastModified[o]=C),(C=A.getResponseHeader("etag"))&&(v.etag[o]=C)),204===e||"HEAD"===p.type?$="nocontent":304===e?$="notmodified":($=E.state,d=E.data,l=!(f=E.error))):(f=$,!e&&$||($="error",e<0&&(e=0))),A.status=e,A.statusText=(n||$)+"",l?b.resolveWith(m,[d,$,A]):b.rejectWith(m,[A,$,f]),A.statusCode(w),w=void 0,h&&g.trigger(l?"ajaxSuccess":"ajaxError",[A,p,l?d:f]),y.fireWith(m,[A,$]),h&&(g.trigger("ajaxComplete",[A,p]),--v.active||v.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,n){return v.get(t,e,n,"json")},getScript:function(t,e){return v.get(t,void 0,e,"script")}}),v.each(["get","post"],(function(t,e){v[e]=function(t,n,i,r){return v.isFunction(n)&&(r=r||i,i=n,n=void 0),v.ajax(v.extend({url:t,type:e,dataType:r,data:n,success:i},v.isPlainObject(t)&&t))}})),v._evalUrl=function(t){return v.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},v.fn.extend({wrapAll:function(t){var e;return this[0]&&(v.isFunction(t)&&(t=t.call(this[0])),e=v(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v.isFunction(t)?this.each((function(e){v(this).wrapInner(t.call(this,e))})):this.each((function(){var e=v(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v.isFunction(t);return this.each((function(n){v(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){v(this).replaceWith(this.childNodes)})),this}}),v.expr.pseudos.hidden=function(t){return!v.expr.pseudos.visible(t)},v.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ie={0:200,1223:204},Ne=v.ajaxSettings.xhr();p.cors=!!Ne&&"withCredentials"in Ne,p.ajax=Ne=!!Ne,v.ajaxTransport((function(e){var n,i;if(p.cors||Ne&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ie[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout((function(){n&&i()}))},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),v.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return v.globalEval(t),t}}}),v.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),v.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(r,o){e=v("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Be,Pe=[],He=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||v.expando+"_"+ge++;return this[t]=!0,t}}),v.ajaxPrefilter("json jsonp",(function(e,n,i){var r,o,a,s=!1!==e.jsonp&&(He.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&He.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(He,"$1"+r):!1!==e.jsonp&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||v.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always((function(){void 0===o?v(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(r)),a&&v.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),p.createHTMLDocument=((Be=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Be.childNodes.length),v.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((r=(e=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,e.head.appendChild(r)):e=i),a=!n&&[],(o=T.exec(t))?[e.createElement(o[1])]:(o=mt([t],e,a),a&&a.length&&v(a).remove(),v.merge([],o.childNodes)));var r,o,a},v.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=he(t.slice(s)),t=t.slice(0,s)),v.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&v.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(i?v("<div>").append(v.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){v.fn[e]=function(t){return this.on(e,t)}})),v.expr.pseudos.animated=function(t){return v.grep(v.timers,(function(e){return t===e.elem})).length},v.offset={setOffset:function(t,e,n){var i,r,o,a,s,c,l=v.css(t,"position"),u=v(t),h={};"static"===l&&(t.style.position="relative"),s=u.offset(),o=v.css(t,"top"),c=v.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),v.isFunction(e)&&(e=e.call(t,n,v.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):u.css(h)}},v.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){v.offset.setOffset(this,t,e)}));var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),n=(e=o.ownerDocument).documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===v.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),S(t[0],"html")||(i=t.offset()),i={top:i.top+v.css(t[0],"borderTopWidth",!0),left:i.left+v.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-v.css(n,"marginTop",!0),left:e.left-i.left-v.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===v.css(t,"position");)t=t.offsetParent;return t||gt}))}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;v.fn[t]=function(i){return W(this,(function(t,i,r){var o;if(v.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),v.each(["top","left"],(function(t,e){v.cssHooks[e]=Ht(p.pixelPosition,(function(t,n){if(n)return n=Pt(t,e),Nt.test(n)?v(t).position()[e]+"px":n}))})),v.each({Height:"height",Width:"width"},(function(t,e){v.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){v.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return W(this,(function(e,n,r){var o;return v.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?v.css(e,n,s):v.style(e,n,r,s)}),e,a?r:void 0,a)}}))})),v.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),v.holdReady=function(t){t?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=S,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return v}));var je=t.jQuery,Ue=t.$;return v.noConflict=function(e){return t.$===v&&(t.$=Ue),e&&t.jQuery===v&&(t.jQuery=je),v},e||(t.jQuery=t.$=v),v})),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=arguments[0],a=arguments[1],s="["+(t?t+":":"")+r+"] ",c=ht(arguments,2).map((function(t){return qt(t,o.objectMaxDepth)}));for(s+=a.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1);return e<c.length?c[e]:t})),s+="\nhttp://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+r,i=0,n="?";i<c.length;i++,n="&")s+=n+"p"+i+"="+encodeURIComponent(c[i]);return new e(s)}}var n=/^\/(.+)\/([a-z]*)$/,i="validity",r=Object.prototype.hasOwnProperty,o={objectMaxDepth:5};function a(t){if(!H(t))return o;P(t.objectMaxDepth)&&(o.objectMaxDepth=s(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function s(t){return W(t)&&t>0}var c=function(t){return U(t)?t.toLowerCase():t},l=function(t){return U(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(c=function(t){return U(t)?t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(32|t.charCodeAt(0))})):t},l=function(t){return U(t)?t.replace(/[a-z]/g,(function(t){return String.fromCharCode(-33&t.charCodeAt(0))})):t});var u,h,d,f,p=[].slice,m=[].splice,g=[].push,v=Object.prototype.toString,b=Object.getPrototypeOf,y=e("ng"),w=t.angular||(t.angular={}),E=0;function C(t){if(null==t||K(t))return!1;if(z(t)||U(t)||h&&t instanceof h)return!0;var e="length"in Object(t)&&t.length;return W(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function $(t,e,n){var i,o;if(t)if(q(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(z(t)||C(t)){var a="object"!=typeof t;for(i=0,o=t.length;i<o;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==$)t.forEach(e,n,t);else if(j(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)r.call(t,i)&&e.call(n,t[i],i,t);return t}function A(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function x(t){return function(e,n){t(n,e)}}function k(){return++E}function S(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function T(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var a=e[r];if(H(a)||q(a))for(var s=Object.keys(a),c=0,l=s.length;c<l;c++){var u=s[c],h=a[u];n&&H(h)?V(h)?t[u]=new Date(h.valueOf()):Y(h)?t[u]=new RegExp(h):h.nodeName?t[u]=h.cloneNode(!0):et(h)?t[u]=h.clone():(H(t[u])||(t[u]=z(h)?[]:{}),T(t[u],[h],!0)):t[u]=h}}return S(t,i),t}function _(t){return T(t,p.call(arguments,1),!1)}function M(t){return T(t,p.call(arguments,1),!0)}function F(t){return parseInt(t,10)}u=t.document.documentMode;var D=Number.isNaN||function(t){return t!=t};function R(t,e){return _(Object.create(t),e)}function O(){}function L(t){return t}function I(t){return function(){return t}}function N(t){return q(t.toString)&&t.toString!==v}function B(t){return void 0===t}function P(t){return void 0!==t}function H(t){return null!==t&&"object"==typeof t}function j(t){return null!==t&&"object"==typeof t&&!b(t)}function U(t){return"string"==typeof t}function W(t){return"number"==typeof t}function V(t){return"[object Date]"===v.call(t)}O.$inject=[],L.$inject=[];var z=Array.isArray;function q(t){return"function"==typeof t}function Y(t){return"[object RegExp]"===v.call(t)}function K(t){return t&&t.window===t}function G(t){return t&&t.$evalAsync&&t.$watch}function X(t){return"boolean"==typeof t}function Q(t){return t&&q(t.then)}var J=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Z=function(t){return U(t)?t.trim():t},tt=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function et(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function nt(t){return c(t.nodeName||t[0]&&t[0].nodeName)}function it(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function rt(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function ot(t,e,n){var i,o,a=[],c=[];if(n=s(n)?n:NaN,e){if((o=e)&&W(o.length)&&J.test(v.call(o))||(i=e,"[object ArrayBuffer]"===v.call(i)))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw y("cpi","Can't copy! Source and destination are identical.");return z(e)?e.length=0:$(e,(function(t,n){"$$hashKey"!==n&&delete e[n]})),a.push(t),c.push(e),l(t,e,n)}return u(t,n);function l(t,e,n){if(--n<0)return"...";var i,o=e.$$hashKey;if(z(t))for(var a=0,s=t.length;a<s;a++)e.push(u(t[a],n));else if(j(t))for(i in t)e[i]=u(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=u(t[i],n));else for(i in t)r.call(t,i)&&(e[i]=u(t[i],n));return S(e,o),e}function u(t,e){if(!H(t))return t;var n=a.indexOf(t);if(-1!==n)return c[n];if(K(t)||G(t))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=function(t){switch(v.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(u(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(q(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===r&&(r=z(t)?[]:Object.create(b(t)),i=!0),a.push(t),c.push(r),i?l(t,r,e):r}}function at(t,e){return t===e||t!=t&&e!=e}function st(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o===typeof e&&"object"===o){if(!z(t)){if(V(t))return!!V(e)&&at(t.getTime(),e.getTime());if(Y(t))return!!Y(e)&&t.toString()===e.toString();if(G(t)||G(e)||K(t)||K(e)||z(e)||V(e)||Y(e))return!1;for(i in r=Bt(),t)if("$"!==i.charAt(0)&&!q(t[i])){if(!st(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&P(e[i])&&!q(e[i]))return!1;return!0}if(!z(e))return!1;if((n=t.length)===e.length){for(i=0;i<n;i++)if(!st(t[i],e[i]))return!1;return!0}}return!1}var ct=function(){if(!P(ct.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ct.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ct.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ct.rules},lt=function(){if(P(lt.name_))return lt.name_;var e,n,i,r,o=xt.length;for(n=0;n<o;++n)if(i=xt[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return lt.name_=r};function ut(t,e,n){return t.concat(p.call(e,n))}function ht(t,e){return p.call(t,e||0)}function dt(t,e){var n=arguments.length>2?ht(arguments,2):[];return!q(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,ut(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function ft(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:K(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":G(n)&&(i="$SCOPE"),i}function pt(t,e){if(!B(t))return W(e)||(e=e?2:null),JSON.stringify(t,ft,e)}function mt(t){return U(t)?JSON.parse(t):t}var gt=/:/g;function vt(t,e){t=t.replace(gt,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return D(n)?e:n}function bt(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,n*(vt(e,i)-i))}function yt(t){t=h(t).clone();try{t.empty()}catch(t){}var e=h("<div>").append(t).html();try{return t[0].nodeType===jt?c(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(t,e){return"<"+c(e)}))}catch(t){return c(e)}}function wt(t){try{return decodeURIComponent(t)}catch(t){}}function Et(t){var e={};return $((t||"").split("&"),(function(t){var n,i,o;t&&(i=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(i=t.substring(0,n),o=t.substring(n+1)),P(i=wt(i))&&(o=!P(o)||wt(o),r.call(e,i)?z(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o))})),e}function Ct(t){var e=[];return $(t,(function(t,n){z(t)?$(t,(function(t){e.push(At(n,!0)+(!0===t?"":"="+At(t,!0)))})):e.push(At(n,!0)+(!0===t?"":"="+At(t,!0)))})),e.length?e.join("&"):""}function $t(t){return At(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function At(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var xt=["ng-","data-ng-","ng:","x-ng-"],kt=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every((function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document);function St(e,n,i){H(i)||(i={}),i=_({strictDi:!1},i);var r=function(){if((e=h(e)).injector()){var r=e[0]===t.document?"document":yt(e);throw y("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Ke(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply((function(){e.data("$injector",i),n(e)(t)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(t&&o.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(o,"")),t&&!a.test(t.name))return r();t.name=t.name.replace(a,""),w.resumeBootstrap=function(t){return $(t,(function(t){n.push(t)})),r()},q(w.resumeDeferredBootstrap)&&w.resumeDeferredBootstrap()}function Tt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function _t(t){var e=w.element(t).injector();if(!e)throw y("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Mt=/[A-Z]/g;function Ft(t,e){return e=e||"_",t.replace(Mt,(function(t,n){return(n?e:"")+t.toLowerCase()}))}var Dt=!1;function Rt(t,e,n){if(!t)throw y("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function Ot(t,e,n){return n&&z(t)&&(t=t[t.length-1]),Rt(q(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Lt(t,e){if("hasOwnProperty"===t)throw y("badname","hasOwnProperty is not a valid {0} name",e)}function It(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;s<a;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&q(t)?dt(o,t):t}function Nt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=h(p.call(t,0,r))),e.push(n));return e||t}function Bt(){return Object.create(null)}function Pt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!N(t)||z(t)||V(t)?pt(t):t.toString()}return t}var Ht=1,jt=3,Ut=8,Wt=9,Vt=11;function zt(t,e){if(z(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(H(t))for(var r in e=e||{},t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e||t}function qt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):B(t)?"undefined":"string"!=typeof t?function(t,e){var n=[];return s(e)&&(t=ot(t,null,e)),JSON.stringify(t,(function(t,e){if(H(e=ft(t,e))){if(n.indexOf(e)>=0)return"...";n.push(e)}return e}))}(t,e):t}var Yt={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};he.expando="ng339";var Kt=he.cache={},Gt=1;he._data=function(t){return this.cache[t[this.expando]]||{}};var Xt=/-([a-z])/g,Qt=/^-ms-/,Jt={mouseleave:"mouseout",mouseenter:"mouseover"},Zt=e("jqLite");function te(t,e){return e.toUpperCase()}function ee(t){return t.replace(Xt,te)}var ne=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ie=/<|&#?\w+;/,re=/<([\w:-]+)/,oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ae={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(t){return!ie.test(t)}function ce(t){var e=t.nodeType;return e===Ht||!e||e===Wt}function le(t,e){var n,i,r,o,a=e.createDocumentFragment(),s=[];if(se(t))s.push(e.createTextNode(t));else{for(n=a.appendChild(e.createElement("div")),i=(re.exec(t)||["",""])[1].toLowerCase(),r=ae[i]||ae._default,n.innerHTML=r[1]+t.replace(oe,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;s=ut(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",$(s,(function(t){a.appendChild(t)})),a}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td;var ue=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function he(e){if(e instanceof he)return e;var n,i,r,o;if(U(e)&&(e=Z(e),n=!0),!(this instanceof he)){if(n&&"<"!==e.charAt(0))throw Zt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new he(e)}n?Ee(this,(i=e,r=r||t.document,(o=ne.exec(i))?[r.createElement(o[1])]:(o=le(i,r))?o.childNodes:[])):q(e)?ke(e):Ee(this,e)}function de(t){return t.cloneNode(!0)}function fe(t,e){!e&&ce(t)&&h.cleanData([t]),t.querySelectorAll&&h.cleanData(t.querySelectorAll("*"))}function pe(t,e,n,i){if(P(i))throw Zt("offargs","jqLite#off() does not support the `selector` argument");var r=ge(t),o=r&&r.events,a=r&&r.handle;if(a)if(e){var s=function(e){var i=o[e];P(n)&&rt(i||[],n),P(n)&&i&&i.length>0||(t.removeEventListener(e,a),delete o[e])};$(e.split(" "),(function(t){s(t),Jt[t]&&s(Jt[t])}))}else for(e in o)"$destroy"!==e&&t.removeEventListener(e,a),delete o[e]}function me(t,e){var n=t.ng339,i=n&&Kt[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),pe(t)),delete Kt[n],t.ng339=void 0}}function ge(t,e){var n=t.ng339,i=n&&Kt[n];return e&&!i&&(t.ng339=n=++Gt,i=Kt[n]={events:{},data:{},handle:void 0}),i}function ve(t,e,n){if(ce(t)){var i,r=P(n),o=!r&&e&&!H(e),a=!e,s=ge(t,!o),c=s&&s.data;if(r)c[ee(e)]=n;else{if(a)return c;if(o)return c&&c[ee(e)];for(i in e)c[ee(i)]=e[i]}}}function be(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function ye(t,e){e&&t.setAttribute&&$(e.split(" "),(function(e){t.setAttribute("class",Z((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Z(e)+" "," ")))}))}function we(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");$(e.split(" "),(function(t){t=Z(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")})),t.setAttribute("class",Z(n))}}function Ee(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ce(t,e){return $e(t,"$"+(e||"ngController")+"Controller")}function $e(t,e,n){t.nodeType===Wt&&(t=t.documentElement);for(var i=z(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(P(n=h.data(t,i[r])))return n;t=t.parentNode||t.nodeType===Vt&&t.host}}function Ae(t){for(fe(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function xe(t,e){e||fe(t);var n=t.parentNode;n&&n.removeChild(t)}function ke(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}var Se=he.prototype={ready:ke,toString:function(){var t=[];return $(this,(function(e){t.push(""+e)})),"["+t.join(", ")+"]"},eq:function(t){return h(t>=0?this[t]:this[this.length+t])},length:0,push:g,sort:[].sort,splice:[].splice},Te={};$("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(t){Te[c(t)]=t}));var _e={};$("input,select,option,textarea,button,form,details".split(","),(function(t){_e[t]=!0}));var Me={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Fe(t,e){var n=Te[e.toLowerCase()];return n&&_e[nt(t)]&&n}function De(t,e,n){n.call(t,e)}function Re(t,e,n){var i=e.relatedTarget;i&&(i===t||ue.call(t,i))||n.call(t,e)}function Oe(){this.$get=function(){return _(he,{hasClass:function(t,e){return t.attr&&(t=t[0]),be(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),we(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),ye(t,e)}})}}function Le(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return"function"===i||"object"===i&&null!==t?t.$$hashKey=i+":"+(e||k)():i+":"+t}$({data:ve,removeData:me,hasData:function(t){for(var e in Kt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)me(t[e])}},(function(t,e){he[e]=t})),$({data:ve,inheritedData:$e,scope:function(t){return h.data(t,"$scope")||$e(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return h.data(t,"$isolateScope")||h.data(t,"$isolateScopeNoTemplate")},controller:Ce,injector:function(t){return $e(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:be,css:function(t,e,n){if(e=function(t){return ee(t.replace(Qt,"ms-"))}(e),!P(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i,r=t.nodeType;if(r!==jt&&2!==r&&r!==Ut&&t.getAttribute){var o=c(e),a=Te[o];if(!P(n))return i=t.getAttribute(e),a&&null!==i&&(i=o),null===i?void 0:i;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!P(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(B(e)){var n=t.nodeType;return n===Ht||n===jt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(B(e)){if(t.multiple&&"select"===nt(t)){var n=[];return $(t.options,(function(t){t.selected&&n.push(t.value||t.text)})),n}return t.value}t.value=e},html:function(t,e){if(B(e))return t.innerHTML;fe(t,!0),t.innerHTML=e},empty:Ae},(function(t,e){he.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Ae&&B(2===t.length&&t!==be&&t!==Ce?e:n)){if(H(e)){for(i=0;i<o;i++)if(t===ve)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=B(a)?Math.min(o,1):o,c=0;c<s;c++){var l=t(this[c],e,n);a=a?a+l:l}return a}for(i=0;i<o;i++)t(this[i],e,n);return this}})),$({removeData:me,on:function(t,e,n,i){if(P(i))throw Zt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ce(t)){var r=ge(t,!0),o=r.events,a=r.handle;a||(a=r.handle=function(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(B(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||De;o>1&&(r=zt(r));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(t,n,r[c])}};return n.elem=t,n}(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],c=s.length,l=function(e,i,r){var s=o[e];s||((s=o[e]=[]).specialHandlerWrapper=i,"$destroy"===e||r||t.addEventListener(e,a)),s.push(n)};c--;)e=s[c],Jt[e]?(l(Jt[e],Re),l(e,void 0,!0)):l(e)}},off:pe,one:function(t,e,n){(t=h(t)).on(e,(function i(){t.off(e,n),t.off(e,i)})),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;fe(t),$(new he(e),(function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e}))},children:function(t){var e=[];return $(t.childNodes,(function(t){t.nodeType===Ht&&e.push(t)})),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Ht||n===Vt)for(var i=0,r=(e=new he(e)).length;i<r;i++){var o=e[i];t.appendChild(o)}},prepend:function(t,e){if(t.nodeType===Ht){var n=t.firstChild;$(new he(e),(function(e){t.insertBefore(e,n)}))}},wrap:function(t,e){var n,i,r;n=t,i=h(e).eq(0).clone()[0],(r=n.parentNode)&&r.replaceChild(i,n),i.appendChild(n)},remove:xe,detach:function(t){xe(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i)for(var r=0,o=(e=new he(e)).length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:we,removeClass:ye,toggleClass:function(t,e,n){e&&$(e.split(" "),(function(e){var i=n;B(i)&&(i=!be(t,e)),(i?we:ye)(t,e)}))},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Vt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:de,triggerHandler:function(t,e,n){var i,r,o,a=e.type||e,s=ge(t),c=s&&s.events,l=c&&c[a];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:O,type:a,target:t},e.type&&(i=_(i,e)),r=zt(l),o=n?[i].concat(n):[i],$(r,(function(e){i.isImmediatePropagationStopped()||e.apply(t,o)})))}},(function(t,e){he.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;o<a;o++)B(r)?P(r=t(this[o],e,n,i))&&(r=h(r)):Ee(r,t(this[o],e,n,i));return P(r)?r:this}})),he.prototype.bind=he.prototype.on,he.prototype.unbind=he.prototype.off;var Ie=Object.create(null);function Ne(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Ne.prototype={_idx:function(t){return t===this._lastKey||(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return D(t)?Ie:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Be=Ne,Pe=[function(){this.$get=[function(){return Be}]}],He=/^([^(]+?)=>/,je=/^[^(]*\(\s*([^)]*)\)/m,Ue=/,/,We=/^\s*(_?)(\S+?)\1\s*$/,Ve=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ze=e("$injector");function qe(t){return Function.prototype.toString.call(t)}function Ye(t){var e=qe(t).replace(Ve,"");return e.match(He)||e.match(je)}function Ke(t,e){e=!0===e;var n={},i="Provider",r=[],o=new Be,a={$provide:{provider:p(m),factory:p(v),service:p((function(t,e){return v(t,["$injector",function(t){return t.instantiate(e)}])})),value:p((function(t,e){return v(t,I(e),!1)})),constant:p((function(t,e){Lt(t,"constant"),a[t]=e,c[t]=e})),decorator:function(t,e){var n=s.get(t+i),r=n.$get;n.$get=function(){var t=h.invoke(r,n);return h.invoke(e,null,{$delegate:t})}}}},s=a.$injector=b(a,(function(t,e){throw w.isString(e)&&r.push(e),ze("unpr","Unknown provider: {0}",r.join(" <- "))})),c={},l=b(c,(function(t,e){var n=s.get(t+i,e);return h.invoke(n.$get,n,void 0,t)})),h=l;a["$injector"+i]={$get:I(l)},h.modules=s.modules=Bt();var d=function t(e){Rt(B(e)||z(e),"modulesToLoad","not an array");var n,i=[];return $(e,(function(e){if(!o.get(e)){o.set(e,!0);try{U(e)?(n=f(e),h.modules[e]=n,i=i.concat(t(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):q(e)||z(e)?i.push(s.invoke(e)):Ot(e,"module")}catch(t){throw z(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ze("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=s.get(i[0]);r[i[1]].apply(r,i[2])}}})),i}(t);return(h=l.get("$injector")).strictDi=e,$(d,(function(t){t&&h.invoke(t)})),h;function p(t){return function(e,n){if(!H(e))return t(e,n);$(e,x(t))}}function m(t,e){if(Lt(t,"service"),(q(e)||z(e))&&(e=s.instantiate(e)),!e.$get)throw ze("pget","Provider '{0}' must define $get factory method.",t);return a[t+i]=e}function g(t,e){return function(){var n=h.invoke(e,this);if(B(n))throw ze("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function v(t,e,n){return m(t,{$get:!1!==n?g(t,e):e})}function b(t,o){function s(e,i){if(t.hasOwnProperty(e)){if(t[e]===n)throw ze("cdep","Circular dependency found: {0}",e+" <- "+r.join(" <- "));return t[e]}try{return r.unshift(e),t[e]=n,t[e]=o(e,i),t[e]}catch(i){throw t[e]===n&&delete t[e],i}finally{r.shift()}}function c(t,n,i){for(var r=[],o=Ke.$$annotate(t,e,i),a=0,c=o.length;a<c;a++){var l=o[a];if("string"!=typeof l)throw ze("itkn","Incorrect injection token! Expected service name as string, got {0}",l);r.push(n&&n.hasOwnProperty(l)?n[l]:s(l,i))}return r}return{invoke:function(t,e,n,i){"string"==typeof n&&(i=n,n=null);var r=c(t,n,i);return z(t)&&(t=t[t.length-1]),function(t){if(u||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return X(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(qe(t))),e}(t)?(r.unshift(null),new(Function.prototype.bind.apply(t,r))):t.apply(e,r)},instantiate:function(t,e,n){var i=z(t)?t[t.length-1]:t,r=c(t,e,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))},get:s,annotate:Ke.$$annotate,has:function(e){return a.hasOwnProperty(e+i)||t.hasOwnProperty(e)}}}}function Ge(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){var o=n.document;function a(t){if(t){t.scrollIntoView();var e=function(){var t=s.yOffset;if(q(t))t=t();else if(et(t)){var e=t[0];t="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else W(t)||(t=0);return t}();if(e){var i=t.getBoundingClientRect().top;n.scrollBy(0,i-e)}}else n.scrollTo(0,0)}function s(t){var e,n,r;(t=U(t)?t:W(t)?t.toString():i.hash())?(e=o.getElementById(t))?a(e):(n=o.getElementsByName(t),r=null,Array.prototype.some.call(n,(function(t){if("a"===nt(t))return r=t,!0})),(e=r)?a(e):"top"===t&&a(null)):a(null)}return e&&r.$watch((function(){return i.hash()}),(function(e,n){var i,o;e===n&&""===e||(i=function(){r.$evalAsync(s)},"complete"===(o=o||t).document.readyState?o.setTimeout(i):h(o).on("load",i))})),s}]}Ke.$$annotate=function(t,e,n){var i,r;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw U(n)&&n||(n=t.name||function(t){var e=Ye(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),ze("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);$(Ye(t)[1].split(Ue),(function(t){t.replace(We,(function(t,e,n){i.push(n)}))}))}t.$inject=i}}else z(t)?(Ot(t[r=t.length-1],"fn"),i=t.slice(0,r)):Ot(t,"fn",!0);return i};var Xe=e("$animate"),Qe="ng-animate";function Je(t,e){return t||e?t?e?(z(t)&&(t=t.join(" ")),z(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Ze(t){return H(t)?t:{}}var tn=function(){this.$get=O},en=function(){var t=new Be,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:O,on:O,off:O,pin:O,push:function(a,s,c,l){l&&l(),(c=c||{}).from&&a.css(c.from),c.to&&a.css(c.to),(c.addClass||c.removeClass)&&function(n,a,s){var c=t.get(n)||{},l=r(c,a,!0),u=r(c,s,!1);(l||u)&&(t.set(n,c),e.push(n),1===e.length&&i.$$postDigest(o))}(a,c.addClass,c.removeClass);var u=new n;return u.complete(),u}};function r(t,e,n){var i=!1;return e&&$(e=U(e)?e.split(" "):z(e)?e:[],(function(e){e&&(i=!0,t[e]=n)})),i}function o(){$(e,(function(e){var n=t.get(e);if(n){var i=function(t){U(t)&&(t=t.split(" "));var e=Bt();return $(t,(function(t){t.length&&(e[t]=!0)})),e}(e.attr("class")),r="",o="";$(n,(function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:o+=(o.length?" ":"")+e)})),$(e,(function(t){r&&we(t,r),o&&ye(t,o)})),t.delete(e)}})),e.length=0}}]},nn=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Xe("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]"+Qe+"[(\\s|\\/)]").test(n.toString()))throw n=null,Xe("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Qe);return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&h(i),r=r&&h(r),e(n,i=i||r.parent(),r),t.push(n,"enter",Ze(o))},move:function(n,i,r,o){return i=i&&h(i),r=r&&h(r),e(n,i=i||r.parent(),r),t.push(n,"move",Ze(o))},leave:function(e,n){return t.push(e,"leave",Ze(n),(function(){e.remove()}))},addClass:function(e,n,i){return(i=Ze(i)).addClass=Je(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return(i=Ze(i)).removeClass=Je(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return(r=Ze(r)).addClass=Je(r.addClass,n),r.removeClass=Je(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return(o=Ze(o)).from=o.from?_(o.from,n):n,o.to=o.to?_(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=Je(o.tempClasses,r),t.push(e,"animate",o)}}}]}],rn=function(){this.$get=["$$rAF",function(t){var e=[];function n(n){e.push(n),e.length>1||t((function(){for(var t=0;t<e.length;t++)e[t]();e=[]}))}return function(){var t=!1;return n((function(){t=!0})),function(e){t?e():n(e)}}}]},on=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function o(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){i()?function(t){r(t,0,!1)}(t):e(t)},this._state=0}return o.chain=function(t,e){var n=0;!function i(){n!==t.length?t[n]((function(t){!1!==t?(n++,i()):e(!1)})):e(!0)}()},o.all=function(t,e){var n=0,i=!0;function r(r){i=i&&r,++n===t.length&&e(i)}$(t,(function(t){t.done(r)}))},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:O,getPromise:function(){if(!this.promise){var e=this;this.promise=t((function(t,n){e.done((function(e){!1===e?n():t()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick((function(){e._resolve(t)})))},_resolve:function(t){2!==this._state&&($(this._doneCallbacks,(function(e){e(t)})),this._doneCallbacks.length=0,this._state=2)}},o}]},an=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){var r=i||{};r.$$prepared||(r=ot(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(e.css(r.from),r.from=null);var o,a=new n;return{start:s,end:s};function s(){return t((function(){r.addClass&&(e.addClass(r.addClass),r.addClass=null),r.removeClass&&(e.removeClass(r.removeClass),r.removeClass=null),r.to&&(e.css(r.to),r.to=null),o||a.complete(),o=!0})),a}}}]};function sn(t,e,n,i){var r=this,o=t.location,a=t.history,s=t.setTimeout,c=t.clearTimeout,l={};r.isMock=!1;var u=0,d=[];function f(t){try{t.apply(null,ht(arguments,1))}finally{if(0==--u)for(;d.length;)try{d.pop()()}catch(t){n.error(t)}}}r.$$completeOutstandingRequest=f,r.$$incOutstandingRequestCount=function(){u++},r.notifyWhenNoOutstandingRequests=function(t){0===u?t():d.push(t)};var p,m,g=o.href,v=e.find("base"),b=null,y=i.history?function(){try{return a.state}catch(t){}}:O;x(),r.url=function(e,n,s){if(B(s)&&(s=null),o!==t.location&&(o=t.location),a!==t.history&&(a=t.history),e){var c=m===s;if(g===e&&(!i.history||c))return r;var l=g&&ri(g)===ri(e);return g=e,m=s,!i.history||l&&c?(l||(b=e),n?o.replace(e):l?o.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):o.href=e,o.href!==e&&(b=e)):(a[n?"replaceState":"pushState"](s,"",e),x()),b&&(b=e),r}return b||o.href.replace(/%27/g,"'")},r.state=function(){return p};var w=[],E=!1;function C(){b=null,k()}var A=null;function x(){st(p=B(p=y())?null:p,A)&&(p=A),A=p,m=p}function k(){var t=m;x(),g===r.url()&&t===p||(g=r.url(),m=p,$(w,(function(t){t(r.url(),p)})))}r.onUrlChange=function(e){return E||(i.history&&h(t).on("popstate",C),h(t).on("hashchange",C),E=!0),w.push(e),e},r.$$applicationDestroyed=function(){h(t).off("hashchange popstate",C)},r.$$checkUrlChange=k,r.baseHref=function(){var t=v.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},r.defer=function(t,e){var n;return u++,n=s((function(){delete l[n],f(t)}),e||0),l[n]=!0,n},r.defer.cancel=function(t){return!!l[t]&&(delete l[t],c(t),f(O),!0)}}function cn(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new sn(t,i,e,n)}]}function ln(){this.$get=function(){var t={};function n(n,i){if(n in t)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",n);var r=0,o=_({},i,{id:n}),a=Bt(),s=i&&i.capacity||Number.MAX_VALUE,c=Bt(),l=null,u=null;return t[n]={put:function(t,e){if(!B(e))return s<Number.MAX_VALUE&&h(c[t]||(c[t]={key:t})),t in a||r++,a[t]=e,r>s&&this.remove(u.key),e},get:function(t){if(s<Number.MAX_VALUE){var e=c[t];if(!e)return;h(e)}return a[t]},remove:function(t){if(s<Number.MAX_VALUE){var e=c[t];if(!e)return;e===l&&(l=e.p),e===u&&(u=e.n),d(e.n,e.p),delete c[t]}t in a&&(delete a[t],r--)},removeAll:function(){a=Bt(),r=0,c=Bt(),l=u=null},destroy:function(){a=null,o=null,c=null,delete t[n]},info:function(){return _({},o,{size:r})}};function h(t){t!==l&&(u?u===t&&(u=t.n):u=t,d(t.n,t.p),d(t,l),(l=t).n=null)}function d(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return n.info=function(){var e={};return $(t,(function(t,n){e[n]=t.info()})),e},n.get=function(e){return t[e]},n}}function un(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var hn=e("$compile"),dn=new function(){};function fn(e,n){var i={},o="Directive",a=/^\s*directive:\s*([\w-]+)\s+(.*)$/,s=/(([\w-]+)(?::([^;]+))?;?)/,l=function(t){var e,n={},i="ngSrc,ngSrcset,src,srcset".split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}(),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,f=/^(on[a-z]+|formaction)$/,p=Bt();function m(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=Bt();return $(t,(function(t,o){if(t in p)r[o]=p[t];else{var a=t.match(i);if(!a)throw hn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(p[t]=r[o])}})),r}function g(t,e){var n={isolateScope:null,bindToController:null};if(H(t.scope)&&(!0===t.bindToController?(n.bindToController=m(t.scope,e,!0),n.isolateScope={}):n.isolateScope=m(t.scope,e,!1)),H(t.bindToController)&&(n.bindToController=m(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw hn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}this.directive=function t(n,r){return Rt(n,"name"),Lt(n,"directive"),U(n)?(function(t){var e=t.charAt(0);if(!e||e!==c(e))throw hn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw hn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(n),Rt(r,"directiveFactory"),i.hasOwnProperty(n)||(i[n]=[],e.factory(n+o,["$injector","$exceptionHandler",function(t,e){var r=[];return $(i[n],(function(i,o){try{var a=t.invoke(i);q(a)?a={compile:I(a)}:!a.compile&&a.link&&(a.compile=I(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=function(t){var e=t.require||t.controller&&t.name;return!z(e)&&H(e)&&$(e,(function(t,n){var i=t.match(d);t.substring(i[0].length)||(e[n]=i[0]+n)})),e}(a),a.restrict=function(t,e){if(t&&(!U(t)||!/[EACM]/.test(t)))throw hn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}})),r}])),i[n].push(r)):$(n,x(t)),this},this.component=function(t,e){var n=e.controller||function(){};function i(t){function i(e){return q(e)||z(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var r=e.template||e.templateUrl?e.template:"",o={controller:n,controllerAs:Cn(e.controller)||e.controllerAs||"$ctrl",template:i(r),templateUrl:i(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return $(e,(function(t,e){"$"===e.charAt(0)&&(o[e]=t)})),o}return $(e,(function(t,e){"$"===e.charAt(0)&&(i[e]=t,q(n)&&(n[e]=t))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationWhitelist=function(t){return P(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return P(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var b=!0;this.debugInfoEnabled=function(t){return P(t)?(b=t,this):b};var y=!1;this.preAssignBindingsEnabled=function(t){return P(t)?(y=t,this):y};var w=10;this.onChangesTtl=function(t){return arguments.length?(w=t,this):w};var E=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(E=t,this):E};var C=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(C=t,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,p,m,A,x,k,S,T,M){var F,D=/^\w/,I=t.document.createElement("div"),N=E,j=C,W=w;function V(){try{if(! --W)throw F=void 0,hn("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);k.$apply((function(){for(var t=[],e=0,n=F.length;e<n;++e)try{F[e]()}catch(e){t.push(e)}if(F=void 0,t.length)throw t}))}finally{W++}}function Y(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=e[r]}else this.$attr={};this.$$element=t}function K(t,e){try{t.addClass(e)}catch(t){}}Y.prototype={$normalize:vn,$addClass:function(t){t&&t.length>0&&T.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&T.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=bn(t,e);n&&n.length&&T.addClass(this.$$element,n);var i=bn(e,t);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(t,e,n,i){var r,o=Fe(this.$$element[0],t),a=Me[t],s=t;if(o?(this.$$element.prop(t,e),i=o):a&&(this[a]=e,s=a),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=Ft(t,"-")),"a"===(r=nt(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===r&&"src"===t)this[t]=e=M(e,"src"===t);else if("img"===r&&"srcset"===t&&P(e)){for(var c="",l=Z(e),u=/\s/.test(l)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,h=l.split(u),d=Math.floor(h.length/2),f=0;f<d;f++){var m=2*f;c+=M(Z(h[m]),!0),c+=" "+Z(h[m+1])}var g=Z(h[2*f]).split(/\s/);c+=M(Z(g[0]),!0),2===g.length&&(c+=" "+Z(g[1])),this[t]=e=c}!1!==n&&(null===e||B(e)?this.$$element.removeAttr(i):D.test(i)?this.$$element.attr(i,e):function(t,e,n){I.innerHTML="<span "+e+">";var i=I.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}(this.$$element[0],i,e));var v=this.$$observers;v&&$(v[s],(function(t){try{t(e)}catch(t){p(t)}}))},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=Bt()),r=i[t]||(i[t]=[]);return r.push(e),k.$evalAsync((function(){r.$$inter||!n.hasOwnProperty(t)||B(n[t])||e(n[t])})),function(){rt(r,e)}}};var Q=n.startSymbol(),J=n.endSymbol(),tt="{{"===Q&&"}}"===J?L:function(t){return t.replace(/\{\{/g,Q).replace(/}}/g,J)},et=/^ngAttr[A-Z]/,it=/^(.+)Start$/;return ot.$$addBindingInfo=b?function(t,e){var n=t.data("$binding")||[];z(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:O,ot.$$addBindingClass=b?function(t){K(t,"ng-binding")}:O,ot.$$addScopeInfo=b?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:O,ot.$$addScopeClass=b?function(t,e){K(t,e?"ng-isolate-scope":"ng-scope")}:O,ot.$$createComment=function(e,n){var i="";return b&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},ot;function ot(t,e,n,i,r){t instanceof h||(t=h(t));var o=ct(t,e,t,n,i,r);ot.$$addScopeClass(t);var a=null;return function(e,n,i){if(!t)throw hn("multilink","This element has already been linked.");Rt(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new());var s,c,l,u=(i=i||{}).parentBoundTranscludeFn,d=i.transcludeControllers,f=i.futureParentElement;if(u&&u.$$boundTransclude&&(u=u.$$boundTransclude),a||(c=(s=f)&&s[0],a=c&&"foreignobject"!==nt(c)&&v.call(c).match(/SVG/)?"svg":"html"),l="html"!==a?h(St(a,h("<div>").append(t).html())):n?Se.clone.call(t):t,d)for(var p in d)l.data("$"+p+"Controller",d[p].instance);return ot.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,u),n||(t=o=null),l}}function ct(t,e,n,i,r,o){for(var a,s,c,l,d,f,p,m=[],g=z(t)||t instanceof h,v=0;v<t.length;v++)a=new Y,11===u&&lt(t,v,g),(c=(s=ft(t[v],[],a,0===v?i:void 0,r)).length?vt(s,t[v],a,e,n,null,[],[],o):null)&&c.scope&&ot.$$addScopeClass(a.$$element),d=c&&c.terminal||!(l=t[v].childNodes)||!l.length?null:ct(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||d)&&(m.push(v,c,d),f=!0,p=p||c),o=null;return f?function(t,n,i,r){var o,a,s,c,l,u,d,f;if(p){var g=n.length;for(f=new Array(g),l=0;l<m.length;l+=3)f[d=m[l]]=n[d]}else f=n;for(l=0,u=m.length;l<u;)s=f[m[l++]],o=m[l++],a=m[l++],o?(o.scope?(c=t.$new(),ot.$$addScopeInfo(h(s),c)):c=t,o(a,c,s,i,o.transcludeOnThisElement?ut(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?ut(t,e):null)):a&&a(t,s.childNodes,void 0,r)}:null}function lt(t,e,n){var i,r=t[e],o=r.parentNode;if(r.nodeType===jt)for(;(i=o?r.nextSibling:t[e+1])&&i.nodeType===jt;)r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}function ut(t,e,n){function i(i,r,o,a,s){return i||((i=t.$new(!1,s)).$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=Bt();for(var o in e.$$slots)e.$$slots[o]?r[o]=ut(t,e.$$slots[o],n):r[o]=null;return i}function ft(t,e,i,r,o){var c,l,u,h=t.nodeType,d=i.$attr;switch(h){case Ht:Et(e,vn(l=nt(t)),"E",r,o);for(var f,p,m,g,v,b,y=t.attributes,w=0,E=y&&y.length;w<E;w++){var C=!1,$=!1;p=(f=y[w]).name,v=f.value,g=vn(p),(b=et.test(g))&&(p=p.replace(mn,"").substr(8).replace(/_(.)/g,(function(t,e){return e.toUpperCase()})));var A=g.match(it);A&&Ct(A[1])&&(C=p,$=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),d[m=vn(p.toLowerCase())]=p,!b&&i.hasOwnProperty(m)||(i[m]=v,Fe(t,m)&&(i[m]=!0)),Tt(t,e,v,m,b),Et(e,m,"A",r,o,C,$)}if("input"===l&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!j)break;if(H(u=t.className)&&(u=u.animVal),U(u)&&""!==u)for(;c=s.exec(u);)Et(e,m=vn(c[2]),"C",r,o)&&(i[m]=Z(c[3])),u=u.substr(c.index+c[0].length);break;case jt:!function(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&ot.$$addBindingClass(e),function(t,e){var r=e.parent();n||ot.$$addBindingClass(r),ot.$$addBindingInfo(r,i.expressions),t.$watch(i,(function(t){e[0].nodeValue=t}))}}})}(e,t.nodeValue);break;case Ut:if(!N)break;!function(t,e,n,i,r){try{var o=a.exec(t.nodeValue);if(o){var s=vn(o[1]);Et(e,s,"M",i,r)&&(n[s]=Z(o[2]))}}catch(t){}}(t,e,i,r,o)}return e.sort(xt),e}function pt(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw hn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Ht&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0);else i.push(t);return h(i)}function mt(t,e,n){return function(i,r,o,a,s){return r=pt(r[0],e,n),t(i,r,o,a,s)}}function gt(t,e,n,i,r,o){var a;return t?ot(e,n,i,r,o):function(){return a||(a=ot(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function vt(t,e,n,i,r,o,a,s,c){c=c||{};for(var l,u,d,f,m,g=-Number.MAX_VALUE,v=c.newScopeDirective,b=c.controllerDirectives,w=c.newIsolateScopeDirective,E=c.templateDirective,C=c.nonTlbTranscludeDirective,A=!1,k=!1,S=c.hasElementTranscludeDirective,T=n.$$element=h(e),M=o,F=i,D=!1,R=!1,O=0,L=t.length;O<L;O++){var I=(l=t[O]).$$start,N=l.$$end;if(I&&(T=pt(e,I,N)),d=void 0,g>l.priority)break;if((m=l.scope)&&(l.templateUrl||(H(m)?(kt("new/isolated scope",w||v,l,T),w=l):kt("new/isolated scope",w,l,T)),v=v||l),u=l.name,!D&&(l.replace&&(l.templateUrl||l.template)||l.transclude&&!l.$$tlb)){for(var P,j=O+1;P=t[j++];)if(P.transclude&&!P.$$tlb||P.replace&&(P.templateUrl||P.template)){R=!0;break}D=!0}if(!l.templateUrl&&l.controller&&(b=b||Bt(),kt("'"+u+"' controller",b[u],l,T),b[u]=l),m=l.transclude)if(A=!0,l.$$tlb||(kt("transclusion",C,l,T),C=l),"element"===m)S=!0,g=l.priority,d=T,T=n.$$element=h(ot.$$createComment(u,n[u])),e=T[0],_t(r,ht(d),e),d[0].$$parentNode=d[0].parentNode,F=gt(R,d,i,g,M&&M.name,{nonTlbTranscludeDirective:C});else{var U=Bt();if(H(m)){d=[];var W=Bt(),V=Bt();for(var K in $(m,(function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,W[t]=e,U[e]=null,V[e]=n})),$(T.contents(),(function(t){var e=W[vn(nt(t))];e?(V[e]=!0,U[e]=U[e]||[],U[e].push(t)):d.push(t)})),$(V,(function(t,e){if(!t)throw hn("reqslot","Required transclusion slot `{0}` was not filled.",e)})),U)U[K]&&(U[K]=gt(R,U[K],i))}else d=h(de(e)).contents();T.empty(),(F=gt(R,d,i,void 0,void 0,{needsNewScope:l.$$isolateScope||l.$$newScope})).$$slots=U}if(l.template)if(k=!0,kt("template",E,l,T),E=l,m=q(l.template)?l.template(T,n):l.template,m=tt(m),l.replace){if(M=l,d=se(m)?[]:yn(St(l.templateNamespace,Z(m))),e=d[0],1!==d.length||e.nodeType!==Ht)throw hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",u,"");_t(r,T,e);var X={$attr:{}},Q=ft(e,[],X),J=t.splice(O+1,t.length-(O+1));(w||v)&&wt(Q,w,v),t=t.concat(Q).concat(J),$t(n,X),L=t.length}else T.html(m);if(l.templateUrl)k=!0,kt("template",E,l,T),E=l,l.replace&&(M=l),rt=At(t.splice(O,t.length-O),T,n,r,A&&F,a,s,{controllerDirectives:b,newScopeDirective:v!==l&&v,newIsolateScopeDirective:w,templateDirective:E,nonTlbTranscludeDirective:C}),L=t.length;else if(l.compile)try{f=l.compile(T,n,F);var et=l.$$originalDirective||l;q(f)?it(null,dt(et,f),I,N):f&&it(dt(et,f.pre),dt(et,f.post),I,N)}catch(t){p(t,yt(T))}l.terminal&&(rt.terminal=!0,g=Math.max(g,l.priority))}return rt.scope=v&&!0===v.scope,rt.transcludeOnThisElement=A,rt.templateOnThisElement=k,rt.transclude=F,c.hasElementTranscludeDirective=S,rt;function it(t,e,n,i){t&&(n&&(t=mt(t,n,i)),t.require=l.require,t.directiveName=u,(w===l||l.$$isolateScope)&&(t=Mt(t,{isolateScope:!0})),a.push(t)),e&&(n&&(e=mt(e,n,i)),e.require=l.require,e.directiveName=u,(w===l||l.$$isolateScope)&&(e=Mt(e,{isolateScope:!0})),s.push(e))}function rt(t,i,r,o,c){var l,u,d,f,m,g,C,A,k,T;for(var M in e===r?(k=n,A=n.$$element):k=new Y(A=h(r),n),m=i,w?f=i.$new(!0):v&&(m=i.$parent),c&&(C=function(t,e,n,i){var r;if(G(t)||(i=n,n=e,e=t,t=void 0),S&&(r=g),n||(n=S?A.parent():A),!i)return c(t,e,r,n,L);var o=c.$$slots[i];if(o)return o(t,e,r,n,L);if(B(o))throw hn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,yt(A))},C.$$boundTransclude=c,C.isSlotFilled=function(t){return!!c.$$slots[t]}),b&&(g=function(t,e,n,i,r,o,a){var s=Bt();for(var c in i){var l=i[c],u={$scope:l===a||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var d=x(h,u,!0,l.controllerAs);s[l.name]=d,t.data("$"+l.name+"Controller",d.instance)}return s}(A,k,C,b,f,i,w)),w&&(ot.$$addScopeInfo(A,f,!0,!(E&&(E===w||E===w.$$originalDirective))),ot.$$addScopeClass(A,!0),f.$$isolateBindings=w.$$isolateBindings,(T=Ot(i,k,f,f.$$isolateBindings,w)).removeWatches&&f.$on("$destroy",T.removeWatches)),g){var F=b[M],D=g[M],R=F.$$bindings.bindToController;if(y){D.bindingInfo=R?Ot(m,k,D.instance,R,F):{};var O=D();O!==D.instance&&(D.instance=O,A.data("$"+F.name+"Controller",O),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=Ot(m,k,D.instance,R,F))}else D.instance=D(),A.data("$"+F.name+"Controller",D.instance),D.bindingInfo=Ot(m,k,D.instance,R,F)}for($(b,(function(t,e){var n=t.require;t.bindToController&&!z(n)&&H(n)&&_(g[e].instance,bt(e,n,A,g))})),$(g,(function(t){var e=t.instance;if(q(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){p(t)}if(q(e.$onInit))try{e.$onInit()}catch(t){p(t)}q(e.$doCheck)&&(m.$watch((function(){e.$doCheck()})),e.$doCheck()),q(e.$onDestroy)&&m.$on("$destroy",(function(){e.$onDestroy()}))})),l=0,u=a.length;l<u;l++)Dt(d=a[l],d.isolateScope?f:i,A,k,d.require&&bt(d.directiveName,d.require,A,g),C);var L=i;for(w&&(w.template||null===w.templateUrl)&&(L=f),t&&t(L,r.childNodes,void 0,c),l=s.length-1;l>=0;l--)Dt(d=s[l],d.isolateScope?f:i,A,k,d.require&&bt(d.directiveName,d.require,A,g),C);$(g,(function(t){var e=t.instance;q(e.$postLink)&&e.$postLink()}))}}function bt(t,e,n,i){var r;if(U(e)){var o=e.match(d),a=e.substring(o[0].length),s=o[1]||o[3],c="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[a])&&r.instance,!r){var l="$"+a+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!c)throw hn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(z(e)){r=[];for(var u=0,h=e.length;u<h;u++)r[u]=bt(t,e[u],n,i)}else H(e)&&(r={},$(e,(function(e,o){r[o]=bt(t,e,n,i)})));return r||null}function wt(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=R(t[i],{$$isolateScope:e,$$newScope:n})}function Et(t,n,r,a,s,c,l){if(n===s)return null;var u=null;if(i.hasOwnProperty(n))for(var h,d=e.get(n+o),f=0,p=d.length;f<p;f++)if(h=d[f],(B(a)||a>h.priority)&&-1!==h.restrict.indexOf(r)){if(c&&(h=R(h,{$$start:c,$$end:l})),!h.$$bindings){var m=h.$$bindings=g(h,h.name);H(m.isolateScope)&&(h.$$isolateBindings=m.isolateScope)}t.push(h),u=h}return u}function Ct(t){if(i.hasOwnProperty(t))for(var n=e.get(t+o),r=0,a=n.length;r<a;r++)if(n[r].multiElement)return!0;return!1}function $t(t,e){var n=e.$attr,i=t.$attr;$(t,(function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i.length?i+=("style"===r?";":" ")+e[r]:i=e[r]),t.$set(r,i,!0,n[r]))})),$(e,(function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))}))}function At(t,e,n,i,r,o,a,s){var c,l,u=[],d=e[0],f=t.shift(),g=R(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),v=q(f.templateUrl)?f.templateUrl(e,n):f.templateUrl,b=f.templateNamespace;return e.empty(),m(v).then((function(p){var m,y,w,E;if(p=tt(p),f.replace){if(w=se(p)?[]:yn(St(b,Z(p))),m=w[0],1!==w.length||m.nodeType!==Ht)throw hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,v);y={$attr:{}},_t(i,e,m);var C=ft(m,[],y);H(f.scope)&&wt(C,!0),t=C.concat(t),$t(n,y)}else m=d,e.html(p);for(t.unshift(g),c=vt(t,m,n,r,e,f,o,a,s),$(i,(function(t,n){t===m&&(i[n]=e[0])})),l=ct(e[0].childNodes,r);u.length;){var A=u.shift(),x=u.shift(),k=u.shift(),S=u.shift(),T=e[0];if(!A.$$destroyed){if(x!==d){var _=x.className;s.hasElementTranscludeDirective&&f.replace||(T=de(m)),_t(k,h(x),T),K(h(T),_)}E=c.transcludeOnThisElement?ut(A,c.transclude,S):S,c(l,A,T,i,E)}}u=null})).catch((function(t){t instanceof Error&&p(t)})),function(t,e,n,i,r){var o=r;e.$$destroyed||(u?u.push(e,n,i,o):(c.transcludeOnThisElement&&(o=ut(e,c.transclude,r)),c(l,e,n,i,o)))}}function xt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function kt(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw hn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,yt(i))}function St(e,n){switch(e=c(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function Tt(t,e,i,r,o){var a=function(t,e){if("srcdoc"===e)return S.HTML;var n=nt(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return S.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return S.RESOURCE_URL}(t,r),s=!o,c=l[r]||o,u=n(i,s,a,c);if(u){if("multiple"===r&&"select"===nt(t))throw hn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",yt(t));if(f.test(r))throw hn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=Bt()),l=o[r];l!==i&&(u=l&&n(l,!0,a,c),i=l),u&&(o[r]=u(t),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(u,(function(t,e){"class"===r&&t!==e?o.$updateClass(t,e):o.$set(r,t)})))}}}})}}function _t(e,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]===a){e[r++]=i;for(var l=r,u=l+s-1,d=e.length;l<d;l++,u++)u<d?e[l]=e[u]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}c&&c.replaceChild(i,a);var f=t.document.createDocumentFragment();for(r=0;r<s;r++)f.appendChild(n[r]);for(h.hasData(a)&&(h.data(i,h.data(a)),h(a).off("$destroy")),h.cleanData(f.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function Mt(t,e){return _((function(){return t.apply(null,arguments)}),t,e)}function Dt(t,e,n,i,r,o){try{t(e,n,i,r,o)}catch(t){p(t,yt(n))}}function Ot(t,e,i,o,a){var s,c=[],l={};function u(e,n,r){q(i.$onChanges)&&!at(n,r)&&(F||(t.$$postDigest(V),F=[]),s||(s={},F.push(h)),s[e]&&(r=s[e].previousValue),s[e]=new pn(r,n))}function h(){i.$onChanges(s),s=void 0}return $(o,(function(o,s){var h,d,f,p,m,g=o.attrName,v=o.optional;switch(o.mode){case"@":v||r.call(e,g)||(i[s]=e[g]=void 0),m=e.$observe(g,(function(t){if(U(t)||X(t)){var e=i[s];u(s,t,e),i[s]=t}})),e.$$observers[g].$$scope=t,U(h=e[g])?i[s]=n(h)(t):X(h)&&(i[s]=h),l[s]=new pn(dn,i[s]),c.push(m);break;case"=":if(!r.call(e,g)){if(v)break;e[g]=void 0}if(v&&!e[g])break;d=A(e[g]),p=d.literal?st:at,f=d.assign||function(){throw h=i[s]=d(t),hn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,a.name)},h=i[s]=d(t);var b=function(e){return p(e,i[s])||(p(e,h)?f(t,e=i[s]):i[s]=e),h=e};b.$stateful=!0,m=o.collection?t.$watchCollection(e[g],b):t.$watch(A(e[g],b),null,d.literal),c.push(m);break;case"<":if(!r.call(e,g)){if(v)break;e[g]=void 0}if(v&&!e[g])break;var y=(d=A(e[g])).literal,w=i[s]=d(t);l[s]=new pn(dn,i[s]),m=t.$watch(d,(function(t,e){if(e===t){if(e===w||y&&st(e,w))return;e=w}u(s,t,e),i[s]=t}),y),c.push(m);break;case"&":if((d=e.hasOwnProperty(g)?A(e[g]):O)===O&&v)break;i[s]=function(e){return d(t,e)}}})),{initialChanges:l,removeWatches:c.length&&function(){for(var t=0,e=c.length;t<e;++t)c[t]()}}}}]}function pn(t,e){this.previousValue=t,this.currentValue=e}fn.$inject=["$provide","$$sanitizeUriProvider"],pn.prototype.isFirstChange=function(){return this.previousValue===dn};var mn=/^((?:x|data)[:\-_])/i,gn=/[:\-_]+(.)/g;function vn(t){return t.replace(mn,"").replace(gn,te)}function bn(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function yn(t){var e=(t=h(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Ut||n.nodeType===jt&&""===n.nodeValue.trim())&&m.call(t,e,1)}return t}var wn=e("$controller"),En=/^(\S+)(\s+as\s+([\w$]+))?$/;function Cn(t,e){if(e&&U(e))return e;if(U(t)){var n=En.exec(t);if(n)return n[3]}}function $n(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){Lt(e,"controller"),H(e)?_(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){return function(e,a,s,c){var l,u,h,d;if(s=!0===s,c&&U(c)&&(d=c),U(e)){if(!(u=e.match(En)))throw wn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=u[1],d=d||u[3],!(e=t.hasOwnProperty(h)?t[h]:It(a.$scope,h,!0)||(n?It(r,h,!0):void 0)))throw wn("ctrlreg","The controller with the name '{0}' is not registered.",h);Ot(e,h,!0)}if(s){var f=(z(e)?e[e.length-1]:e).prototype;return l=Object.create(f||null),d&&o(a,d,l,h||e.name),_((function(){var t=i.invoke(e,l,a,h);return t!==l&&(H(t)||q(t))&&(l=t,d&&o(a,d,l,h||e.name)),l}),{instance:l,identifier:d})}return l=i.instantiate(e,a,h),d&&o(a,d,l,h||e.name),l};function o(t,n,i,r){if(!t||!H(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}}]}function An(){this.$get=["$window",function(t){return h(t.document)}]}function xn(){this.$get=["$document","$rootScope",function(t,e){var n=t[0],i=n&&n.hidden;function r(){i=n.hidden}return t.on("visibilitychange",r),e.$on("$destroy",(function(){t.off("visibilitychange",r)})),function(){return i}}]}function kn(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}var Sn=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof h&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Tn="application/json",_n={"Content-Type":Tn+";charset=utf-8"},Mn=/^\[|^\{(?!\{)/,Fn={"[":/]$/,"{":/}$/},Dn=/^\)]\}',?\n/,Rn=e("$http");function On(t){return H(t)?V(t)?t.toISOString():pt(t):t}function Ln(){this.$get=function(){return function(t){if(!t)return"";var e=[];return A(t,(function(t,n){null===t||B(t)||(z(t)?$(t,(function(t){e.push(At(n)+"="+At(On(t)))})):e.push(At(n)+"="+At(On(t))))})),e.join("&")}}}function In(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,i,r){null===n||B(n)||(z(n)?$(n,(function(e,n){t(e,i+"["+(H(e)?n:"")+"]")})):H(n)&&!V(n)?A(n,(function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))})):e.push(At(i)+"="+At(On(n))))}(t,"",!0),e.join("&")}}}function Nn(t,e){if(U(t)){var n=t.replace(Dn,"").trim();if(n){var i=e("Content-Type");if(i&&0===i.indexOf(Tn)||(o=(r=n).match(Mn))&&Fn[o[0]].test(r))try{t=mt(n)}catch(e){throw Rn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var r,o;return t}function Bn(t){var e,n=Bt();function i(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return U(t)?$(t.split("\n"),(function(t){e=t.indexOf(":"),i(c(Z(t.substr(0,e))),Z(t.substr(e+1)))})):H(t)&&$(t,(function(t,e){i(c(e),Z(t))})),n}function Pn(t){var e;return function(n){if(e||(e=Bn(t)),n){var i=e[c(n)];return void 0===i&&(i=null),i}return e}}function Hn(t,e,n,i){return q(i)?i(t,e,n):($(i,(function(i){t=i(t,e,n)})),t)}function jn(t){return 200<=t&&t<300}function Un(){var t=this.defaults={transformResponse:[Nn],transformRequest:[function(t){return!H(t)||(e=t,"[object File]"===v.call(e))||function(t){return"[object Blob]"===v.call(t)}(t)||function(t){return"[object FormData]"===v.call(t)}(t)?t:pt(t);var e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:zt(_n),put:zt(_n),patch:zt(_n)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return P(t)?(n=!!t,this):n};var i=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,o,a,s,u,h,d,f){var p=s("$http");t.paramSerializer=U(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var m=[];function g(i){if(!H(i))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",i);if(!U(f.valueOf(i.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",i.url);var s=_({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},i);s.headers=function(e){var n,i,r,o=t.headers,a=_({},e.headers);o=_({},o.common,o[c(e.method)]);t:for(n in o){for(r in i=c(n),a)if(c(r)===i)continue t;a[n]=o[n]}return function(t,e){var n,i={};return $(t,(function(t,r){q(t)?null!=(n=t(e))&&(i[r]=n):i[r]=t})),i}(a,zt(e))}(i),s.method=l(s.method),s.paramSerializer=U(s.paramSerializer)?d.get(s.paramSerializer):s.paramSerializer,r.$$incOutstandingRequestCount();var v=[],b=[],y=h.resolve(s);return $(m,(function(t){(t.request||t.requestError)&&v.unshift(t.request,t.requestError),(t.response||t.responseError)&&b.push(t.response,t.responseError)})),y=(y=w(y,v)).then((function(e){var i=e.headers,r=Hn(e.data,Pn(i),void 0,e.transformRequest);return B(r)&&$(i,(function(t,e){"content-type"===c(e)&&delete i[e]})),B(e.withCredentials)&&!B(t.withCredentials)&&(e.withCredentials=t.withCredentials),function(e,i){var r,s,l=h.defer(),d=l.promise,m=e.headers,v="jsonp"===c(e.method),b=e.url;if(v?b=f.getTrustedResourceUrl(b):U(b)||(b=f.valueOf(b)),b=function(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(b,e.paramSerializer(e.params)),v&&(b=function(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw Rn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(new RegExp("[&?]"+e+"=").test(t))throw Rn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(b,e.jsonpCallbackParam)),g.pendingRequests.push(e),d.then(A,A),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(r=H(e.cache)?e.cache:H(t.cache)?t.cache:p),r&&(P(s=r.get(b))?Q(s)?s.then(C,C):z(s)?E(s[1],s[0],zt(s[2]),s[3]):E(s,200,{},"OK"):r.put(b,d)),B(s)){var y=Zi(e.url)?a()[e.xsrfCookieName||t.xsrfCookieName]:void 0;y&&(m[e.xsrfHeaderName||t.xsrfHeaderName]=y),o(e.method,b,i,(function(t,e,i,o){function a(){E(e,t,i,o)}r&&(jn(t)?r.put(b,[t,e,Bn(i),o]):r.remove(b)),n?u.$applyAsync(a):(a(),u.$$phase||u.$apply())}),m,e.timeout,e.withCredentials,e.responseType,w(e.eventHandlers),w(e.uploadEventHandlers))}return d;function w(t){if(t){var e={};return $(t,(function(t,i){e[i]=function(e){function i(){t(e)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}})),e}}function E(t,n,i,r){(jn(n=n>=-1?n:0)?l.resolve:l.reject)({data:t,status:n,headers:Pn(i),config:e,statusText:r})}function C(t){E(t.data,t.status,zt(t.headers()),t.statusText)}function A(){var t=g.pendingRequests.indexOf(e);-1!==t&&g.pendingRequests.splice(t,1)}}(e,r).then(E,E)})),(y=w(y,b)).finally((function(){r.$$completeOutstandingRequest(O)}));function w(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function E(t){var e=_({},t);return e.data=Hn(t.data,t.headers,t.status,s.transformResponse),jn(t.status)?e:h.reject(e)}}return $(i,(function(t){m.unshift(U(t)?d.get(t):d.invoke(t))})),g.pendingRequests=[],function(t){$(arguments,(function(t){g[t]=function(e,n){return g(_({},n||{},{method:t,url:e}))}}))}("get","delete","head","jsonp"),function(t){$(arguments,(function(t){g[t]=function(e,n,i){return g(_({},i||{},{method:t,url:e,data:n}))}}))}("post","put","patch"),g.defaults=t,g}]}function Wn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Vn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return function(t,e,n,i,r){return function(r,a,s,l,u,h,d,f,p,m){if(a=a||t.url(),"jsonp"===c(r))var g=i.createCallback(a),v=o(a,g,(function(t,e){var n=200===t&&i.getResponse(g);C(l,t,n,"",e),i.removeCallback(g)}));else{var b=e(r,a);b.open(r,a,!0),$(u,(function(t,e){P(t)&&b.setRequestHeader(e,t)})),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"===Ji(a).protocol?404:0),C(l,n,e,b.getAllResponseHeaders(),t)};var y=function(){C(l,-1,null,null,"")};if(b.onerror=y,b.onabort=y,b.ontimeout=y,$(p,(function(t,e){b.addEventListener(e,t)})),$(m,(function(t,e){b.upload.addEventListener(e,t)})),d&&(b.withCredentials=!0),f)try{b.responseType=f}catch(t){if("json"!==f)throw t}b.send(B(s)?null:s)}if(h>0)var w=n(E,h);else Q(h)&&h.then(E);function E(){v&&v(),b&&b.abort()}function C(t,e,i,r,o){P(w)&&n.cancel(w),v=b=null,t(e,i,r,o)}};function o(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,c="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),c=t.type,s="error"===t.type?404:200),n&&n(s,c)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}}(t,i,t.defer,e,n[0])}]}var zn=w.$interpolateMinErr=e("$interpolate");function qn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){var o=t.length,a=e.length,s=new RegExp(t.replace(/./g,l),"g"),c=new RegExp(e.replace(/./g,l),"g");function l(t){return"\\\\\\"+t}function u(n){return n.replace(s,t).replace(c,e)}function h(t,e,n,i){var r=t.$watch((function(t){return r(),i(t)}),e,n);return r}function d(s,c,l,d){var f;if(!s.length||-1===s.indexOf(t))return c||((f=I(u(s))).exp=s,f.expressions=[],f.$$watchDelegate=h),f;d=!!d;for(var p,m,g,v=0,b=[],y=[],w=s.length,E=[],C=[];v<w;){if(-1===(p=s.indexOf(t,v))||-1===(m=s.indexOf(e,p+o))){v!==w&&E.push(u(s.substring(v)));break}v!==p&&E.push(u(s.substring(v,p))),g=s.substring(p+o,m),b.push(g),y.push(n(g,x)),v=m+a,C.push(E.length),E.push("")}if(l&&E.length>1&&zn.throwNoconcat(s),!c||b.length){var $=function(t){for(var e=0,n=b.length;e<n;e++){if(d&&B(t[e]))return;E[C[e]]=t[e]}return E.join("")},A=function(t){return l?r.getTrusted(l,t):r.valueOf(t)};return _((function(t){var e=0,n=b.length,r=new Array(n);try{for(;e<n;e++)r[e]=y[e](t);return $(r)}catch(t){i(zn.interr(s,t))}}),{exp:s,expressions:b,$$watchDelegate:function(t,e){var n;return t.$watchGroup(y,(function(i,r){var o=$(i);q(e)&&e.call(this,o,i!==r?n:o,t),n=o}))}})}function x(t){try{return t=A(t),d&&!P(t)?t:Pt(t)}catch(t){i(zn.interr(s,t))}}}return d.startSymbol=function(){return t},d.endSymbol=function(){return e},d}]}function Yn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){var o={};function a(a,s,c,l){var u=arguments.length>4,h=u?ht(arguments,4):[],d=e.setInterval,f=e.clearInterval,p=0,m=P(l)&&!l,g=(m?i:n).defer(),v=g.promise;return c=P(c)?c:0,v.$$intervalId=d((function(){m?r.defer(b):t.$evalAsync(b),g.notify(p++),c>0&&p>=c&&(g.resolve(p),f(v.$$intervalId),delete o[v.$$intervalId]),m||t.$apply()}),s),o[v.$$intervalId]=g,v;function b(){u?a.apply(null,h):a(p)}}return a.cancel=function(t){return!(!t||!(t.$$intervalId in o)||(o[t.$$intervalId].promise.catch(O),o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],0))},a}]}zn.throwNoconcat=function(t){throw zn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},zn.interr=function(t,e){return zn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Kn=function(){this.$get=function(){var t=w.callbacks,e={};return{createCallback:function(n){var i="_"+(t.$$counter++).toString(36),r="angular.callbacks."+i,o=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(i);return e[r]=t[i]=o,r},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(n){var i=e[n];delete t[i.id],delete e[n]}}}},Gn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Xn={http:80,https:443,ftp:21},Qn=e("$location");function Jn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=$t(e[n]);return e.join("/")}function Zn(t,e){var n=Ji(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=F(n.port)||Xn[n.protocol]||null}var ti=/^\s*[\\/]{2,}/;function ei(t,e){if(ti.test(t))throw Qn("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Ji(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=Et(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ni(t,e){return t.slice(0,e.length)===e}function ii(t,e){if(ni(e,t))return e.substr(t.length)}function ri(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function oi(t){return t.replace(/(#.+)|#$/,"$1")}function ai(t,e,n){this.$$html5=!0,n=n||"",Zn(t,this),this.$$parse=function(t){var n=ii(e,t);if(!U(n))throw Qn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);ei(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Ct(this.$$search),n=this.$$hash?"#"+$t(this.$$hash):"";this.$$url=Jn(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(P(o=ii(t,i))?(a=o,s=n&&P(o=ii(n,o))?e+(ii("/",o)||o):t+a):P(o=ii(e,i))?s=e+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s);var o,a,s}}function si(t,e,n){Zn(t,this),this.$$parse=function(i){var r,o=ii(t,i)||ii(e,i);B(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",B(o)&&(t=i,this.replace())):B(r=ii(n,o))&&(r=o),ei(r,this),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return ni(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t))?i[1]:t}(this.$$path,r,t),this.$$compose()},this.$$compose=function(){var e=Ct(this.$$search),i=this.$$hash?"#"+$t(this.$$hash):"";this.$$url=Jn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return ri(t)===ri(e)&&(this.$$parse(e),!0)}}function ci(t,e,n){this.$$html5=!0,si.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(t===ri(i)?o=i:(a=ii(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o);var o,a},this.$$compose=function(){var e=Ct(this.$$search),i=this.$$hash?"#"+$t(this.$$hash):"";this.$$url=Jn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}var li={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ui("$$absUrl"),url:function(t){if(B(t))return this.$$url;var e=Gn.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:ui("$$protocol"),host:ui("$$host"),port:ui("$$port"),path:hi("$$path",(function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t})),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(U(t)||W(t))t=t.toString(),this.$$search=Et(t);else{if(!H(t))throw Qn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");$(t=ot(t,{}),(function(e,n){null==e&&delete t[n]})),this.$$search=t}break;default:B(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:hi("$$hash",(function(t){return null!==t?t.toString():""})),replace:function(){return this.$$replace=!0,this}};function ui(t){return function(){return this[t]}}function hi(t,e){return function(n){return B(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function di(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return P(e)?(t=e,this):t},this.html5Mode=function(t){return X(t)?(e.enabled=t,this):H(t)?(X(t.enabled)&&(e.enabled=t.enabled),X(t.requireBase)&&(e.requireBase=t.requireBase),(X(t.rewriteLinks)||U(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){var s,c,l,u,d=i.baseHref(),f=i.url();if(e.enabled){if(!d&&e.requireBase)throw Qn("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(u=f).substring(0,u.indexOf("/",u.indexOf("//")+2))+(d||"/"),c=r.history?ai:ci}else l=ri(f),c=si;var p=function(t){return t.substr(0,ri(t).lastIndexOf("/")+1)}(l);(s=new c(l,p,"#"+t)).$$parseLinkUrl(f,f),s.$$state=i.state();var m=/^\s*(javascript|mailto):/i;function g(t,e,n){var r=s.url(),o=s.$$state;try{i.url(t,e,n),s.$$state=i.state()}catch(t){throw s.url(r),s.$$state=o,t}}o.on("click",(function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var c=h(t.target);"a"!==nt(c[0]);)if(c[0]===o[0]||!(c=c.parent())[0])return;if(!U(r)||!B(c.attr(r))){var l=c.prop("href"),u=c.attr("href")||c.attr("xlink:href");H(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Ji(l.animVal).href),m.test(l)||!l||c.attr("target")||t.isDefaultPrevented()||s.$$parseLinkUrl(l,u)&&(t.preventDefault(),s.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}})),oi(s.absUrl())!==oi(f)&&i.url(s.absUrl(),!0);var v=!0;return i.onUrlChange((function(t,e){ni(t,p)?(n.$evalAsync((function(){var i,r=s.absUrl(),o=s.$$state;t=oi(t),s.$$parse(t),s.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,s.absUrl()===t&&(i?(s.$$parse(r),s.$$state=o,g(r,!1,o)):(v=!1,b(r,o)))})),n.$$phase||n.$digest()):a.location.href=t})),n.$watch((function(){if(v||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=!1;var t=oi(i.url()),e=oi(s.absUrl()),o=i.state(),a=s.$$replace,c=t!==e||s.$$html5&&r.history&&o!==s.$$state;(v||c)&&(v=!1,n.$evalAsync((function(){var e=s.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,s.$$state,o).defaultPrevented;s.absUrl()===e&&(i?(s.$$parse(t),s.$$state=o):(c&&g(e,a,o===s.$$state?null:s.$$state),b(t,o)))})))}s.$$replace=!1})),s;function b(t,e){n.$broadcast("$locationChangeSuccess",s.absUrl(),t,s.$$state,e)}}]}function fi(){var t=!0,e=this;this.debugEnabled=function(e){return P(e)?(t=e,this):t},this.$get=["$window",function(n){var i,r=u||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(i=o("debug"),function(){t&&i.apply(e,arguments)})};function o(t){var e=n.console||{},i=e[t]||e.log||O,o=!1;try{o=!!i.apply}catch(t){}return o?function(){var t=[];return $(arguments,(function(e){t.push(function(t){return t instanceof Error&&(t.stack&&r?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))})),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}}]}$([ci,si,ai],(function(t){t.prototype=Object.create(li),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==ai||!this.$$html5)throw Qn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=B(e)?null:e,this.$$urlUpdatedByLocation=!0,this}}));var pi=e("$parse"),mi={}.constructor.prototype.valueOf;function gi(t){return t+""}var vi=Bt();$("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){vi[t]=!0}));var bi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},yi=function(t){this.options=t};yi.prototype={constructor:yi,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=vi[e],o=vi[n],a=vi[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"Â "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=P(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw pi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=c(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else n+=bi[o]||o;r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var wi=function(t,e){this.lexer=t,this.options=e};function Ei(t,e){return void 0!==t?t:e}function Ci(t,e){return void 0===t?e:void 0===e?t:t+e}function $i(t,e){var n,i,r;switch(t.type){case wi.Program:n=!0,$(t.body,(function(t){$i(t.expression,e),n=n&&t.expression.constant})),t.constant=n;break;case wi.Literal:t.constant=!0,t.toWatch=[];break;case wi.UnaryExpression:$i(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case wi.BinaryExpression:$i(t.left,e),$i(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case wi.LogicalExpression:$i(t.left,e),$i(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case wi.ConditionalExpression:$i(t.test,e),$i(t.alternate,e),$i(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case wi.Identifier:t.constant=!1,t.toWatch=[t];break;case wi.MemberExpression:$i(t.object,e),t.computed&&$i(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case wi.CallExpression:r=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),n=r,i=[],$(t.arguments,(function(t){$i(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)})),t.constant=n,t.toWatch=r?i:[t];break;case wi.AssignmentExpression:$i(t.left,e),$i(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case wi.ArrayExpression:n=!0,i=[],$(t.elements,(function(t){$i(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)})),t.constant=n,t.toWatch=i;break;case wi.ObjectExpression:n=!0,i=[],$(t.properties,(function(t){$i(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch),t.computed&&($i(t.key,e),t.key.constant||i.push.apply(i,t.key.toWatch))})),t.constant=n,t.toWatch=i;break;case wi.ThisExpression:case wi.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Ai(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length||n[0]!==e?n:void 0}}function xi(t){return t.type===wi.Identifier||t.type===wi.MemberExpression}function ki(t){if(1===t.body.length&&xi(t.body[0].expression))return{type:wi.AssignmentExpression,left:t.body[0].expression,right:{type:wi.NGValueParameter},operator:"="}}function Si(t){this.$filter=t}function Ti(t){this.$filter=t}function _i(t,e,n){this.ast=new wi(t,n),this.astCompiler=n.csp?new Ti(e):new Si(e)}function Mi(t){return q(t.valueOf)?t.valueOf():mi.call(t)}function Fi(){var t,e,n=Bt(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(r){var o={csp:ct().noUnsafeEval,literals:ot(i),isIdentifierStart:q(t)&&t,isIdentifierContinue:q(e)&&e};return function(t,e){var i,a,l;switch(typeof t){case"string":return t=t.trim(),(i=n[l=t])||(":"===t.charAt(0)&&":"===t.charAt(1)&&(a=!0,t=t.substring(2)),(i=new _i(new yi(o),r,o).parse(t)).constant?i.$$watchDelegate=u:a?(i.oneTime=!0,i.$$watchDelegate=c):i.inputs&&(i.$$watchDelegate=s),n[l]=i),h(i,e);case"function":return h(t,e);default:return h(O,e)}};function a(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Mi(t))&&!n)&&(t===e||t!=t&&e!=e)}function s(t,e,n,i,r){var o,s=i.inputs;if(1===s.length){var c=a;return s=s[0],t.$watch((function(t){var e=s(t);return a(e,c,i.literal)||(o=i(t,void 0,void 0,[e]),c=e&&Mi(e)),o}),e,n,r)}for(var l=[],u=[],h=0,d=s.length;h<d;h++)l[h]=a,u[h]=null;return t.$watch((function(t){for(var e=!1,n=0,r=s.length;n<r;n++){var c=s[n](t);(e||(e=!a(c,l[n],i.literal)))&&(u[n]=c,l[n]=c&&Mi(c))}return e&&(o=i(t,void 0,void 0,u)),o}),e,n,r)}function c(t,e,n,i,r){var o,a,c=i.literal?l:P;return o=i.inputs?s(t,u,n,i,r):t.$watch((function(t){return i(t)}),u,n);function u(t,n,i){a=t,q(e)&&e(t,n,i),c(t)&&i.$$postDigest((function(){c(a)&&o()}))}}function l(t){var e=!0;return $(t,(function(t){P(t)||(e=!1)})),e}function u(t,e,n,i){var r=t.$watch((function(t){return r(),i(t)}),e,n);return r}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=t.literal?l:P,o=t.oneTime?function(n,o,a,s){var c=i&&s?s[0]:t(n,o,a,s),l=e(c,n,o);return r(c)?l:c}:function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)};return o.literal=t.literal,o.oneTime=t.oneTime,i=!t.inputs,n&&n!==s?(o.$$watchDelegate=n,o.inputs=t.inputs):e.$stateful||(o.$$watchDelegate=s,o.inputs=t.inputs?t.inputs:[t]),o}}]}function Di(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Oi((function(t){e.$evalAsync(t)}),n,t)}],this.errorOnUnhandledRejections=function(e){return P(e)?(t=e,this):t}}function Ri(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Oi((function(t){e.defer(t)}),n,t)}],this.errorOnUnhandledRejections=function(e){return P(e)?(t=e,this):t}}function Oi(t,n,i){var r=e("$q",TypeError),o=0,a=[];function s(){return new c}function c(){var t=this.promise=new l;this.resolve=function(e){d(t,e)},this.reject=function(e){p(t,e)},this.notify=function(e){g(t,e)}}function l(){this.$$state={status:0}}function u(){for(;!o&&a.length;){var t=a.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+qt(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function h(e){!i||e.pending||2!==e.status||e.pur||(0===o&&0===a.length&&t(u),a.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++o,t((function(){!function(e){var n,r,a;a=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var s=0,c=a.length;s<c;++s){e.pur=!0,r=a[s][0],n=a[s][e.status];try{q(n)?d(r,n(e.value)):1===e.status?d(r,e.value):p(r,e.value)}catch(t){p(r,t)}}}finally{--o,i&&0===o&&t(u)}}(e)})))}function d(t,e){t.$$state.status||(e===t?m(t,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):f(t,e))}function f(t,e){var n,i=!1;try{(H(e)||q(e))&&(n=e.then),q(n)?(t.$$state.status=-1,n.call(e,(function(e){i||(i=!0,f(t,e))}),r,(function(e){g(t,e)}))):(t.$$state.value=e,t.$$state.status=1,h(t.$$state))}catch(t){r(t)}function r(e){i||(i=!0,m(t,e))}}function p(t,e){t.$$state.status||m(t,e)}function m(t,e){t.$$state.value=e,t.$$state.status=2,h(t.$$state)}function g(e,i){var r=e.$$state.pending;e.$$state.status<=0&&r&&r.length&&t((function(){for(var t,e,o=0,a=r.length;o<a;o++){e=r[o][0],t=r[o][3];try{g(e,q(t)?t(i):i)}catch(t){n(t)}}}))}function v(t){var e=new l;return p(e,t),e}function b(t,e,n){var i=null;try{q(n)&&(i=n())}catch(t){return v(t)}return Q(i)?i.then((function(){return e(t)}),v):e(t)}function y(t,e,n,i){var r=new l;return d(r,t),r.then(e,n,i)}_(l.prototype,{then:function(t,e,n){if(B(t)&&B(e)&&B(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&h(this.$$state),i},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then((function(e){return b(e,w,t)}),(function(e){return b(e,v,t)}),e)}});var w=y;function E(t){if(!q(t))throw r("norslvr","Expected resolverFn, got '{0}'",t);var e=new l;return t((function(t){d(e,t)}),(function(t){p(e,t)})),e}return E.prototype=l.prototype,E.defer=s,E.reject=v,E.when=y,E.resolve=w,E.all=function(t){var e=new l,n=0,i=z(t)?[]:{};return $(t,(function(t,r){n++,y(t).then((function(t){i[r]=t,--n||d(e,i)}),(function(t){p(e,t)}))})),0===n&&d(e,i),e},E.race=function(t){var e=s();return $(t,(function(t){y(t).then(e.resolve,e.reject)})),e.promise},E}function Li(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function Ii(){var t=10,n=e("$rootScope"),i=null,o=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(e,a,s){function c(t){t.currentScope.$$destroyed=!0}function l(t){9===u&&(t.$$childHead&&l(t.$$childHead),t.$$nextSibling&&l(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function h(){this.$id=k(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}h.prototype={constructor:h,$new:function(t,e){var n;return e=e||this,t?(n=new h).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=k(),this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!==this)&&n.$on("$destroy",c),n},$watch:function(t,e,n,r){var o=a(t);if(o.$$watchDelegate)return o.$$watchDelegate(this,e,n,o,t);var s=this,c=s.$$watchers,l={fn:e,last:E,get:o,exp:r||t,eq:!!n};return i=null,q(e)||(l.fn=O),c||((c=s.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(l),c.$$digestWatchIndex++,y(this,1),function(){var t=rt(c,l);t>=0&&(y(s,-1),t<c.$$digestWatchIndex&&c.$$digestWatchIndex--),i=null}},$watchGroup:function(t,e){var n=new Array(t.length),i=new Array(t.length),r=[],o=this,a=!1,s=!0;if(!t.length){var c=!0;return o.$evalAsync((function(){c&&e(i,i,o)})),function(){c=!1}}if(1===t.length)return this.$watch(t[0],(function(t,r,o){i[0]=t,n[0]=r,e(i,t===r?i:n,o)}));function l(){a=!1,s?(s=!1,e(i,i,o)):e(i,n,o)}return $(t,(function(t,e){var s=o.$watch(t,(function(t,r){i[e]=t,n[e]=r,a||(a=!0,o.$evalAsync(l))}));r.push(s)})),function(){for(;r.length;)r.shift()()}},$watchCollection:function(t,e){m.$stateful=!0;var n,i,o,s=this,c=e.length>1,l=0,u=a(t,m),h=[],d={},f=!0,p=0;function m(t){var e,o,a,s;if(!B(n=t)){if(H(n))if(C(n)){i!==h&&(p=(i=h).length=0,l++),e=n.length,p!==e&&(l++,i.length=p=e);for(var c=0;c<e;c++)s=i[c],a=n[c],s!=s&&a!=a||s===a||(l++,i[c]=a)}else{for(o in i!==d&&(i=d={},p=0,l++),e=0,n)r.call(n,o)&&(e++,a=n[o],s=i[o],o in i?s!=s&&a!=a||s===a||(l++,i[o]=a):(p++,i[o]=a,l++));if(p>e)for(o in l++,i)r.call(n,o)||(p--,delete i[o])}else i!==n&&(i=n,l++);return l}}return this.$watch(u,(function(){if(f?(f=!1,e(n,n,s)):e(n,o,s),c)if(H(n))if(C(n)){o=new Array(n.length);for(var t=0;t<n.length;t++)o[t]=n[t]}else for(var i in o={},n)r.call(n,i)&&(o[i]=n[i]);else o=n}))},$digest:function(){var r,a,c,l,u,h,m,y,w,C=t,$=this,x=[];v("$digest"),s.$$checkUrlChange(),this===d&&null!==o&&(s.defer.cancel(o),A()),i=null;do{u=!1,m=$;for(var k=0;k<f.length;k++){try{(0,(w=f[k]).fn)(w.scope,w.locals)}catch(t){e(t)}i=null}f.length=0;t:do{if(l=m.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(r=l[l.$$digestWatchIndex])if((a=(0,r.get)(m))===(c=r.last)||(r.eq?st(a,c):D(a)&&D(c))){if(r===i){u=!1;break t}}else u=!0,i=r,r.last=r.eq?ot(a,null):a,(0,r.fn)(a,c===E?a:c,m),C<5&&(x[y=4-C]||(x[y]=[]),x[y].push({msg:q(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:c}))}catch(t){e(t)}if(!(h=m.$$watchersCount&&m.$$childHead||m!==$&&m.$$nextSibling))for(;m!==$&&!(h=m.$$nextSibling);)m=m.$parent}while(m=h);if((u||f.length)&&!C--)throw b(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(u||f.length);for(b();g<p.length;)try{p[g++]()}catch(t){e(t)}p.length=g=0,s.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===d&&s.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)w(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=O,this.$on=this.$watch=this.$watchGroup=function(){return O},this.$$listeners={},this.$$nextSibling=null,l(this)}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t,e){d.$$phase||f.length||s.defer((function(){f.length&&d.$digest()})),f.push({scope:this,fn:a(t),locals:e})},$$postDigest:function(t){p.push(t)},$apply:function(t){try{v("$apply");try{return this.$eval(t)}finally{b()}}catch(t){e(t)}finally{try{d.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){var e=this;t&&m.push((function(){e.$eval(t)})),t=a(t),null===o&&(o=s.defer((function(){d.$apply(A)})))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,w(r,1,t))}},$emit:function(t,n){var i,r,o,a=[],s=this,c=!1,l={name:t,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=ut([l],arguments,1);do{for(i=s.$$listeners[t]||a,l.currentScope=s,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,u)}catch(t){e(t)}else i.splice(r,1),r--,o--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t,n){var i=this,r=i,o=i,a={name:t,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return a;for(var s,c,l,u=ut([a],arguments,1);r=o;){for(a.currentScope=r,c=0,l=(s=r.$$listeners[t]||[]).length;c<l;c++)if(s[c])try{s[c].apply(null,u)}catch(t){e(t)}else s.splice(c,1),c--,l--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var d=new h,f=d.$$asyncQueue=[],p=d.$$postDigestQueue=[],m=d.$$applyAsyncQueue=[],g=0;return d;function v(t){if(d.$$phase)throw n("inprog","{0} already in progress",d.$$phase);d.$$phase=t}function b(){d.$$phase=null}function y(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function w(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function E(){}function A(){for(;m.length;)try{m.shift()()}catch(t){e(t)}o=null}}]}function Ni(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return P(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return P(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return""===(r=Ji(n).href)||r.match(o)?n:"unsafe:"+r}}}wi.Program="Program",wi.ExpressionStatement="ExpressionStatement",wi.AssignmentExpression="AssignmentExpression",wi.ConditionalExpression="ConditionalExpression",wi.LogicalExpression="LogicalExpression",wi.BinaryExpression="BinaryExpression",wi.UnaryExpression="UnaryExpression",wi.CallExpression="CallExpression",wi.MemberExpression="MemberExpression",wi.Identifier="Identifier",wi.Literal="Literal",wi.ArrayExpression="ArrayExpression",wi.Property="Property",wi.ObjectExpression="ObjectExpression",wi.ThisExpression="ThisExpression",wi.LocalsExpression="LocalsExpression",wi.NGValueParameter="NGValueParameter",wi.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:wi.Program,body:t}},expressionStatement:function(){return{type:wi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!xi(t))throw pi("lval","Trying to assign a value to a non l-value");t={type:wi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:wi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:wi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:wi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:wi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:wi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:wi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:wi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:wi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=ot(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:wi.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:wi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:wi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:wi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:wi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:wi.Identifier,name:t.text}},constant:function(){return{type:wi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:wi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:wi.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:wi.ObjectExpression,properties:e}},throwError:function(t,e){throw pi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw pi("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw pi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:wi.ThisExpression},$locals:{type:wi.LocalsExpression}}},Si.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$i(t,e.$filter);var n,i="";if(this.stage="assign",n=ki(t)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Ai(t.body);e.stage="inputs",$(o,(function(t,n){var i="fn"+n;e.state[i]={vars:[],body:[],own:{}},e.state.computing=i;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push(i),t.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(t);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,gi,Ei,Ci);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return $(e,(function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))})),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return $(this.state.filters,(function(n,i){t.push(n+"=$filter("+e.escape(i)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,r,o){var a,s,c,l,u,h=this;if(i=i||O,!o&&P(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,r,!0));switch(t.type){case wi.Program:$(t.body,(function(e,n){h.recurse(e.expression,void 0,void 0,(function(t){s=t})),n!==t.body.length-1?h.current().body.push(s,";"):h.return_(s)}));break;case wi.Literal:l=this.escape(t.value),this.assign(e,l),i(e||l);break;case wi.UnaryExpression:this.recurse(t.argument,void 0,void 0,(function(t){s=t})),l=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,l),i(l);break;case wi.BinaryExpression:this.recurse(t.left,void 0,void 0,(function(t){a=t})),this.recurse(t.right,void 0,void 0,(function(t){s=t})),l="+"===t.operator?this.plus(a,s):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(s,0):"("+a+")"+t.operator+"("+s+")",this.assign(e,l),i(l);break;case wi.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case wi.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case wi.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),(function(){h.if_("inputs"===h.stage||"s",(function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))}))}),e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),i(e);break;case wi.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,a,void 0,(function(){h.if_(h.notNull(a),(function(){t.computed?(s=h.nextId(),h.recurse(t.property,s),h.getStringValue(s),r&&1!==r&&h.if_(h.not(h.computedMember(a,s)),h.lazyAssign(h.computedMember(a,s),"{}")),l=h.computedMember(a,s),h.assign(e,l),n&&(n.computed=!0,n.name=s)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(a,t.property.name)),h.lazyAssign(h.nonComputedMember(a,t.property.name),"{}")),l=h.nonComputedMember(a,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))}),(function(){h.assign(e,"undefined")})),i(e)}),!!r);break;case wi.CallExpression:e=e||this.nextId(),t.filter?(s=h.filter(t.callee.name),c=[],$(t.arguments,(function(t){var e=h.nextId();h.recurse(t,e),c.push(e)})),l=s+"("+c.join(",")+")",h.assign(e,l),i(e)):(s=h.nextId(),a={},c=[],h.recurse(t.callee,s,a,(function(){h.if_(h.notNull(s),(function(){$(t.arguments,(function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,(function(t){c.push(t)}))})),l=a.name?h.member(a.context,a.name,a.computed)+"("+c.join(",")+")":s+"("+c.join(",")+")",h.assign(e,l)}),(function(){h.assign(e,"undefined")})),i(e)})));break;case wi.AssignmentExpression:s=this.nextId(),a={},this.recurse(t.left,void 0,a,(function(){h.if_(h.notNull(a.context),(function(){h.recurse(t.right,s),l=h.member(a.context,a.name,a.computed)+t.operator+s,h.assign(e,l),i(e||l)}))}),1);break;case wi.ArrayExpression:c=[],$(t.elements,(function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,(function(t){c.push(t)}))})),l="["+c.join(",")+"]",this.assign(e,l),i(e||l);break;case wi.ObjectExpression:c=[],u=!1,$(t.properties,(function(t){t.computed&&(u=!0)})),u?(e=e||this.nextId(),this.assign(e,"{}"),$(t.properties,(function(t){t.computed?(a=h.nextId(),h.recurse(t.key,a)):a=t.key.type===wi.Identifier?t.key.name:""+t.key.value,s=h.nextId(),h.recurse(t.value,s),h.assign(h.member(e,a,t.computed),s)}))):($(t.properties,(function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,(function(t){c.push(h.escape(e.key.type===wi.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),l="{"+c.join(",")+"}",this.assign(e,l)),i(e||l);break;case wi.ThisExpression:this.assign(e,"s"),i(e||"s");break;case wi.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case wi.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(U(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(W(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw pi("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Ti.prototype={compile:function(t){var e,n,i=this;$i(t,i.$filter),(e=ki(t))&&(n=this.recurse(e));var r,o=Ai(t.body);o&&(r=[],$(o,(function(t,e){var n=i.recurse(t);t.input=n,r.push(n),t.watchId=e})));var a=[];$(t.body,(function(t){a.push(i.recurse(t.expression))}));var s=0===t.body.length?O:1===t.body.length?a[0]:function(t,e){var n;return $(a,(function(i){n=i(t,e)})),n};return n&&(s.assign=function(t,e,i){return n(t,i,e)}),r&&(s.inputs=r),s},recurse:function(t,e,n){var i,r,o,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case wi.Literal:return this.value(t.value,e);case wi.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case wi.BinaryExpression:case wi.LogicalExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case wi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case wi.Identifier:return a.identifier(t.name,e,n);case wi.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(i,r,e,n):this.nonComputedMember(i,r,e,n);case wi.CallExpression:return o=[],$(t.arguments,(function(t){o.push(a.recurse(t))})),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,n,i,a){for(var s=[],c=0;c<o.length;++c)s.push(o[c](t,n,i,a));var l=r.apply(void 0,s,a);return e?{context:void 0,name:void 0,value:l}:l}:function(t,n,i,a){var s,c=r(t,n,i,a);if(null!=c.value){for(var l=[],u=0;u<o.length;++u)l.push(o[u](t,n,i,a));s=c.value.apply(c.context,l)}return e?{value:s}:s};case wi.AssignmentExpression:return i=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,n,o,a){var s=i(t,n,o,a),c=r(t,n,o,a);return s.context[s.name]=c,e?{value:c}:c};case wi.ArrayExpression:return o=[],$(t.elements,(function(t){o.push(a.recurse(t))})),function(t,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](t,n,i,r));return e?{value:a}:a};case wi.ObjectExpression:return o=[],$(t.properties,(function(t){t.computed?o.push({key:a.recurse(t.key),computed:!0,value:a.recurse(t.value)}):o.push({key:t.key.type===wi.Identifier?t.key.name:""+t.key.value,computed:!1,value:a.recurse(t.value)})})),function(t,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(t,n,i,r)]=o[s].value(t,n,i,r):a[o[s].key]=o[s].value(t,n,i,r);return e?{value:a}:a};case wi.ThisExpression:return function(t){return e?{value:t}:t};case wi.LocalsExpression:return function(t,n){return e?{value:n}:n};case wi.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=P(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=P(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=Ci(t(i,r,o,a),e(i,r,o,a));return n?{value:s}:s}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),c=e(i,r,o,a),l=(P(s)?s:0)-(P(c)?c:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var c=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(i,r,o,a){var s=r&&t in r?r:i;n&&1!==n&&s&&null==s[t]&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,n,i){return function(r,o,a,s){var c,l,u=t(r,o,a,s);return null!=u&&(c=gi(c=e(r,o,a,s)),i&&1!==i&&u&&!u[c]&&(u[c]={}),l=u[c]),n?{context:u,name:c,value:l}:l}},nonComputedMember:function(t,e,n,i){return function(r,o,a,s){var c=t(r,o,a,s);i&&1!==i&&c&&null==c[e]&&(c[e]={});var l=null!=c?c[e]:void 0;return n?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}},_i.prototype={constructor:_i,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===wi.Literal||t.body[0].expression.type===wi.ArrayExpression||t.body[0].expression.type===wi.ObjectExpression)}(e),n.constant=function(t){return t.constant}(e),n}};var Bi=e("$sce"),Pi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Hi=/_([a-z])/g;function ji(t){return t.replace(Hi,te)}function Ui(t){var e=[];return P(t)&&$(t,(function(t){e.push(function(t){if("self"===t)return t;if(U(t)){if(t.indexOf("***")>-1)throw Bi("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=tt(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(Y(t))return new RegExp("^"+t.source+"$");throw Bi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))})),e}function Wi(){this.SCE_CONTEXTS=Pi;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Ui(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Ui(t)),e},this.$get=["$injector",function(n){var i=function(t){throw Bi("unsafe","Attempting to use an unsafe value in a safe context.")};function r(t,e){return"self"===t?Zi(e):!!t.exec(e.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}n.has("$sanitize")&&(i=n.get("$sanitize"));var a=o(),s={};return s[Pi.HTML]=o(a),s[Pi.CSS]=o(a),s[Pi.URL]=o(a),s[Pi.JS]=o(a),s[Pi.RESOURCE_URL]=o(s[Pi.URL]),{trustAs:function(t,e){var n=s.hasOwnProperty(t)?s[t]:null;if(!n)throw Bi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||B(e)||""===e)return e;if("string"!=typeof e)throw Bi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(n,o){if(null===o||B(o)||""===o)return o;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(n===Pi.RESOURCE_URL){if(function(n){var i,o,a=Ji(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}(o))return o;throw Bi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(n===Pi.HTML)return i(o);throw Bi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof a?t.$$unwrapTrustedValue():t}}}]}function Vi(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&u<8)throw Bi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=zt(Pi);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=L),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,(function(e){return i.getTrusted(t,e)}))};var r=i.parseAs,o=i.getTrusted,a=i.trustAs;return $(Pi,(function(t,e){var n=c(e);i[ji("parse_as_"+n)]=function(e){return r(t,e)},i[ji("get_trusted_"+n)]=function(e){return o(t,e)},i[ji("trust_as_"+n)]=function(e){return a(t,e)}})),i}]}function zi(){this.$get=["$window","$document",function(t,e){var n={},i=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,r=F((/android (\d+)/.exec(c((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},s=a.body&&a.body.style,l=!1,h=!1;return s&&(l=!(!("transition"in s)&&!("webkitTransition"in s)),h=!(!("animation"in s)&&!("webkitAnimation"in s))),{history:!(!i||r<4||o),hasEvent:function(t){if("input"===t&&u)return!1;if(B(n[t])){var e=a.createElement("div");n[t]="on"+t in e}return n[t]},csp:ct(),transitions:l,animations:h,android:r}}]}var qi=e("$compile");function Yi(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,i,r,o){function a(s,c){a.totalPendingRequests++,U(s)&&!B(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=i.defaults&&i.defaults.transformResponse;return z(l)?l=l.filter((function(t){return t!==Nn})):l===Nn&&(l=null),i.get(s,_({cache:n,transformResponse:l},t)).finally((function(){a.totalPendingRequests--})).then((function(t){return n.put(s,t.data),t.data}),(function(t){return c||(t=qi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),r.reject(t)}))}return a.totalPendingRequests=0,a}]}function Ki(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={findBindings:function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return $(i,(function(t){var i=w.element(t).data("$binding");i&&$(i,(function(i){n?new RegExp("(^|\\s)"+tt(e)+"(\\s|\\||$)").test(i)&&r.push(t):-1!==i.indexOf(e)&&r.push(t)}))})),r},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}};return i}]}function Gi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){var o={};function a(a,s,c){q(a)||(c=s,s=a,a=O);var l,u=ht(arguments,3),h=P(c)&&!c,d=(h?i:n).defer(),f=d.promise;return l=e.defer((function(){try{d.resolve(a.apply(null,u))}catch(t){d.reject(t),r(t)}finally{delete o[f.$$timeoutId]}h||t.$apply()}),s),f.$$timeoutId=l,o[l]=d,f}return a.cancel=function(t){return!(!t||!(t.$$timeoutId in o))&&(o[t.$$timeoutId].promise.catch(O),o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},a}]}var Xi=t.document.createElement("a"),Qi=Ji(t.location.href);function Ji(t){var e=t;return u&&(Xi.setAttribute("href",e),e=Xi.href),Xi.setAttribute("href",e),{href:Xi.href,protocol:Xi.protocol?Xi.protocol.replace(/:$/,""):"",host:Xi.host,search:Xi.search?Xi.search.replace(/^\?/,""):"",hash:Xi.hash?Xi.hash.replace(/^#/,""):"",hostname:Xi.hostname,port:Xi.port,pathname:"/"===Xi.pathname.charAt(0)?Xi.pathname:"/"+Xi.pathname}}function Zi(t){var e=U(t)?Ji(t):t;return e.protocol===Qi.protocol&&e.host===Qi.host}function tr(){this.$get=I(t)}function er(t){var e=t[0]||{},n={},i="";function r(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,o,a,s,c,l=function(t){try{return t.cookie||""}catch(t){return""}}(e);if(l!==i)for(t=(i=l).split("; "),n={},a=0;a<t.length;a++)(s=(o=t[a]).indexOf("="))>0&&(c=r(o.substring(0,s)),B(n[c])&&(n[c]=r(o.substring(s+1))));return n}}function nr(){this.$get=er}function ir(t){var e="Filter";function n(i,r){if(H(i)){var o={};return $(i,(function(t,e){o[e]=n(e,t)})),o}return t.factory(i+e,r)}this.register=n,this.$get=["$injector",function(t){return function(n){return t.get(n+e)}}],n("currency",ur),n("date",Cr),n("filter",rr),n("json",$r),n("limitTo",kr),n("lowercase",Ar),n("number",hr),n("orderBy",Tr),n("uppercase",xr)}function rr(){return function(t,n,i,r){if(!C(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}var o,a;switch(r=r||"$",ar(n)){case"function":o=n;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=function(t,e,n,i){var r=H(t)&&n in t;return!0===e?e=st:q(e)||(e=function(t,e){return!(B(t)||(null===t||null===e?t!==e:H(e)||H(t)&&!N(t)||(t=c(""+t),e=c(""+e),-1===t.indexOf(e))))}),function(o){return r&&!H(o)?or(o,t[n],e,n,!1):or(o,t,e,n,i)}}(n,i,r,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function or(t,e,n,i,r,o){var a=ar(t),s=ar(e);if("string"===s&&"!"===e.charAt(0))return!or(t,e.substring(1),n,i,r);if(z(t))return t.some((function(t){return or(t,e,n,i,r)}));switch(a){case"object":var c;if(r){for(c in t)if(c.charAt&&"$"!==c.charAt(0)&&or(t[c],e,n,i,!0))return!0;return!o&&or(t,e,n,i,!1)}if("object"===s){for(c in e){var l=e[c];if(!q(l)&&!B(l)){var u=c===i;if(!or(u?t:t[c],l,n,i,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function ar(t){return null===t?"null":typeof t}er.$inject=["$document"],ir.$inject=["$provide"];var sr=22,cr=".",lr="0";function ur(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return B(n)&&(n=e.CURRENCY_SYM),B(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:dr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function hr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:dr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function dr(t,e,n,i,r){if(!U(t)&&!W(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,c=Math.abs(t)+"",l="";if(a)l="â";else{o=function(t){var e,n,i,r,o,a=0;for((n=t.indexOf(cr))>-1&&(t=t.replace(cr,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)===lr;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===lr;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>sr&&(e=e.splice(0,sr-1),a=n-1,n=1),{d:e,e:a,i:n}}(c),function(t,e,n,i){var r=t.d,o=r.length-t.i,a=(e=B(e)?Math.min(Math.max(n,o),i):+e)+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var c=a;c<r.length;c++)r[c]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var h=r.reduceRight((function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)}),0);h&&(r.unshift(h),t.i++)}(o,r,e.minFrac,e.maxFrac);var u=o.d,h=o.i,d=o.e,f=[];for(s=u.reduce((function(t,e){return t&&!e}),!0);h<0;)u.unshift(0),h++;h>0?f=u.splice(h,u.length):(f=u,u=[0]);var p=[];for(u.length>=e.lgSize&&p.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)p.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&p.unshift(u.join("")),l=p.join(n),f.length&&(l+=i+f.join("")),d&&(l+="e+"+d)}return t<0&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function fr(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=1-t:(t=-t,r="-")),t=""+t;t.length<e;)t=lr+t;return n&&(t=t.substr(t.length-e)),r+t}function pr(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),fr(a,e,i,r)}}function mr(t,e,n){return function(i,r){var o=i["get"+t]();return r[l((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function gr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function vr(t){return function(e){var n,i=gr(e.getFullYear()),r=(n=e,+new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))-+i);return fr(1+Math.round(r/6048e5),t)}}function br(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}ur.$inject=["$locale"],hr.$inject=["$locale"];var yr={yyyy:pr("FullYear",4,0,!1,!0),yy:pr("FullYear",2,0,!0,!0),y:pr("FullYear",1,0,!1,!0),MMMM:mr("Month"),MMM:mr("Month",!0),MM:pr("Month",2,1),M:pr("Month",1,1),LLLL:mr("Month",!1,!0),dd:pr("Date",2),d:pr("Date",1),HH:pr("Hours",2),H:pr("Hours",1),hh:pr("Hours",2,-12),h:pr("Hours",1,-12),mm:pr("Minutes",2),m:pr("Minutes",1),ss:pr("Seconds",2),s:pr("Seconds",1),sss:pr("Milliseconds",3),EEEE:mr("Day"),EEE:mr("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var i=-1*n;return(i>=0?"+":"")+(fr(Math[i>0?"floor":"ceil"](i/60),2)+fr(Math.abs(i%60),2))},ww:vr(2),w:vr(1),G:br,GG:br,GGG:br,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},wr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Er=/^-?\d+$/;function Cr(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,a,s="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,U(n)&&(n=Er.test(n)?F(n):function(t){var n;if(n=t.match(e)){var i=new Date(0),r=0,o=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(r=F(n[9]+n[10]),o=F(n[9]+n[11])),a.call(i,F(n[1]),F(n[2])-1,F(n[3]));var c=F(n[4]||0)-r,l=F(n[5]||0)-o,u=F(n[6]||0),h=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,c,l,u,h),i}return t}(n)),W(n)&&(n=new Date(n)),!V(n)||!isFinite(n.getTime()))return n;for(;i;)(a=wr.exec(i))?i=(c=ut(c,a,1)).pop():(c.push(i),i=null);var l=n.getTimezoneOffset();return r&&(l=vt(r,l),n=bt(n,r,!0)),$(c,(function(e){o=yr[e],s+=o?o(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function $r(){return function(t,e){return B(e)&&(e=2),pt(t,e)}}Cr.$inject=["$locale"];var Ar=I(c),xr=I(l);function kr(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):F(e),D(e)?t:(W(t)&&(t=t.toString()),C(t)?(n=(n=!n||isNaN(n)?0:F(n))<0?Math.max(0,t.length+n):n,e>=0?Sr(t,n,n+e):0===n?Sr(t,e,t.length):Sr(t,Math.max(0,n+e),n)):t)}}function Sr(t,e,n){return U(t)?t.slice(e,n):p.call(t,e,n)}function Tr(t){return function(r,o,a,s){if(null==r)return r;if(!C(r))throw e("orderBy")("notarray","Expected array but received: {0}",r);z(o)||(o=[o]),0===o.length&&(o=["+"]);var c=o.map((function(e){var n=1,i=L;if(q(e))i=e;else if(U(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e)).constant)){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})),l=a?-1:1,u=q(s)?s:i,h=Array.prototype.map.call(r,(function(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:c.map((function(i){return function(t,e){var i=typeof t;return null===t?(i="string",t="null"):"object"===i&&(t=function(t){return q(t.valueOf)&&n(t=t.valueOf())||N(t)&&n(t=t.toString()),t}(t)),{value:t,type:i,index:e}}(i.get(t),e)}))}}));return h.sort((function(t,e){for(var n=0,i=c.length;n<i;n++){var r=u(t.predicateValues[n],e.predicateValues[n]);if(r)return r*c[n].descending*l}return u(t.tieBreaker,e.tieBreaker)*l})),h.map((function(t){return t.value}))};function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(H(o)&&(o=t.index),H(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}}function _r(t){return q(t)&&(t={link:t}),t.restrict=t.restrict||"AC",I(t)}Tr.$inject=["$parse"];var Mr=I({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===v.call(e.prop("href"))?"xlink:href":"href";e.on("click",(function(t){e.attr(n)||t.preventDefault()}))}}}}),Fr={};$(Te,(function(t,e){if("multiple"!==t){var n=vn("ng-"+e),i=r;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[n]&&r(t,0,i)}),Fr[n]=function(){return{restrict:"A",priority:100,link:i}}}function r(t,i,r){t.$watch(r[n],(function(t){r.$set(e,!!t)}))}})),$(Me,(function(t,e){Fr[e]=function(){return{priority:100,link:function(t,i,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var o=r.ngPattern.match(n);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}t.$watch(r[e],(function(t){r.$set(e,t)}))}}}})),$(["src","srcset","href"],(function(t){var e=vn("ng-"+t);Fr[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===v.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,(function(e){e?(r.$set(a,e),u&&o&&i.prop(o,r[a])):"href"===t&&r.$set(a,null)}))}}}}));var Dr={$addControl:O,$$renameControl:function(t,e){t.$name=e},$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O,$setSubmitted:O},Rr="ng-pending",Or="ng-submitted";function Lr(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Dr,this.$$element=t,this.$$animate=i,Pr(this)}Lr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Lr.prototype={$rollbackViewValue:function(){$(this.$$controls,(function(t){t.$rollbackViewValue()}))},$commitViewValue:function(){$(this.$$controls,(function(t){t.$commitViewValue()}))},$addControl:function(t){Lt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],$(this.$pending,(function(e,n){this.$setValidity(n,null,t)}),this),$(this.$error,(function(e,n){this.$setValidity(n,null,t)}),this),$(this.$$success,(function(e,n){this.$setValidity(n,null,t)}),this),rt(this.$$controls,t),t.$$parentForm=Dr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Oo),this.$$animate.addClass(this.$$element,Lo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Oo,Lo+" "+Or),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,$(this.$$controls,(function(t){t.$setPristine()}))},$setUntouched:function(){$(this.$$controls,(function(t){t.$setUntouched()}))},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Or),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Hr({clazz:Lr,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(rt(i,n),0===i.length&&delete t[e])}});var Ir=function(t){return["$timeout","$parse",function(e,n){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Lr,compile:function(n,r){n.addClass(Oo).addClass(Do);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var c=function(e){t.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),e.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",(function(){e((function(){n[0].removeEventListener("submit",c)}),0,!1)}))}(a[1]||s.$$parentForm).$addControl(s);var l=o?i(s.$name):O;o&&(l(t,s),r.$observe(o,(function(e){s.$name!==e&&(l(t,void 0),s.$$parentForm.$$renameControl(s,e),(l=i(s.$name))(t,s))}))),n.on("$destroy",(function(){s.$$parentForm.$removeControl(s),l(t,void 0),_(s,Dr)}))}}}};function i(t){return""===t?n('this[""]').assign:n(t).assign||O}}]},Nr=Ir(),Br=Ir(!0);function Pr(t){t.$$classCache={},t.$$classCache[Ro]=!(t.$$classCache[Do]=t.$$element.hasClass(Do))}function Hr(t){var e=t.clazz,n=t.set,i=t.unset;function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function o(t,e,n){e=e?"-"+Ft(e,"-"):"",r(t,Do+e,!0===n),r(t,Ro+e,!1===n)}e.prototype.$setValidity=function(t,e,a){var s;B(e)?function(t,e,i,r){t[e]||(t[e]={}),n(t[e],i,r)}(this,"$pending",t,a):function(t,e,n,r){t[e]&&i(t[e],n,r),jr(t[e])&&(t[e]=void 0)}(this,"$pending",t,a),X(e)?e?(i(this.$error,t,a),n(this.$$success,t,a)):(n(this.$error,t,a),i(this.$$success,t,a)):(i(this.$error,t,a),i(this.$$success,t,a)),this.$pending?(r(this,Rr,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(r(this,Rr,!1),this.$valid=jr(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,t,s=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,s,this)}}function jr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Ur=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Wr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Vr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,zr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,qr=/^(\d{4,})-(\d{2})-(\d{2})$/,Yr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Kr=/^(\d{4,})-W(\d\d)$/,Gr=/^(\d{4,})-(\d\d)$/,Xr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Qr="keydown wheel mousedown",Jr=Bt();$("date,datetime-local,month,time,week".split(","),(function(t){Jr[t]=!0}));var Zr={text:function(t,e,n,i,r,o){eo(t,e,n,i,r,o),to(i)},date:io("date",qr,no(qr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":io("datetimelocal",Yr,no(Yr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:io("time",Xr,no(Xr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:io("week",Kr,(function(t,e){if(V(t))return t;if(U(t)){Kr.lastIndex=0;var n=Kr.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,c=0,l=gr(i),u=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),c=e.getMilliseconds()),new Date(i,0,l.getDate()+u,o,a,s,c)}}return NaN}),"yyyy-Www"),month:io("month",Gr,no(Gr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,o){var a,s,c;(ro(t,e,n,i),oo(i),eo(t,e,n,i,r,o),(P(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||B(a)||t>=a},n.$observe("min",(function(t){a=ao(t),i.$validate()}))),(P(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||B(s)||t<=s},n.$observe("max",(function(t){s=ao(t),i.$validate()}))),P(n.step)||n.ngStep)&&(i.$validators.step=function(t,e){return i.$isEmpty(e)||B(c)||lo(e,a||0,c)},n.$observe("step",(function(t){c=ao(t),i.$validate()})))},url:function(t,e,n,i,r,o){eo(t,e,n,i,r,o),to(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Wr.test(n)}},email:function(t,e,n,i,r,o){eo(t,e,n,i,r,o),to(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Vr.test(n)}},radio:function(t,e,n,i){var r=!n.ngTrim||"false"!==Z(n.ngTrim);B(n.name)&&e.attr("name",k()),e.on("click",(function(t){var o;e[0].checked&&(o=n.value,r&&(o=Z(o)),i.$setViewValue(o,t&&t.type))})),i.$render=function(){var t=n.value;r&&(t=Z(t)),e[0].checked=t===i.$viewValue},n.$observe("value",i.$render)},range:function(t,e,n,i,r,o){ro(t,e,n,i),oo(i),eo(t,e,n,i,r,o);var a=i.$$hasNativeValidators&&"range"===e[0].type,s=a?0:void 0,c=a?100:void 0,l=a?1:void 0,u=e[0].validity,h=P(n.min),d=P(n.max),f=P(n.step),p=i.$render;function m(t,i){e.attr(t,n[t]),n.$observe(t,i)}i.$render=a&&P(u.rangeUnderflow)&&P(u.rangeOverflow)?function(){p(),i.$setViewValue(e.val())}:p,h&&(i.$validators.min=a?function(){return!0}:function(t,e){return i.$isEmpty(e)||B(s)||e>=s},m("min",(function(t){if(s=ao(t),!D(i.$modelValue))if(a){var n=e.val();s>n&&(n=s,e.val(n)),i.$setViewValue(n)}else i.$validate()}))),d&&(i.$validators.max=a?function(){return!0}:function(t,e){return i.$isEmpty(e)||B(c)||e<=c},m("max",(function(t){if(c=ao(t),!D(i.$modelValue))if(a){var n=e.val();c<n&&(e.val(c),n=c<s?s:c),i.$setViewValue(n)}else i.$validate()}))),f&&(i.$validators.step=a?function(){return!u.stepMismatch}:function(t,e){return i.$isEmpty(e)||B(l)||lo(e,s||0,l)},m("step",(function(t){l=ao(t),D(i.$modelValue)||(a&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())})))},checkbox:function(t,e,n,i,r,o,a,s){var c=uo(s,t,"ngTrueValue",n.ngTrueValue,!0),l=uo(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",(function(t){i.$setViewValue(e[0].checked,t&&t.type)})),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push((function(t){return st(t,c)})),i.$parsers.push((function(t){return t?c:l}))},hidden:O,button:O,submit:O,reset:O,file:O};function to(t){t.$formatters.push((function(e){return t.$isEmpty(e)?e:e.toString()}))}function eo(t,e,n,r,o,a){var s,l=c(e[0].type);if(!o.android){var u=!1;e.on("compositionstart",(function(){u=!0})),e.on("compositionend",(function(){u=!1,h()}))}var h=function(t){if(s&&(a.defer.cancel(s),s=null),!u){var i=e.val(),o=t&&t.type;"password"===l||n.ngTrim&&"false"===n.ngTrim||(i=Z(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,o)}};if(o.hasEvent("input"))e.on("input",h);else{var d=function(t,e,n){s||(s=a.defer((function(){s=null,e&&e.value===n||h(t)})))};e.on("keydown",(function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||d(t,this,this.value)})),o.hasEvent("paste")&&e.on("paste cut",d)}e.on("change",h),Jr[l]&&r.$$hasNativeValidators&&l===n.type&&e.on(Qr,(function(t){if(!s){var e=this[i],n=e.badInput,r=e.typeMismatch;s=a.defer((function(){s=null,e.badInput===n&&e.typeMismatch===r||h(t)}))}})),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function no(t,e){return function(n,i){var r,o;if(V(n))return n;if(U(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ur.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},$(r,(function(t,n){n<e.length&&(o[e[n]]=+t)})),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function io(t,e,n,i){return function(r,o,a,s,c,l,u){ro(r,o,a,s),eo(0,o,a,s,c,l);var h,d,f,p=s&&s.$options.getOption("timezone");function m(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function g(t){return P(t)&&!V(t)?n(t)||void 0:t}s.$$parserName=t,s.$parsers.push((function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,h);return p&&(i=bt(i,p)),i}})),s.$formatters.push((function(t){if(t&&!V(t))throw Ho("datefmt","Expected `{0}` to be a date",t);return m(t)?((h=t)&&p&&(h=bt(h,p,!0)),u("date")(t,i,p)):(h=null,"")})),(P(a.min)||a.ngMin)&&(s.$validators.min=function(t){return!m(t)||B(d)||n(t)>=d},a.$observe("min",(function(t){d=g(t),s.$validate()}))),(P(a.max)||a.ngMax)&&(s.$validators.max=function(t){return!m(t)||B(f)||n(t)<=f},a.$observe("max",(function(t){f=g(t),s.$validate()})))}}function ro(t,e,n,r){var o=e[0];(r.$$hasNativeValidators=H(o.validity))&&r.$parsers.push((function(t){var n=e.prop(i)||{};return n.badInput||n.typeMismatch?void 0:t}))}function oo(t){t.$$parserName="number",t.$parsers.push((function(e){return t.$isEmpty(e)?null:zr.test(e)?parseFloat(e):void 0})),t.$formatters.push((function(e){if(!t.$isEmpty(e)){if(!W(e))throw Ho("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}))}function ao(t){return P(t)&&!W(t)&&(t=parseFloat(t)),D(t)?void 0:t}function so(t){return(0|t)===t}function co(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}return e.length-n-1}function lo(t,e,n){var i=Number(t),r=!so(i),o=!so(e),a=!so(n);if(r||o||a){var s=r?co(i):0,c=o?co(e):0,l=a?co(n):0,u=Math.max(s,c,l),h=Math.pow(10,u);i*=h,e*=h,n*=h,r&&(i=Math.round(i)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(i-e)%n==0}function uo(t,e,n,i,r){var o;if(P(i)){if(!(o=t(i)).constant)throw Ho("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}var ho=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Zr[c(a.type)]||Zr.text)(r,o,a,s[0],e,t,n,i)}}}}],fo=/^(true|false|\d+)$/,po=function(){function t(t,e,n){var i=P(n)?n:9===u?"":null;t.prop("value",i),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return fo.test(n.ngValue)?function(e,n,i){t(n,i,e.$eval(i.ngValue))}:function(e,n,i){e.$watch(i.ngValue,(function(e){t(n,i,e)}))}}}},mo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,(function(t){n.textContent=Pt(t)}))}}}}],go=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",(function(t){i.textContent=B(t)?"":t}))}}}}],vo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,(function(e){return t.valueOf(e)}));return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,(function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")}))}}}}],bo=I({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push((function(){t.$eval(n.ngChange)}))}});function yo(t,e){var n;return t="ngClass"+t,["$parse",function(a){return{restrict:"AC",link:function(s,c,l){var u,h=c.data("$classCounts"),d=!0;function f(t,e){var n=[];return $(t,(function(t){(e>0||h[t])&&(h[t]=(h[t]||0)+e,h[t]===+(e>0)&&n.push(t))})),n.join(" ")}h||(h=Bt(),c.data("$classCounts",h)),"ngClass"!==t&&(n||(n=a("$index",(function(t){return 1&t}))),s.$watch(n,(function(t){var n;t===e?(n=f(r(n=u),1),l.$addClass(n)):function(t){t=f(r(t),-1),l.$removeClass(t)}(u),d=t}))),s.$watch(a(l[t],o),(function(t){U(t)||(t=o(t)),d===e&&function(t,e){var n=r(t),o=r(e),a=i(n,o),s=i(o,n),c=f(a,-1),u=f(s,1);l.$addClass(u),l.$removeClass(c)}(u,t),u=t}))}}}];function i(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function r(t){return t&&t.split(" ")}function o(t){var e=t;return z(t)?e=t.map(o).join(" "):H(t)&&(e=Object.keys(t).filter((function(e){return t[e]})).join(" ")),e}}var wo=yo("",!0),Eo=yo("Odd",0),Co=yo("Even",1),$o=_r({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ao=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],xo={},ko={blur:!0,focus:!0};$("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(t){var e=vn("ng-"+t);xo[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e]);return function(e,n){n.on(t,(function(n){var r=function(){a(e,{$event:n})};ko[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)}))}}}}]}));var So=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,l;n.$watch(r.ngIf,(function(n){n?c||a((function(n,o){c=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)})):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=Nt(s.clone),t.leave(l).done((function(t){!1!==t&&(l=null)})),s=null))}))}}}],To=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:w.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,c,l,u){var h,d,f,p=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).done((function(t){!1!==t&&(d=null)})),d=f,f=null)};i.$watch(o,(function(o){var c=function(t){!1===t||!P(s)||s&&!i.$eval(s)||e()},d=++p;o?(t(o,!0).then((function(t){if(!i.$$destroyed&&d===p){var e=i.$new();l.template=t;var s=u(e,(function(t){m(),n.enter(t,null,r).done(c)}));f=s,(h=e).$emit("$includeContentLoaded",o),i.$eval(a)}}),(function(){i.$$destroyed||d===p&&(m(),i.$emit("$includeContentError",o))})),i.$emit("$includeContentRequested",o)):(m(),l.template=null)}))}}}}],_o=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(v.call(i[0]).match(/SVG/))return i.empty(),void e(le(o.template,t.document).childNodes)(n,(function(t){i.append(t)}),{futureParentElement:i});i.html(o.template),e(i.contents())(n)}}}],Mo=_r({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Fo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?Z(r):r;i.$parsers.push((function(t){if(!B(t)){var e=[];return t&&$(t.split(a),(function(t){t&&e.push(o?Z(t):t)})),e}})),i.$formatters.push((function(t){if(z(t))return t.join(r)})),i.$isEmpty=function(t){return!t||!t.length}}}},Do="ng-valid",Ro="ng-invalid",Oo="ng-pristine",Lo="ng-dirty",Io="ng-untouched",No="ng-touched",Bo="ng-empty",Po="ng-not-empty",Ho=e("ngModel");function jo(t,e,n,i,r,o,a,s,c){var l;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=Dr,this.$options=Uo,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=e,Pr(this),(l=this).$$scope.$watch((function(t){var e=l.$$ngModelGet(t);if(e!==l.$modelValue&&(l.$modelValue==l.$modelValue||e==e)){l.$modelValue=l.$$rawModelValue=e,l.$$parserValid=void 0;for(var n=l.$formatters,i=n.length,r=e;i--;)r=n[i](r);l.$viewValue!==r&&(l.$$updateEmptyClasses(r),l.$viewValue=l.$$lastCommittedViewValue=r,l.$render(),l.$$runValidators(l.$modelValue,l.$viewValue,O))}return e}))}jo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],jo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return q(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){q(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Ho("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,yt(this.$$element))},$render:O,$isEmpty:function(t){return B(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,Po),this.$$animate.addClass(this.$$element,Bo)):(this.$$animate.removeClass(this.$$element,Bo),this.$$animate.addClass(this.$$element,Po))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Lo),this.$$animate.addClass(this.$$element,Oo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Oo),this.$$animate.addClass(this.$$element,Lo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Io,No)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,No,Io)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!D(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,(function(t){r||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==i&&o.$$writeModelToScope())}))}},$$runValidators:function(t,e,n){this.$$currentValidationRunId++;var i,r,o=this.$$currentValidationRunId,a=this;function s(t,e){o===a.$$currentValidationRunId&&a.$setValidity(t,e)}function c(t){o===a.$$currentValidationRunId&&n(t)}!function(){var t=a.$$parserName||"parse";return B(a.$$parserValid)?(s(t,null),!0):(a.$$parserValid||($(a.$validators,(function(t,e){s(e,null)})),$(a.$asyncValidators,(function(t,e){s(e,null)}))),s(t,a.$$parserValid),a.$$parserValid)}()?c(!1):function(){var n=!0;return $(a.$validators,(function(i,r){var o=Boolean(i(t,e));n=n&&o,s(r,o)})),!!n||($(a.$asyncValidators,(function(t,e){s(e,null)})),!1)}()?(i=[],r=!0,$(a.$asyncValidators,(function(n,o){var a=n(t,e);if(!Q(a))throw Ho("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),i.push(a.then((function(){s(o,!0)}),(function(){r=!1,s(o,!1)})))})),i.length?a.$$q.all(i).then((function(){c(r)}),O):c(!0)):c(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!B(t)||void 0,this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(B(t=this.$parsers[n](t))){this.$$parserValid=!1;break}D(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");function o(){e.$modelValue!==i&&e.$$writeModelToScope()}this.$$rawModelValue=t,r&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,(function(n){r||(e.$modelValue=n?t:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),$(this.$viewChangeListeners,(function(t){try{t()}catch(t){this.$$exceptionHandler(t)}}),this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");W(e[t])?e=e[t]:W(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},Hr({clazz:jo,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Uo,Wo=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:jo,priority:1,compile:function(e){return e.addClass(Oo).addClass(Io).addClass(Do),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",(function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)})),t.$on("$destroy",(function(){r.$$parentForm.$removeControl(r)}))},post:function(e,n,i,r){var o=r[0];function a(){o.$setTouched()}o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),(function(t){o.$$debounceViewValueCommit(t&&t.type)})),n.on("blur",(function(){o.$touched||(t.$$phase?e.$evalAsync(a):e.$apply(a))}))}}}}}],Vo=/(\s+|^)default(\s+|$)/;function zo(t){this.$$options=t}zo.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return $(t=_({},t),(function(n,i){"$inherit"===n?"*"===i?e=!0:(t[i]=this.$$options[i],"updateOn"===i&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(t.updateOnDefault=!1,t[i]=Z(n.replace(Vo,(function(){return t.updateOnDefault=!0," "}))))}),this),e&&(delete t["*"],Yo(t,this.$$options)),Yo(t,Uo.$$options),new zo(t)}},Uo=new zo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var qo=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Uo,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function Yo(t,e){$(e,(function(e,n){P(t[n])||(t[n]=e)}))}var Ko=_r({terminal:!0,priority:1e3}),Go=e("ngOptions"),Xo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Qo=["$compile","$document","$parse",function(e,n,i){var r=t.document.createElement("option"),o=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=O},post:function(t,a,s,c){for(var l=c[0],u=c[1],d=s.multiple,f=0,p=a.children(),m=p.length;f<m;f++)if(""===p[f].value){l.hasEmptyOption=!0,l.emptyOption=p.eq(f);break}var g,v=!!l.emptyOption;h(r.cloneNode(!1)).val("?");var b=function(t,e,n){var r=t.match(Xo);if(!r)throw Go("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,yt(e));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],c=r[9],l=i(r[2]?r[1]:o),u=s&&i(s)||l,h=c&&i(c),d=c?function(t,e){return h(n,e)}:function(t){return Le(t)},f=function(t,e){return d(t,y(t,e))},p=i(r[2]||r[1]),m=i(r[3]||""),g=i(r[4]||""),v=i(r[8]),b={},y=a?function(t,e){return b[a]=e,b[o]=t,b}:function(t){return b[o]=t,b};function w(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function E(t){var e;if(!a&&C(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:c,getTrackByValue:f,getWatchables:i(v,(function(t){for(var e=[],i=E(t=t||[]),o=i.length,a=0;a<o;a++){var s=t===i?a:i[a],c=t[s],l=y(c,s),u=d(c,l);if(e.push(u),r[2]||r[1]){var h=p(n,l);e.push(h)}if(r[4]){var f=g(n,l);e.push(f)}}return e})),getOptions:function(){for(var t=[],e={},i=v(n)||[],r=E(i),o=r.length,a=0;a<o;a++){var s=i===r?a:r[a],l=i[s],h=y(l,s),b=u(n,h),C=d(b,h),$=new w(C,b,p(n,h),m(n,h),g(n,h));t.push($),e[C]=$}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[f(t)]},getViewValueFromOption:function(t){return c?ot(t.viewValue):t.viewValue}}}}}(s.ngOptions,a,t),y=n[0].createDocumentFragment();function w(t,e){var n=r.cloneNode(!1);e.appendChild(n),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}(t,n)}function E(t){var e=g.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function A(){var t=g&&l.readValue();if(g)for(var e=g.items.length-1;e>=0;e--){var n=g.items[e];P(n.group)?xe(n.element.parentNode):xe(n.element)}g=b.getOptions();var i={};if(v&&a.prepend(l.emptyOption),g.items.forEach((function(t){var e;P(t.group)?((e=i[t.group])||(e=o.cloneNode(!1),y.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),w(t,e)):w(t,y)})),a[0].appendChild(y),u.$render(),!u.$isEmpty(t)){var r=l.readValue();(b.trackBy||d?st(t,r):t===r)||(u.$setViewValue(r),u.$render())}}l.generateUnknownOptionValue=function(t){return"?"},d?(l.writeValue=function(t){var e=t&&t.map(E)||[];g.items.forEach((function(t){t.element.selected&&!it(e,t)&&(t.element.selected=!1)}))},l.readValue=function(){var t=a.val()||[],e=[];return $(t,(function(t){var n=g.selectValueMap[t];n&&!n.disabled&&e.push(g.getViewValueFromOption(n))})),e},b.trackBy&&t.$watchCollection((function(){if(z(u.$viewValue))return u.$viewValue.map((function(t){return b.getTrackByValue(t)}))}),(function(){u.$render()}))):(l.writeValue=function(t){var e=g.selectValueMap[a.val()],n=g.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(a[0].value!==n.selectValue&&(l.removeUnknownOption(),l.unselectEmptyOption(),a[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):v?l.selectEmptyOption():l.unknownOption.parent().length?l.updateUnknownOption(t):l.renderUnknownOption(t)},l.readValue=function(){var t=g.selectValueMap[a.val()];return t&&!t.disabled?(l.unselectEmptyOption(),l.removeUnknownOption(),g.getViewValueFromOption(t)):null},b.trackBy&&t.$watch((function(){return b.getTrackByValue(u.$viewValue)}),(function(){u.$render()}))),v&&(l.emptyOption.remove(),e(l.emptyOption)(t),l.emptyOption[0].nodeType===Ut?(l.hasEmptyOption=!1,l.registerOption=function(t,e){""===e.val()&&(l.hasEmptyOption=!0,l.emptyOption=e,l.emptyOption.removeClass("ng-scope"),u.$render(),e.on("$destroy",(function(){l.hasEmptyOption=!1,l.emptyOption=void 0})))}):l.emptyOption.removeClass("ng-scope")),a.empty(),A(),t.$watchCollection(b.getWatchables,A)}}}}],Jo=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,a,s){var l,u=s.count,h=s.$attr.when&&a.attr(s.$attr.when),d=s.offset||0,f=o.$eval(h)||{},p={},m=e.startSymbol(),g=e.endSymbol(),v=m+u+"-"+d+g,b=w.noop;function y(t){a.text(t||"")}$(s,(function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+c(n[2]);f[i]=a.attr(s.$attr[e])}})),$(f,(function(t,n){p[n]=e(t.replace(i,v))})),o.$watch(u,(function(e){var i=parseFloat(e),r=D(i);if(r||i in f||(i=t.pluralCat(i-d)),!(i===l||r&&D(l))){b();var a=p[i];B(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),b=O,y()):b=o.$watch(a,y),l=i}}))}}}],Zo=["$parse","$animate","$compile",function(t,n,i){var o="$$NG_REMOVED",a=e("ngRepeat"),s=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},c=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,u){var h=u.ngRepeat,d=i.$$createComment("end ngRepeat",h),f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var p=f[1],m=f[2],g=f[3],v=f[4];if(!(f=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var b,y,w,E,A=f[3]||f[1],x=f[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var k={$id:Le};return v?b=t(v):(w=function(t,e){return Le(e)},E=function(t){return t}),function(t,e,i,u,f){b&&(y=function(e,n,i){return x&&(k[x]=e),k[A]=n,k.$index=i,b(t,k)});var p=Bt();t.$watchCollection(m,(function(i){var u,m,v,b,k,S,T,_,M,F,D,R,O=e[0],L=Bt();if(g&&(t[g]=i),C(i))M=i,_=y||w;else for(var I in _=y||E,M=[],i)r.call(i,I)&&"$"!==I.charAt(0)&&M.push(I);for(b=M.length,D=new Array(b),u=0;u<b;u++)if(k=i===M?u:M[u],S=i[k],T=_(k,S,u),p[T])F=p[T],delete p[T],L[T]=F,D[u]=F;else{if(L[T])throw $(D,(function(t){t&&t.scope&&(p[t.id]=t)})),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,T,S);D[u]={id:T,scope:void 0,clone:void 0},L[T]=!0}for(var N in p){if(R=Nt((F=p[N]).clone),n.leave(R),R[0].parentNode)for(u=0,m=R.length;u<m;u++)R[u][o]=!0;F.scope.$destroy()}for(u=0;u<b;u++)if(k=i===M?u:M[u],S=i[k],(F=D[u]).scope){v=O;do{v=v.nextSibling}while(v&&v[o]);c(F)!==v&&n.move(Nt(F.clone),null,O),O=l(F),s(F.scope,u,A,S,x,k,b)}else f((function(t,e){F.scope=e;var i=d.cloneNode(!1);t[t.length++]=i,n.enter(t,null,O),O=i,F.clone=t,L[F.id]=F,s(F.scope,u,A,S,x,k,b)}));p=L}))}}}}],ta="ng-hide",ea="ng-hide-animate",na=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,(function(e){t[e?"removeClass":"addClass"](n,ta,{tempClasses:ea})}))}}}],ia=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,(function(e){t[e?"addClass":"removeClass"](n,ta,{tempClasses:ea})}))}}}],ra=_r((function(t,e,n){t.$watch(n.ngStyle,(function(t,n){n&&t!==n&&$(n,(function(t,n){e.css(n,"")})),t&&e.css(t)}),!0)})),oa=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,s=[],c=[],l=[],u=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(a,(function(n){for(var i,r;l.length;)t.cancel(l.pop());for(i=0,r=u.length;i<r;++i){var a=Nt(c[i].clone);u[i].$destroy(),(l[i]=t.leave(a)).done(h(l,i))}c.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&$(s,(function(n){n.transclude((function(i,r){u.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};c.push(a),t.enter(i,o.parent(),o)}))}))}))}}}],aa=_r({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(t,e,n){return n[e-1]!==t}));$(o,(function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})}))}}),sa=_r({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ca=e("ngTransclude"),la=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){if(!o)throw ca("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",yt(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var a=i.ngTransclude||i.ngTranscludeSlot;function s(){n(t,(function(t){e.append(t)}))}o((function(t,n){t.length&&function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];if(i.nodeType!==jt||i.nodeValue.trim())return!0}}(t)?e.append(t):(s(),n.$destroy())}),null,a),a&&!o.isSlotFilled(a)&&s()}}}}],ua=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],ha={$setViewValue:O,$render:O};function da(t,e){t.prop("selected",e),t.attr("selected",e)}var fa=["$element","$scope",function(e,n){var i=this,r=new Be;i.selectValueMap={},i.ngModelCtrl=ha,i.multiple=!1,i.unknownOption=h(t.document.createElement("option")),i.hasEmptyOption=!1,i.emptyOption=void 0,i.renderUnknownOption=function(t){var n=i.generateUnknownOptionValue(t);i.unknownOption.val(n),e.prepend(i.unknownOption),da(i.unknownOption,!0),e.val(n)},i.updateUnknownOption=function(t){var n=i.generateUnknownOptionValue(t);i.unknownOption.val(n),da(i.unknownOption,!0),e.val(n)},i.generateUnknownOptionValue=function(t){return"? "+Le(t)+" ?"},i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.selectEmptyOption=function(){i.emptyOption&&(e.val(""),da(i.emptyOption,!0))},i.unselectEmptyOption=function(){i.hasEmptyOption&&i.emptyOption.removeAttr("selected")},n.$on("$destroy",(function(){i.renderUnknownOption=O})),i.readValue=function(){var t=e.val(),n=t in i.selectValueMap?i.selectValueMap[t]:t;return i.hasOption(n)?n:null},i.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&da(h(n),!1),i.hasOption(t)){i.removeUnknownOption();var r=Le(t);e.val(r in i.selectValueMap?r:t);var o=e[0].options[e[0].selectedIndex];da(h(o),!0)}else null==t&&i.emptyOption?(i.removeUnknownOption(),i.selectEmptyOption()):i.unknownOption.parent().length?i.updateUnknownOption(t):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==Ut){Lt(t,'"option value"'),""===t&&(i.hasEmptyOption=!0,i.emptyOption=e);var n=r.get(t)||0;r.set(t,n+1),a()}},i.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.delete(t),""===t&&(i.hasEmptyOption=!1,i.emptyOption=void 0)):r.set(t,e-1))},i.hasOption=function(t){return!!r.get(t)};var o=!1;function a(){o||(o=!0,n.$$postDigest((function(){o=!1,i.ngModelCtrl.$render()})))}var s=!1;function c(t){s||(s=!0,n.$$postDigest((function(){n.$$destroyed||(s=!1,i.ngModelCtrl.$setViewValue(i.readValue()),t&&i.ngModelCtrl.$render())})))}i.registerOption=function(t,e,n,r,o){if(n.$attr.ngValue){var s,l=NaN;n.$observe("value",(function(t){var n,r=e.prop("selected");P(l)&&(i.removeOption(s),delete i.selectValueMap[l],n=!0),l=Le(t),s=t,i.selectValueMap[l]=t,i.addOption(t,e),e.attr("value",l),n&&r&&c()}))}else r?n.$observe("value",(function(t){var n;i.readValue();var r=e.prop("selected");P(s)&&(i.removeOption(s),n=!0),s=t,i.addOption(t,e),n&&r&&c()})):o?t.$watch(o,(function(t,r){n.$set("value",t);var o=e.prop("selected");r!==t&&i.removeOption(r),i.addOption(t,e),r&&o&&c()})):i.addOption(n.value,e);n.$observe("disabled",(function(t){("true"===t||t&&e.prop("selected"))&&(i.multiple?c(!0):(i.ngModelCtrl.$setViewValue(null),i.ngModelCtrl.$render()))})),e.on("$destroy",(function(){var t=i.readValue(),e=n.value;i.removeOption(e),a(),(i.multiple&&t&&-1!==t.indexOf(e)||t===e)&&c(!0)}))}}],pa=function(){return{restrict:"E",require:["select","?ngModel"],controller:fa,priority:1,link:{pre:function(t,e,n,i){var r=i[0],o=i[1];if(o){if(r.ngModelCtrl=o,e.on("change",(function(){r.removeUnknownOption(),t.$apply((function(){o.$setViewValue(r.readValue())}))})),n.multiple){r.multiple=!0,r.readValue=function(){var t=[];return $(e.find("option"),(function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in r.selectValueMap?r.selectValueMap[n]:n)}})),t},r.writeValue=function(t){$(e.find("option"),(function(e){var n=!!t&&(it(t,e.value)||it(t,r.selectValueMap[e.value]));n!==e.selected&&da(h(e),n)}))};var a,s=NaN;t.$watch((function(){s!==o.$viewValue||st(a,o.$viewValue)||(a=zt(o.$viewValue),o.$render()),s=o.$viewValue})),o.$isEmpty=function(t){return!t||0===t.length}}}else r.registerOption=O},post:function(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},ma=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return P(n.ngValue)||(P(n.value)?i=t(n.value,!0):(r=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],ga=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",(function(){i.$validate()})))}}},va=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",(function(t){if(U(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,yt(n));o=t||void 0,r.$validate()})),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||B(o)||o.test(e)}}}}},ba=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",(function(t){var e=F(t);r=D(e)?-1:e,i.$validate()})),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},ya=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",(function(t){r=F(t)||0,i.$validate()})),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var e;if(!Dt){var n=lt();(d=B(n)?t.jQuery:n?t[n]:void 0)&&d.fn.on?(h=d,_(d.fn,{scope:Se.scope,isolateScope:Se.isolateScope,controller:Se.controller,injector:Se.injector,inheritedData:Se.inheritedData}),e=d.cleanData,d.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)(n=d._data(i,"events"))&&n.$destroy&&d(i).triggerHandler("$destroy");e(t)}):h=he,w.element=h,Dt=!0}}(),function(n){_(n,{errorHandlingConfig:a,bootstrap:St,copy:ot,extend:_,merge:M,equals:st,element:h,forEach:$,injector:Ke,noop:O,bind:dt,toJson:pt,fromJson:mt,identity:L,isUndefined:B,isDefined:P,isString:U,isFunction:q,isObject:H,isNumber:W,isElement:et,isArray:z,version:Yt,isDate:V,lowercase:c,uppercase:l,callbacks:{$$counter:0},getTestability:_t,reloadWithDebugInfo:Tt,$$minErr:e,$$csp:ct,$$encodeUriSegment:$t,$$encodeUriQuery:At,$$stringify:Pt}),f=function(t){var n=e("$injector"),i=e("ng");function r(t,e,n){return t[e]||(t[e]=n())}var o=r(t,"angular",Object);return o.$$minErr=o.$$minErr||e,r(o,"module",(function(){var t={};return function(e,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name","module")}(e),o&&t.hasOwnProperty(e)&&(t[e]=null),r(t,e,(function(){if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var t=[],r=[],c=[],l=h("$injector","invoke","push",r),u={_invokeQueue:t,_configBlocks:r,_runBlocks:c,info:function(t){if(P(t)){if(!H(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:e,provider:d("$provide","provider"),factory:d("$provide","factory"),service:d("$provide","service"),value:h("$provide","value"),constant:h("$provide","constant","unshift"),decorator:d("$provide","decorator",r),animation:d("$animateProvider","register"),filter:d("$filterProvider","register"),controller:d("$controllerProvider","register"),directive:d("$compileProvider","directive"),component:d("$compileProvider","component"),config:l,run:function(t){return c.push(t),this}};return a&&l(a),u;function h(e,n,i,r){return r||(r=t),function(){return r[i||"push"]([e,n,arguments]),u}}function d(n,i,r){return r||(r=t),function(t,o){return o&&q(o)&&(o.$$moduleName=e),r.push([n,i,arguments]),u}}}))}}))}(t),f("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ni}),t.provider("$compile",fn).directive({a:Mr,input:ho,textarea:ho,form:Nr,script:ua,select:pa,option:ma,ngBind:mo,ngBindHtml:vo,ngBindTemplate:go,ngClass:wo,ngClassEven:Co,ngClassOdd:Eo,ngCloak:$o,ngController:Ao,ngForm:Br,ngHide:ia,ngIf:So,ngInclude:To,ngInit:Mo,ngNonBindable:Ko,ngPluralize:Jo,ngRepeat:Zo,ngShow:na,ngStyle:ra,ngSwitch:oa,ngSwitchWhen:aa,ngSwitchDefault:sa,ngOptions:Qo,ngTransclude:la,ngModel:Wo,ngList:Fo,ngChange:bo,pattern:va,ngPattern:va,required:ga,ngRequired:ga,minlength:ya,ngMinlength:ya,maxlength:ba,ngMaxlength:ba,ngValue:po,ngModelOptions:qo}).directive({ngInclude:_o}).directive(Fr).directive(xo),t.provider({$anchorScroll:Ge,$animate:nn,$animateCss:an,$$animateJs:tn,$$animateQueue:en,$$AnimateRunner:on,$$animateAsyncRun:rn,$browser:cn,$cacheFactory:ln,$controller:$n,$document:An,$$isDocumentHidden:xn,$exceptionHandler:kn,$filter:ir,$$forceReflow:Sn,$interpolate:qn,$interval:Yn,$http:Un,$httpParamSerializer:Ln,$httpParamSerializerJQLike:In,$httpBackend:Vn,$xhrFactory:Wn,$jsonpCallbacks:Kn,$location:di,$log:fi,$parse:Fi,$rootScope:Ii,$q:Di,$$q:Ri,$sce:Vi,$sceDelegate:Wi,$sniffer:zi,$templateCache:un,$templateRequest:Yi,$$testability:Ki,$timeout:Gi,$window:tr,$$rAF:Li,$$jqLite:Oe,$$Map:Pe,$$cookieReader:nr})}]).info({angularVersion:"1.6.4"})}(w),w.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=0|t,i=function(t,e){var n=e;void 0===n&&(n=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var i=Math.pow(10,n);return{v:n,f:(t*i|0)%i}}(t,e);return 1==n&&0==i.v?"one":"other"}})}]),h((function(){!function(e,n){var i,r,o={};if($(xt,(function(t){var n=t+"app";!i&&e.hasAttribute&&e.hasAttribute(n)&&(i=e,r=e.getAttribute(n))})),$(xt,(function(t){var n,o=t+"app";!i&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))})),i){if(!kt)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(t,e){var n,i,r=xt.length;for(i=0;i<r;++i)if(n=xt[i]+"strict-di",U(n=t.getAttribute(n)))return n;return null}(i),n(i,r?[r]:[],o)}}(t.document,St)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(){var t=function(){return this}();!t&&"undefined"!=typeof window&&(t=window);var e=function(t,n,i){"string"==typeof t?(2==arguments.length&&(i=n),e.modules[t]||(e.payloads[t]=i,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};e.modules={},e.payloads={};var n=function(t,e,n){if("string"==typeof e){var r=o(t,e);if(null!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(e)){for(var a=[],s=0,c=e.length;s<c;++s){var l=o(t,e[s]);if(null==l&&i.original)return;a.push(l)}return n&&n.apply(null,a)||!0}},i=function(t,e){var r=n("",t,e);return null==r&&i.original?i.original.apply(this,arguments):r},r=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return r(t,n[0])+"!"+r(t,n[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},o=function(t,i){i=r(t,i);var o=e.modules[i];if(!o){if("function"==typeof(o=e.payloads[i])){var a={},s={id:i,uri:"",exports:a,packaged:!0},c=o((function(t,e){return n(i,t,e)}),a,s);a=c||s.exports,e.modules[i]=a,delete e.payloads[i]}o=e.modules[i]=a||o}return o};!function(n){var r=t;n&&(t[n]||(t[n]={}),r=t[n]),r.define&&r.define.packaged||(e.original=r.define,r.define=e,r.define.packaged=!0),r.require&&r.require.packaged||(i.original=r.require,r.require=i,r.require.packaged=!0)}("ace")}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(t,e,n){"use strict";var i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},r=void 0===i.exec.call(/()??/,"")[1],o=function(){var t=/^/g;return i.test.call(t,""),!t.lastIndex}();o&&r||(RegExp.prototype.exec=function(t){var e,n,a=i.exec.apply(this,arguments);if("string"==typeof t&&a){if(!r&&a.length>1&&function(t,e,n){if(Array.prototype.indexOf)return t.indexOf("",n);for(var i=0;i<t.length;i++)if(""===t[i])return i;return-1}(a)>-1&&(n=RegExp(this.source,i.replace.call(function(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}(this),"g","")),i.replace.call(t.slice(a.index),n,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var s=1;s<a.length;s++)(e=this._xregexp.captureNames[s-1])&&(a[e]=a[s]);!o&&this.global&&!a[0].length&&this.lastIndex>a.index&&this.lastIndex--}return a},o||(RegExp.prototype.test=function(t){var e=i.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(t,e,n){function i(){}function r(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(t){}}function o(t){return(t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var n=p.call(arguments,1),r=function(){if(this instanceof r){var i=e.apply(this,n.concat(p.call(arguments)));return Object(i)===i?i:this}return e.apply(t,n.concat(p.call(arguments)))};return e.prototype&&(i.prototype=e.prototype,r.prototype=new i,i.prototype=null),r});var a,s,c,l,u,h=Function.prototype.call,d=Array.prototype,f=Object.prototype,p=d.slice,m=h.bind(f.toString),g=h.bind(f.hasOwnProperty);if((u=g(f,"__defineGetter__"))&&(a=h.bind(f.__defineGetter__),s=h.bind(f.__defineSetter__),c=h.bind(f.__lookupGetter__),l=h.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];if(n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),n.length,e+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?v.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;t>0?t>n&&(t=n):null==t?t=0:t<0&&(t=Math.max(n+t,0)),t+e<n||(e=n-t);var i=this.slice(t,t+e),r=p.call(arguments,2),o=r.length;if(t===n)o&&this.push.apply(this,r);else{var a=Math.min(e,n-t),s=t+a,c=s+o-a,l=n-s,u=n-a;if(c<s)for(var h=0;h<l;++h)this[c+h]=this[s+h];else if(c>s)for(h=l;h--;)this[c+h]=this[s+h];if(o&&t===u)this.length=u,this.push.apply(this,r);else for(this.length=u+o,h=0;h<o;++h)this[t+h]=r[h]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==m(t)});var b,y=Object("a"),w="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=F(this),n=w&&"[object String]"==m(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=m(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=F(this),n=w&&"[object String]"==m(this)?this.split(""):e,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var a=0;a<i;a++)a in n&&(r[a]=t.call(o,n[a],a,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=F(this),i=w&&"[object String]"==m(this)?this.split(""):n,r=i.length>>>0,o=[],a=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var s=0;s<r;s++)s in i&&(e=i[s],t.call(a,e,s,n)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=F(this),n=w&&"[object String]"==m(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in n&&!t.call(r,n[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=F(this),n=w&&"[object String]"==m(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in n&&t.call(r,n[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=F(this),n=w&&"[object String]"==m(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;o<i;o++)o in n&&(r=t.call(void 0,r,n[o],o,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=F(this),n=w&&"[object String]"==m(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do{o in this&&(r=t.call(void 0,r,n[o],o,e))}while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=w&&"[object String]"==m(this)?this.split(""):F(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=o(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=w&&"[object String]"==m(this)?this.split(""):F(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:f)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+t);if(g(t,e)){var n;if(n={enumerable:!0,configurable:!0},u){var i=t.__proto__;t.__proto__=f;var r=c(t,e),o=l(t,e);if(t.__proto__=i,r||o)return r&&(n.get=r),o&&(n.set=o),n}return n.value=t[e],n}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create||(b=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=b();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,(n=new i).__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n}),Object.defineProperty){var E=r({}),C="undefined"==typeof document||r(document.createElement("div"));if(!E||!C)var $=Object.defineProperty}Object.defineProperty&&!$||(Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.defineProperty called on non-object: "+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if($)try{return $.call(Object,t,e,n)}catch(t){}if(g(n,"value"))if(u&&(c(t,e)||l(t,e))){var i=t.__proto__;t.__proto__=f,delete t[e],t[e]=n.value,t.__proto__=i}else t[e]=n.value;else{if(!u)throw new TypeError("getters & setters can not be defined on this javascript engine");g(n,"get")&&a(t,e,n.get),g(n,"set")&&s(t,e,n.set)}return t}),Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)g(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze((function(){}))}catch(t){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";g(t,e);)e+="?";t[e]=!0;var n=g(t,e);return delete t[e],n}),!Object.keys){var A=!0,x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=x.length;for(var S in{toString:null})A=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)g(t,n)&&e.push(n);if(A)for(var i=0,r=k;i<r;i++){var o=x[i];g(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var T="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff";if(!String.prototype.trim||T.trim()){T="["+T+"]";var _=new RegExp("^"+T+T+"*"),M=new RegExp(T+T+"*$");String.prototype.trim=function(){return String(this).replace(_,"").replace(M,"")}}var F=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(t,e,n){"use strict";t("./regexp"),t("./es5-shim")})),ace.define("ace/lib/dom",["require","exports","module"],(function(t,e,n){"use strict";e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},e.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},e.addCssClass=function(t,n){e.hasCssClass(t,n)||(t.className+=" "+n)},e.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},e.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},e.setCssClass=function(t,n,i){i?e.addCssClass(t,n):e.removeCssClass(t,n)},e.hasCssString=function(t,e){var n,i=0;if((e=e||document).createStyleSheet&&(n=e.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===t)return!0}else if(n=e.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===t)return!0;return!1},e.importCssString=function(t,n,i){if(i=i||document,n&&e.hasCssString(n,i))return null;var r;n&&(t+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?((r=i.createStyleSheet()).cssText=t,n&&(r.owningElement.id=n)):((r=e.createElement("style")).appendChild(i.createTextNode(t)),n&&(r.id=n),e.getDocumentHead(i).appendChild(r))},e.importCssStylsheet=function(t,n){if(n.createStyleSheet)n.createStyleSheet(t);else{var i=e.createElement("link");i.rel="stylesheet",i.href=t,e.getDocumentHead(n).appendChild(i)}},e.getInnerWidth=function(t){return parseInt(e.computedStyle(t,"paddingLeft"),10)+parseInt(e.computedStyle(t,"paddingRight"),10)+t.clientWidth},e.getInnerHeight=function(t){return parseInt(e.computedStyle(t,"paddingTop"),10)+parseInt(e.computedStyle(t,"paddingBottom"),10)+t.clientHeight},e.scrollbarWidth=function(t){var n=e.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=e.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=t.documentElement;o.appendChild(i);var a=n.offsetWidth;r.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=i.clientWidth),o.removeChild(i),a-s},"undefined"!=typeof document?(void 0!==window.pageYOffset?(e.getPageScrollTop=function(){return window.pageYOffset},e.getPageScrollLeft=function(){return window.pageXOffset}):(e.getPageScrollTop=function(){return document.body.scrollTop},e.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?e.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:e.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},e.setInnerHtml=function(t,e){var n=t.cloneNode(!1);return n.innerHTML=e,t.parentNode.replaceChild(n,t),n},"textContent"in document.documentElement?(e.setInnerText=function(t,e){t.textContent=e},e.getInnerText=function(t){return t.textContent}):(e.setInnerText=function(t,e){t.innerText=e},e.getInnerText=function(t){return t.innerText}),e.getParentWindow=function(t){return t.defaultView||t.parentWindow}):e.importCssString=function(){}})),ace.define("ace/lib/oop",["require","exports","module"],(function(t,e,n){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},e.implement=function(t,n){e.mixin(t,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(t,e,n){"use strict";t("./fixoldbrowsers");var i=t("./oop"),r=function(){var t,e,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in n.FUNCTION_KEYS)t=n.FUNCTION_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);for(e in n.PRINTABLE_KEYS)t=n.PRINTABLE_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)n.KEY_MODS[e]=t.filter((function(t){return e&n.KEY_MODS[t]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(t,e,n){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;e.isWin="win"==i,e.isMac="mac"==i,e.isLinux="linux"==i,e.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,e.isAIR=r.indexOf("AdobeAIR")>=0,e.isIPad=r.indexOf("iPad")>=0,e.isTouchPad=r.indexOf("TouchPad")>=0,e.isChromeOS=r.indexOf(" CrOS ")>=0}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,e,n){"use strict";function i(t,e,n){var i=l(e);if(!a.isMac&&s){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var r="location"in e?e.location:e.keyLocation;17===n&&1===r?1==s[n]&&(c=e.timeStamp):18===n&&3===i&&2===r&&e.timeStamp-c<50&&(s.altGr=!0)}}if(n in o.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&n<=93&&(n=-1),i||13!==n||3!==(r="location"in e?e.location:e.keyLocation)||(t(e,i,-n),!e.defaultPrevented)){if(a.isChromeOS&&8&i){if(t(e,i,n),e.defaultPrevented)return;i&=-9}return!!(i||n in o.FUNCTION_KEYS||n in o.PRINTABLE_KEYS)&&t(e,i,n)}}function r(){s=Object.create(null)}var o=t("./keys"),a=t("./useragent"),s=null,c=0;e.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},e.removeListener=function(t,e,n){if(t.removeEventListener)return t.removeEventListener(e,n,!1);t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n)},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||a.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,n,i){function r(t){n&&n(t),i&&i(t),e.removeListener(document,"mousemove",n,!0),e.removeListener(document,"mouseup",r,!0),e.removeListener(document,"dragstart",r,!0)}return e.addListener(document,"mousemove",n,!0),e.addListener(document,"mouseup",r,!0),e.addListener(document,"dragstart",r,!0),r},e.addTouchMoveListener=function(t,n){var i,r;"ontouchmove"in t&&(e.addListener(t,"touchstart",(function(t){var e=t.changedTouches[0];i=e.clientX,r=e.clientY})),e.addListener(t,"touchmove",(function(t){var e=t.changedTouches[0];t.wheelX=-(e.clientX-i)/1,t.wheelY=-(e.clientY-r)/1,i=e.clientX,r=e.clientY,n(t)})))},e.addMouseWheelListener=function(t,n){"onmousewheel"in t?e.addListener(t,"mousewheel",(function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),n(t)})):"onwheel"in t?e.addListener(t,"wheel",(function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}n(t)})):e.addListener(t,"DOMMouseScroll",(function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),n(t)}))},e.addMultiMouseDownListener=function(t,n,i,r){function o(t){if(0!==e.getButton(t)?h=0:t.detail>1?++h>4&&(h=1):h=1,a.isIE){var o=Math.abs(t.clientX-c)>5||Math.abs(t.clientY-l)>5;u&&!o||(h=1),u&&clearTimeout(u),u=setTimeout((function(){u=null}),n[h-1]||600),1==h&&(c=t.clientX,l=t.clientY)}if(t._clicks=h,i[r]("mousedown",t),h>4)h=0;else if(h>1)return i[r](d[h],t)}function s(t){h=2,u&&clearTimeout(u),u=setTimeout((function(){u=null}),n[h-1]||600),i[r]("mousedown",t),i[r](d[h],t)}var c,l,u,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(t)||(t=[t]),t.forEach((function(t){e.addListener(t,"mousedown",o),a.isOldIE&&e.addListener(t,"dblclick",s)}))};var l=a.isMac&&a.isOpera&&!("KeyboardEvent"in window)?function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)}:function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};e.getModifierString=function(t){return o.KEY_MODS[l(t)]},e.addCommandKeyListener=function(t,n){var o=e.addListener;if(a.isOldGecko||a.isOpera&&!("KeyboardEvent"in window)){var c=null;o(t,"keydown",(function(t){c=t.keyCode})),o(t,"keypress",(function(t){return i(n,t,c)}))}else{var l=null;o(t,"keydown",(function(t){s[t.keyCode]=(s[t.keyCode]||0)+1;var e=i(n,t,t.keyCode);return l=t.defaultPrevented,e})),o(t,"keypress",(function(t){l&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),l=null)})),o(t,"keyup",(function(t){s[t.keyCode]=null})),s||(r(),o(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!a.isOldIE&&(e.nextTick=function(t,n){n=n||window;var i="zero-timeout-message-1";e.addListener(n,"message",(function r(o){o.data==i&&(e.stopPropagation(o),e.removeListener(n,"message",r),t())})),n.postMessage(i,"*")}),e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame?e.nextFrame=e.nextFrame.bind(window):e.nextFrame=function(t){setTimeout(t,17)}})),ace.define("ace/lib/lang",["require","exports","module"],(function(t,e,n){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";e>0;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n};var i=/^\s\s*/,r=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(i,"")},e.stringTrimRight=function(t){return t.replace(r,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&"object"==typeof t[n]?e[n]=this.copyObject(t[n]):e[n]=t[n];return e},e.deepCopy=function t(e){if("object"!=typeof e||!e)return e;var n;if(Array.isArray(e)){n=[];for(var i=0;i<e.length;i++)n[i]=t(e[i]);return n}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var i in n={},e)n[i]=t(e[i]);return n},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,(function(t){n.push({offset:arguments[arguments.length-2],length:t.length})})),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return i.schedule=i,i.call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i.isPending=function(){return e},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(i,t||e))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],(function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("../lib/dom"),a=t("../lib/lang"),s=r.isChrome<18,c=r.isIE;e.TextInput=function(t,e){function n(t){if(!m){if(m=!0,k)e=0,n=t?0:h.value.length-1;else var e=t?2:1,n=2;try{h.setSelectionRange(e,n)}catch(t){}m=!1}}function l(){m||(h.value=d,r.isWebKit&&w.schedule())}function u(){clearTimeout(P),P=setTimeout((function(){g&&(h.style.cssText=g,g=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())}),r.isOldIE?200:0)}var h=o.createElement("textarea");h.className="ace_text-input",r.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",r.isOldIE&&(h.style.top="-1000px"),t.insertBefore(h,t.firstChild);var d="",f=!1,p=!1,m=!1,g="",v=!0;try{var b=document.activeElement===h}catch(t){}i.addListener(h,"blur",(function(t){e.onBlur(t),b=!1})),i.addListener(h,"focus",(function(t){b=!0,e.onFocus(t),n()})),this.focus=function(){if(g)return h.focus();var t=h.style.top;h.style.position="fixed",h.style.top="0px",h.focus(),setTimeout((function(){h.style.position="","0px"==h.style.top&&(h.style.top=t)}),0)},this.blur=function(){h.blur()},this.isFocused=function(){return b};var y=a.delayedCall((function(){b&&n(v)})),w=a.delayedCall((function(){m||(h.value=d,b&&n())}));r.isWebKit||e.addEventListener("changeSelection",(function(){e.selection.isEmpty()!=v&&(v=!v,y.schedule())})),l(),b&&e.onFocus();var E=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(t,e){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()},E=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&e.text==t.value}),r.isOldIE){var C=!1,$=function(t){if(!C){var e=h.value;if(!m&&e&&e!=d)return t&&e==d[0]?A.schedule():(T(e),C=!0,l(),void(C=!1))}},A=a.delayedCall($);i.addListener(h,"propertychange",$);var x={13:1,27:1};i.addListener(h,"keyup",(function(t){if(m&&(!h.value||x[t.keyCode])&&setTimeout(N,0),(h.value.charCodeAt(0)||0)<129)return A.call();m?I():L()})),i.addListener(h,"keydown",(function(t){A.schedule(50)}))}var k=null;this.setInputHandler=function(t){k=t},this.getInputHandler=function(){return k};var S=!1,T=function(t){k&&(t=k(t),k=null),p?(n(),t&&e.onPaste(t),p=!1):t==d.charAt(0)?S?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==d?t=t.substr(2):t.charAt(0)==d.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==d.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==d.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),S&&(S=!1)},_=function(t){if(!m){var e=h.value;T(e),l()}},M=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!s){var r=c||n?"Text":"text/plain";try{return e?!1!==i.setData(r,e):i.getData(r)}catch(t){if(!n)return M(t,e,!0)}}},F=function(t,r){var o=e.getCopyText();if(!o)return i.preventDefault(t);M(t,o)?(r?e.onCut():e.onCopy(),i.preventDefault(t)):(f=!0,h.value=o,h.select(),setTimeout((function(){f=!1,l(),n(),r?e.onCut():e.onCopy()})))},D=function(t){F(t,!0)},R=function(t){F(t,!1)},O=function(t){var o=M(t);"string"==typeof o?(o&&e.onPaste(o,t),r.isIE&&setTimeout(n),i.preventDefault(t)):(h.value="",p=!0)};i.addCommandKeyListener(h,e.onCommandKey.bind(e)),i.addListener(h,"select",(function(t){f?f=!1:E(h)?(e.selectAll(),n()):k&&n(e.selection.isEmpty())})),i.addListener(h,"input",_),i.addListener(h,"cut",D),i.addListener(h,"copy",R),i.addListener(h,"paste",O),(!("oncut"in h)||!("oncopy"in h)||!("onpaste"in h))&&i.addListener(t,"keydown",(function(t){if((!r.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:R(t);break;case 86:O(t);break;case 88:D(t)}}));var L=function(t){m||!e.onCompositionStart||e.$readOnly||((m={}).canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(I,0),e.on("mousedown",N),m.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},I=function(){if(m&&e.onCompositionUpdate&&!e.$readOnly){var t=h.value.replace(/\x01/g,"");if(m.lastValue!==t&&(e.onCompositionUpdate(t),m.lastValue&&e.undo(),m.canUndo&&(m.lastValue=t),m.lastValue)){var n=e.selection.getRange();e.insert(m.lastValue),e.session.markUndoGroup(),m.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},N=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=m;m=!1;var i=setTimeout((function(){i=null;var t=h.value.replace(/\x01/g,"");m||(t==n.lastValue?l():!n.lastValue&&t&&(l(),T(t)))}));k=function(t){return i&&clearTimeout(i),(t=t.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&i&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",N),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range),r.isChrome&&r.isChrome>=53&&_()}},B=a.delayedCall(I,50);i.addListener(h,"compositionstart",L),r.isGecko?i.addListener(h,"text",(function(){B.schedule()})):(i.addListener(h,"keyup",(function(){B.schedule()})),i.addListener(h,"keydown",(function(){B.schedule()}))),i.addListener(h,"compositionend",N),this.getElement=function(){return h},this.setReadOnly=function(t){h.readOnly=t},this.onContextMenu=function(t){S=!0,n(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,n){if(n||!r.isOldIE){g||(g=h.style.cssText),h.style.cssText=(n?"z-index:100000;":"")+"height:"+h.style.height+";"+(r.isIE?"opacity:0.1;":"");var a=e.container.getBoundingClientRect(),s=o.computedStyle(e.container),c=a.top+(parseInt(s.borderTopWidth)||0),l=a.left+(parseInt(a.borderLeftWidth)||0),d=a.bottom-c-h.clientHeight-2,f=function(t){h.style.left=t.clientX-l-2+"px",h.style.top=Math.min(t.clientY-c-2,d)+"px"};f(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(P),r.isWin&&!r.isOldIE&&i.capture(e.container,f,u))}},this.onContextMenuClose=u;var P,H=function(t){e.textInput.onContextMenu(t),u()};i.addListener(h,"mouseup",H),i.addListener(h,"mousedown",(function(t){t.preventDefault(),u()})),i.addListener(e.renderer.scroller,"contextmenu",H),i.addListener(h,"contextmenu",H)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,e,n){"use strict";function i(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(e){t[e]=this[e]}),this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function r(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)n=2*e.row-t.start.row-t.end.row;else n=e.column-4;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}t("../lib/dom"),t("../lib/event"),t("../lib/useragent"),function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();if(0!==r){var o=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(o||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&i.textInput.onContextMenu(t.domEvent))}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):e||n.selection.moveToPosition(t),e||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var o=r(this.$clickSelection,n);n=o.cursor,t=o.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[t](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var a=this.$clickSelection.comparePoint(o.start),s=this.$clickSelection.comparePoint(o.end);if(-1==a&&s<=0)e=this.$clickSelection.end,o.end.row==i.row&&o.end.column==i.column||(i=o.start);else if(1==s&&a>=0)e=this.$clickSelection.start,o.start.row==i.row&&o.start.column==i.column||(i=o.end);else if(-1==a&&1==s)i=o.end,e=o.start;else{var c=r(this.$clickSelection,i);i=c.cursor,e=c.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=function(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(t>0||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(e);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor;return i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed)||n<200?(this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor;if(i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed)||n<200)return this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()}}.call(i.prototype),e.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(t,e,n){"use strict";function i(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}t("./lib/oop");var r=t("./lib/dom");(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){r.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){r.addCssClass(this.getElement(),t)},this.show=function(t,e,n){null!=t&&this.setText(t),null!=e&&null!=n&&this.setPosition(e,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(i.prototype),e.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(t,e,n){"use strict";function i(t){s.call(this,t)}var r=t("../lib/dom"),o=t("../lib/oop"),a=t("../lib/event"),s=t("../tooltip").Tooltip;o.inherits(i,s),function(){this.setPosition=function(t,e){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(t+=15)+r>n&&(t-=t+r-n),(e+=15)+o>i&&(e-=20+o),s.prototype.setPosition.call(this,t,e)}}.call(i.prototype),e.GutterHandler=function(t){function e(){o&&(o=clearTimeout(o)),c&&(h.hide(),c=null,l._signal("hideGutterTooltip",h),l.removeEventListener("mousewheel",e))}function n(t){h.setPosition(t.x,t.y)}var o,s,c,l=t.editor,u=l.renderer.$gutterLayer,h=new i(l.container);t.editor.setDefaultHandler("guttermousedown",(function(e){if(l.isFocused()&&0==e.getButton()&&"foldWidgets"!=u.getRegion(e)){var n=e.getDocumentPosition().row,i=l.session.selection;if(e.getShiftKey())i.selectTo(n,0);else{if(2==e.domEvent.detail)return l.selectAll(),e.preventDefault();t.$clickSelection=l.selection.getLineRange(n)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}})),t.editor.setDefaultHandler("guttermousemove",(function(i){var a=i.domEvent.target||i.domEvent.srcElement;if(r.hasCssClass(a,"ace_fold-widget"))return e();c&&t.$tooltipFollowsMouse&&n(i),s=i,o||(o=setTimeout((function(){o=null,s&&!t.isMousePressed?function(){var i=s.getDocumentPosition().row,r=u.$annotations[i];if(!r)return e();if(i==l.session.getLength()){var o=l.renderer.pixelToScreenCoordinates(0,s.y).row,a=s.$pos;if(o>l.session.documentToScreenRow(a.row,a.column))return e()}if(c!=r)if(c=r.text.join("<br/>"),h.setHtml(c),h.show(),l._signal("showGutterTooltip",h),l.on("mousewheel",e),t.$tooltipFollowsMouse)n(s);else{var d=s.domEvent.target.getBoundingClientRect(),f=h.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():e()}),50))})),a.addListener(l.renderer.$gutter,"mouseout",(function(t){s=null,c&&!o&&(o=setTimeout((function(){o=null,e()}),50))})),l.on("changeSession",e)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,e,n){"use strict";function i(t){function e(){var t=E;(function(t,e){var n=Date.now(),i=!e||t.row!=e.row,o=!e||t.column!=e.column;!x||i||o?(p.$blockScrolling+=1,p.moveCursorToPosition(t),p.$blockScrolling-=1,x=n,k={x:v,y:b}):r(k.x,k.y,v,b)>u?x=null:n-x>=l&&(p.renderer.scrollCursorIntoView(),x=null)})(E=p.renderer.screenToTextCoordinates(v,b),t),function(t,e){var n=Date.now(),i=p.renderer.layerConfig.lineHeight,r=p.renderer.layerConfig.characterWidth,o=p.renderer.scroller.getBoundingClientRect(),a={x:{left:v-o.left,right:o.right-v},y:{top:b-o.top,bottom:o.bottom-b}},s=Math.min(a.x.left,a.x.right),l=Math.min(a.y.top,a.y.bottom),u={row:t.row,column:t.column};s/r<=2&&(u.column+=a.x.left<a.x.right?-3:2),l/i<=1&&(u.row+=a.y.top<a.y.bottom?-1:1);var h=t.row!=u.row,d=t.column!=u.column,f=!e||t.row!=e.row;h||d&&!f?A?n-A>=c&&p.renderer.scrollCursorIntoView(u):A=n:A=null}(E,t)}function n(){w=p.selection.toOrientedRange(),g=p.session.addMarker(w,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(y),e(),y=setInterval(e,20),T=0,a.addListener(document,"mousemove",h)}function i(){clearInterval(y),p.session.removeMarker(g),g=null,p.$blockScrolling+=1,p.selection.fromOrientedRange(w),p.$blockScrolling-=1,p.isFocused()&&!$&&p.renderer.$cursorLayer.setBlinking(!p.getReadOnly()),w=null,E=null,T=0,A=null,x=null,a.removeListener(document,"mousemove",h)}function h(){null==_&&(_=setTimeout((function(){null!=_&&g&&i()}),20))}function d(t){var e=t.types;return!e||Array.prototype.some.call(e,(function(t){return"text/plain"==t||"Text"==t}))}function f(t){var e=["copy","copymove","all","uninitialized"],n=s.isMac?t.altKey:t.ctrlKey,i="uninitialized";try{i=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return n&&e.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":e.indexOf(i)>=0&&(r="copy"),r}var p=t.editor,m=o.createElement("img");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(m.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(e){t[e]=this[e]}),this),p.addEventListener("mousedown",this.onMouseDown.bind(t));var g,v,b,y,w,E,C,$,A,x,k,S=p.container,T=0;this.onDragStart=function(t){if(this.cancelDrag||!S.draggable){var e=this;return setTimeout((function(){e.startSelect(),e.captureMouse(t)}),0),t.preventDefault()}w=p.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=p.getReadOnly()?"copy":"copyMove",s.isOpera&&(p.container.appendChild(m),m.scrollTop=0),n.setDragImage&&n.setDragImage(m,0,0),s.isOpera&&p.container.removeChild(m),n.clearData(),n.setData("Text",p.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(t){if(S.draggable=!1,$=!1,this.setState(null),!p.getReadOnly()){var e=t.dataTransfer.dropEffect;!C&&"move"==e&&p.session.remove(p.getSelectionRange()),p.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!p.getReadOnly()&&d(t.dataTransfer))return v=t.clientX,b=t.clientY,g||n(),T++,t.dataTransfer.dropEffect=C=f(t),a.preventDefault(t)},this.onDragOver=function(t){if(!p.getReadOnly()&&d(t.dataTransfer))return v=t.clientX,b=t.clientY,g||(n(),T++),null!==_&&(_=null),t.dataTransfer.dropEffect=C=f(t),a.preventDefault(t)},this.onDragLeave=function(t){if(--T<=0&&g)return i(),C=null,a.preventDefault(t)},this.onDrop=function(t){if(E){var e=t.dataTransfer;if($)switch(C){case"move":w=w.contains(E.row,E.column)?{start:E,end:E}:p.moveText(w,E);break;case"copy":w=p.moveText(w,E,!0)}else{var n=e.getData("Text");w={start:E,end:p.session.insert(E,n)},p.focus(),C=null}return i(),a.preventDefault(t)}},a.addListener(S,"dragstart",this.onDragStart.bind(t)),a.addListener(S,"dragend",this.onDragEnd.bind(t)),a.addListener(S,"dragenter",this.onDragEnter.bind(t)),a.addListener(S,"dragover",this.onDragOver.bind(t)),a.addListener(S,"dragleave",this.onDragLeave.bind(t)),a.addListener(S,"drop",this.onDrop.bind(t));var _=null}function r(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}var o=t("../lib/dom"),a=t("../lib/event"),s=t("../lib/useragent"),c=200,l=200,u=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var e=s.isWin?"default":"move";t.renderer.setCursorStyle(e),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;s.isIE&&"dragReady"==this.state&&r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&e.dragDrop(),"dragWait"===this.state&&r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton();if(1===(t.domEvent.detail||1)&&0===i&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),e.getDragDelay()?(s.isWebKit&&(this.cancelDrag=!0,e.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype),e.DragdropHandler=i})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(t,e,n){"use strict";var i=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,e){var n=i.getDocumentHead(),r=document.createElement("script");r.src=t,n.appendChild(r),r.onload=r.onreadystatechange=function(t,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(t,e,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],i=this._defaultHandlers[t];if(n.length||i){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=r),e.preventDefault||(e.preventDefault=o),n=n.slice();for(var a=0;a<n.length&&(n[a](e,this),!e.propagationStopped);a++);return i&&!e.defaultPrevented?i(e,this):void 0}},i._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},i.once=function(t,e){var n=this;e&&this.addEventListener(t,(function i(){n.removeEventListener(t,i),e.apply(null,arguments)}))},i.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var o=r.indexOf(e);-1!=o&&r.splice(o,1)}n[t]=e},i.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e)n[t],i&&this.setDefaultHandler(t,i.pop());else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},i.off=i.removeListener=i.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,n){function i(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(t,e){var n=new Error(t);n.data=e,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var o=t("./oop"),a=t("./event_emitter").EventEmitter,s={setOptions:function(t){Object.keys(t).forEach((function(e){this.setOption(e,t[e])}),this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach((function(t){e[t]=this.getOption(t)}),this),e},setOption:function(t,e){if(this["$"+t]!==e){var n=this.$options[t];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].setOption(t,e):(n.handlesSet||(this["$"+t]=e),void(n&&n.set&&n.set.call(this,e))):i('misspelled option "'+t+'"')}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:i('misspelled option "'+t+'"')}},c=function(){this.$defaultOptions={}};(function(){o.implement(this,a),this.defineOptions=function(t,e,n){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(n).forEach((function(e){var i=n[e];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=e),t.$options[i.name]=i,"initialValue"in i&&(t["$"+i.name]=i.initialValue)})),o.implement(t,s),this},this.resetOptions=function(t){Object.keys(t.$options).forEach((function(e){var n=t.$options[e];"value"in n&&t.setOption(e,n.value)}))},this.setDefaultValue=function(t,e,n){var i=this.$defaultOptions[t]||(this.$defaultOptions[t]={});i[e]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,e,n):i[e].value=n)},this.setDefaultValues=function(t,e){Object.keys(e).forEach((function(n){this.setDefaultValue(t,n,e[n])}),this)},this.warn=i,this.reportError=r}).call(c.prototype),e.AppConfig=c})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(t,e,n){function i(t){return t.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}var r=t("./lib/lang"),o=(t("./lib/oop"),t("./lib/net")),a=t("./lib/app_config").AppConfig;n.exports=e=new a;var s=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};e.get=function(t){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return c[t]},e.set=function(t,e){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);c[t]=e},e.all=function(){return r.copyObject(c)},e.moduleUrl=function(t,e){if(c.$moduleUrls[t])return c.$moduleUrls[t];var n=t.split("/"),i="snippets"==(e=e||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==e&&"-"==i){var o=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(o,"")}(!r||r==e)&&n.length>1&&(r=n[n.length-2]);var a=c[e+"Path"];return null==a?a=c.basePath:"/"==i&&(e=i=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+e+i+r+this.get("suffix")},e.setModuleUrl=function(t,e){return c.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(n,i){var r,a;Array.isArray(n)&&(a=n[0],n=n[1]);try{r=t(n)}catch(t){}if(r&&!e.$loading[n])return i&&i(r);if(e.$loading[n]||(e.$loading[n]=[]),e.$loading[n].push(i),!(e.$loading[n].length>1)){var s=function(){t([n],(function(t){e._emit("load.module",{name:n,module:t});var i=e.$loading[n];e.$loading[n]=null,i.forEach((function(e){e&&e(t)}))}))};if(!e.get("packaged"))return s();o.loadScript(e.moduleUrl(n,a),s)}},e.init=function(r){if(s&&s.document){c.packaged=r||t.packaged||n.packaged||s.define&&define.packaged;for(var o={},a="",l=document.currentScript||document._currentScript,u=(l&&l.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],f=d.src||d.getAttribute("src");if(f){for(var p=d.attributes,m=0,g=p.length;m<g;m++){var v=p[m];0===v.name.indexOf("data-ace-")&&(o[i(v.name.replace(/^data-ace-/,""))]=v.value)}var b=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(a=b[1])}}for(var y in a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[y]&&e.set(y,o[y])}}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("./default_handlers").DefaultHandlers,a=t("./default_gutter_handler").GutterHandler,s=t("./mouse_event").MouseEvent,c=t("./dragdrop_handler").DragdropHandler,l=t("../config"),u=function(t){var e=this;this.editor=t,new o(this),new a(this),new c(this);var n=function(e){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},s=t.renderer.getMouseEventTarget();i.addListener(s,"click",this.onMouseEvent.bind(this,"click")),i.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove")),i.addMultiMouseDownListener([s,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),i.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),i.addTouchMoveListener(t.container,this.onTouchMove.bind(this,"touchmove"));var l=t.renderer.$gutter;i.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),i.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick")),i.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),i.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),i.addListener(s,"mousedown",n),i.addListener(l,"mousedown",n),r.isIE&&t.renderer.scrollBarV&&(i.addListener(t.renderer.scrollBarV.element,"mousedown",n),i.addListener(t.renderer.scrollBarH.element,"mousedown",n)),t.on("mousemove",(function(n){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var i=t.renderer.screenToTextCoordinates(n.x,n.y),r=t.session.selection.getRange(),o=t.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new s(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new s(e,this.editor))},this.onMouseWheel=function(t,e){var n=new s(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.onTouchMove=function(t,e){var n=new s(e,this.editor);n.speed=1,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,a=function(t){if(t)return r.isWebKit&&!t.which&&o.releaseMouse?o.releaseMouse():(o.x=t.clientX,o.y=t.clientY,e&&e(t),o.mouseEvent=new s(t,o.editor),void(o.$mouseMoved=!0))},c=function(t){clearInterval(u),l(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t)},l=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout((function(){c(t)}));o.$onCaptureMouseMove=a,o.releaseMouse=i.capture(this.editor.container,a,c);var u=setInterval(l,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&i.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(u.prototype),l.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module"],(function(t,e,n){"use strict";e.FoldHandler=function(t){t.on("click",(function(e){var n=e.getDocumentPosition(),i=t.session,r=i.getFoldAt(n.row,n.column,1);r&&(e.getAccelKey()?i.removeFold(r):i.expandFold(r),e.stop())})),t.on("gutterclick",(function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var n=e.getDocumentPosition().row,i=t.session;i.foldWidgets&&i.foldWidgets[n]&&t.session.onFoldWidgetClick(n,e),t.isFocused()||t.focus(),e.stop()}})),t.on("gutterdblclick",(function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var n=e.getDocumentPosition().row,i=t.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var a=i.getFoldAt(n,i.getLine(n).length,1);a?i.removeFold(a):(i.addFold("...",o),t.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}e.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(t,e,n){"use strict";var i=t("../lib/keys"),r=t("../lib/event"),o=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"==typeof t&&!t.handleKeyboard&&(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),null==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(e,t)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,n,i){for(var o,a=!1,s=this.$editor.commands,c=this.$handlers.length;c--&&!((o=this.$handlers[c].handleKeyboard(this.$data,t,e,n,i))&&o.command&&((a="null"==o.command||s.exec(o.command,this.$editor,o.args,i))&&i&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),a)););return!a&&-1==t&&(o={command:"insertstring"},a=s.exec("insertstring",this.$editor,e)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),a},this.onCommandKey=function(t,e,n){var r=i.keyCodeToString(n);this.$callKeyboardHandlers(e,r,n,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(o.prototype),e.KeyBinding=o})),ace.define("ace/range",["require","exports","module"],(function(t,e,n){"use strict";var i=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return 1==(e=this.compare(n.row,n.column))?1==(e=this.compare(i.row,i.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(i.row,i.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)&&!this.isStart(t,e)},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else this.end.row<t&&(n={row:t,column:0});if(this.start.row>e)var r={row:e+1,column:0};else this.start.row<t&&(r={row:t,column:0});return i.fromPoints(r||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var r={row:t,column:e};else var o={row:t,column:e};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new i(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(i.prototype),i.fromPoints=function(t,e){return new i(t.row,t.column,e.row,e.column)},i.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},i.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=i})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),o=t("./lib/event_emitter").EventEmitter,a=t("./range").Range,s=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",(function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(e.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){e.$isEmpty||e._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+t);else{var e=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();(!i||0!==e.column)&&this.setSelectionAnchor(e.row,e.column+t),(i||0!==n.column)&&this.$moveSelection((function(){this.moveCursorTo(n.row,n.column+t)}))}},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?a.fromPoints(e,e):this.isBackwards()?a.fromPoints(e,t):a.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection((function(){this.moveCursorTo(t,e)}))},this.selectToPosition=function(t){this.$moveSelection((function(){this.moveCursorToPosition(t)}))},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===e?new a(i,0,n,this.session.getLine(n).length):new a(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-n,e.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();e=this.lead,this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column).match(/^\s*/);r[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);i>0&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(e)),e>=n.length)return this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)}},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))this.moveCursorTo(t.start.row,t.start.column);else{var i=this.session.getFoldStringAt(e,n,-1);null==i&&(i=this.doc.getLine(e).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,n)}},this.$shortWordEndIndex=function(t){var e,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(e=t[n])&&i.test(e);)n++;if(n<1)for(r.lastIndex=0;(e=t[n])&&!r.test(e);)if(r.lastIndex=0,n++,i.test(e)){if(n>2){n--;break}for(;(e=t[n])&&i.test(e);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){var o=this.doc.getLength();do{t++,i=this.doc.getLine(t)}while(t<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),e=0}var a=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+a)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getLine(e).substring(0,n);if(0===n){do{e--,i=this.doc.getLine(e)}while(e>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),a=this.$shortWordEndIndex(o);return this.moveCursorTo(e,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+t,n.column);0!==t&&0===e&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||t>0)&&i.row++,this.moveCursorTo(i.row,i.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return a.fromPoints(e,n)}catch(t){return a.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map((function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e}));else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=a.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(s.prototype),e.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(t,e,n){"use strict";var i=t("./config"),r=2e3,o=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[e],i=[],r=0,o=this.matchMappings[e]={defaultToken:"text"},a="g",s=[],c=0;c<n.length;c++){var l=n[c];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&(a="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var u=l.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==h?l.token=l.token[0]:h-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:h-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"==typeof l.token&&!l.onMatch&&(l.onMatch=h>1?this.$applyToken:l.token),h>1&&(/\\\d/.test(l.regex)?u=l.regex.replace(/\\([0-9]+)/g,(function(t,e){return"\\"+(parseInt(e,10)+r+1)})):(h=1,u=this.removeCapturingGroups(l.regex)),!l.splitRegex&&"string"!=typeof l.token&&s.push(l)),o[r]=c,r+=h,i.push(u),l.onMatch||(l.onMatch=null)}}i.length||(o[0]=0,i.push("$")),s.forEach((function(t){t.splitRegex=this.createSplitterRegexp(t.regex,a)}),this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(t){r=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,o=n.length;r<o;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){return t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(t,e){return e?"(?:":t}))},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var n=0,i=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(t,e,o,a,s,c){return i?i="]"!=s:s?i=!0:a?(n==r.stack&&(r.end=c+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=c)),t})),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var n=e.slice(0);"#tmp"===(e=n[0])&&(n.shift(),e=n.shift())}else n=[];var i=e||"start",o=this.states[i];o||(i="start",o=this.states[i]);var a=this.matchMappings[i],s=this.regExps[i];s.lastIndex=0;for(var c,l=[],u=0,h=0,d={type:null,value:""};c=s.exec(t);){var f=a.defaultToken,p=null,m=c[0],g=s.lastIndex;if(g-m.length>u){var v=t.substring(u,g-m.length);d.type==f?d.value+=v:(d.type&&l.push(d),d={type:f,value:v})}for(var b=0;b<c.length-2;b++)if(void 0!==c[b+1]){f=(p=o[a[b]]).onMatch?p.onMatch(m,i,n):p.token,p.next&&(i="string"==typeof p.next?p.next:p.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),a=this.matchMappings[i],u=g,(s=this.regExps[i]).lastIndex=g);break}if(m)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&l.push(d),d={type:f,value:m}):d.value+=m;else if(f)for(d.type&&l.push(d),d={type:null,value:""},b=0;b<f.length;b++)l.push(f[b]);if(u==t.length)break;if(u=g,h++>r){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});u<t.length;)d.type&&l.push(d),d={value:t.substring(u,u+=2e3),type:"overflow"};i="start",n=[];break}}return d.type&&l.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:l,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),e.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(t,e,n){"use strict";var i=t("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(e)&&(o.next=e+o.next),o.nextState&&0!==o.nextState.indexOf(e)&&(o.nextState=e+o.nextState))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,n,r,o){var a="function"==typeof t?(new t).getRules():t;if(r)for(var s=0;s<r.length;s++)r[s]=e+r[s];else for(var c in r=[],a)r.push(e+c);if(this.addRules(a,e),n){var l=Array.prototype[o?"push":"unshift"];for(s=0;s<r.length;s++)l.apply(this.$rules[r[s]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var a=i[o];a.processed=!0;for(var s=0;s<a.length;s++){var c=a[s],l=null;Array.isArray(c)&&(l=c,c={}),!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token=c.token+".start",c.push=!0);var u=c.next||c.push;if(u&&Array.isArray(u)){var h=c.stateName;h||("string"!=typeof(h=c.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,c.next=h,r(h)}else"pop"==u&&(c.next=e);if(c.push&&(c.nextState=c.next||c.push,c.next=t,delete c.push),c.rules)for(var d in c.rules)i[d]?i[d].push&&i[d].push.apply(i[d],c.rules[d]):i[d]=c.rules[d];var f="string"==typeof c?c:"string"==typeof c.include?c.include:"";if(f&&(l=i[f]),l){var p=[s,1].concat(l);c.noEscape&&(p=p.filter((function(t){return!t.next}))),a.splice.apply(a,p),s--}c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),delete c.defaultToken)}}),this)},this.createKeywordMapper=function(t,e,n,i){var r=Object.create(null);return Object.keys(t).forEach((function(e){var o=t[e];n&&(o=o.toLowerCase());for(var a=o.split(i||"|"),s=a.length;s--;)r[a[s]]=e})),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),t=null,n?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),e.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(t,e,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(!t)return this.$behaviours;for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}}).call(i.prototype),e.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module"],(function(t,e,n){"use strict";var i=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(void 0!==n)return n;for(n=0;e>0;)n+=t[e-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype),e.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(t,e,n){"use strict";var i,r=t("../../lib/oop"),o=t("../behaviour").Behaviour,a=t("../../token_iterator").TokenIterator,s=t("../../lib/lang"),c=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,u.rangeCount!=t.multiSelect.rangeCount&&(u={rangeCount:t.multiSelect.rangeCount})),u[e])return i=u[e];i=u[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(t,e,n,i){var r=t.end.row-t.start.row;return{text:n+e+i,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},f=function(){this.add("braces","insertion",(function(t,e,n,r,o){var a=n.getCursorPosition(),c=r.doc.getLine(a.row);if("{"==o){h(n);var l=n.getSelectionRange(),u=r.doc.getTextRange(l);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return d(l,u,"{","}");if(f.isSaneInsertion(n,r))return/[\]\}\)]/.test(c[a.column])||n.inMultiSelectMode?(f.recordAutoInsert(n,r,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(n,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){if(h(n),"}"==c.substring(a.column,a.column+1)&&null!==r.$findOpeningBracket("}",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,c,o))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==o||"\r\n"==o){h(n);var p="";if(f.isMaybeInsertedClosing(a,c)&&(p=s.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(a.column,a.column+1)){var m=r.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!m)return null;var g=this.$getIndent(r.getLine(m.row))}else{if(!p)return void f.clearMaybeInsertedClosing();g=this.$getIndent(c)}var v=g+r.getTabString();return{text:"\n"+v+"\n"+g+p,selection:[1,v.length,1,v.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(t,e,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){if(h(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,e,n,i,r){if("("==r){h(n);var o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return d(o,a,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(n);var s=n.getCursorPosition(),c=i.doc.getLine(s.row);if(")"==c.substring(s.column,s.column+1)&&null!==i.$findOpeningBracket(")",{column:s.column+1,row:s.row})&&f.isAutoInsertedClosing(s,c,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(h(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,e,n,i,r){if("["==r){h(n);var o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return d(o,a,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(n);var s=n.getCursorPosition(),c=i.doc.getLine(s.row);if("]"==c.substring(s.column,s.column+1)&&null!==i.$findOpeningBracket("]",{column:s.column+1,row:s.row})&&f.isAutoInsertedClosing(s,c,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(h(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(t,e,n,i,r){if('"'==r||"'"==r){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;h(n);var o=r,a=n.getSelectionRange(),s=i.doc.getTextRange(a);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return d(a,s,o,o);if(!s){var c=n.getCursorPosition(),l=i.doc.getLine(c.row),u=l.substring(c.column-1,c.column),f=l.substring(c.column,c.column+1),p=i.getTokenAt(c.row,c.column),m=i.getTokenAt(c.row,c.column+1);if("\\"==u&&p&&/escape/.test(p.type))return null;var g,v=p&&/string|escape/.test(p.type),b=!m||/string|escape/.test(m.type);if(f==o)(g=v!==b)&&/string\.end/.test(m.type)&&(g=!1);else{if(v&&!b)return null;if(v&&b)return null;var y=i.$mode.tokenRe;y.lastIndex=0;var w=y.test(u);y.lastIndex=0;var E=y.test(u);if(w||E)return null;if(f&&!/[\s;,.})\]\\]/.test(f))return null;g=!0}return{text:g?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)&&(h(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r}))};f.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new a(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",c)){var r=new a(e,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",c))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",l)},f.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},f.recordAutoInsert=function(t,e,n){var r=t.getCursorPosition(),o=e.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(t,e,n){var r=t.getCursorPosition(),o=e.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(t,e,n){return i.autoInsertedBrackets>0&&t.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&e.substr(t.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(t,e){return i.maybeInsertedBrackets>0&&t.row===i.maybeInsertedRow&&e.substr(t.column)===i.maybeInsertedLineEnd&&e.substr(0,t.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(f,o),e.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(t,e,n){"use strict";e.packages={},function(t){var n=/\w{4}/g;for(var i in t)e.packages[i]=t[i].replace(n,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(t,e,n){"use strict";var i=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,a=t("../unicode"),s=t("../lib/lang"),c=t("../token_iterator").TokenIterator,l=t("../range").Range,u=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,n,i){function r(t){for(var e=n;e<=i;e++)t(o.getLine(e),e)}var o=e.doc,a=!0,c=!0,l=1/0,u=e.getTabSize(),h=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(s.escapeRegExp).join("|"),p=this.lineCommentStart[0]):(g=s.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),h=e.getUseSoftTabs(),y=function(t,e){var n=t.match(g);if(n){var i=n[1].length,r=n[0].length;!f(t,i,r)&&" "==n[0][r-1]&&r--,o.removeInLine(e,i,r)}};var d=p+" ",f=(b=function(t,e){a&&!/\S/.test(t)||(f(t,l,l)?o.insertInLine({row:e,column:l},d):o.insertInLine({row:e,column:l},p))},w=function(t,e){return g.test(t)},function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%u!=0)return!1;for(i=0;" "==t.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,m=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+s.escapeRegExp(p)+")"),v=new RegExp("(?:"+s.escapeRegExp(m)+")\\s*$"),b=function(t,e){w(t,e)||a&&!/\S/.test(t)||(o.insertInLine({row:e,column:t.length},m),o.insertInLine({row:e,column:l},p))},y=function(t,e){var n;(n=t.match(v))&&o.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(g))&&o.removeInLine(e,n[1].length,n[0].length)},w=function(t,n){if(g.test(t))return!0;for(var i=e.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var E=1/0;r((function(t,e){var n=t.search(/\S/);-1!==n?(n<l&&(l=n),c&&!w(t,e)&&(c=!1)):E>t.length&&(E=t.length)})),l==1/0&&(l=E,a=!1,c=!1),h&&l%u!=0&&(l=Math.floor(l/u)*u),r(c?y:b)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,a,s=(m=new c(e,i.row,i.column)).getCurrentToken(),u=(e.selection,e.selection.toOrientedRange());if(s&&/comment/.test(s.type)){for(var h,d;s&&/comment/.test(s.type);){if(-1!=(g=s.value.indexOf(r.start))){var f=m.getCurrentTokenRow(),p=m.getCurrentTokenColumn()+g;h=new l(f,p,f,p+r.start.length);break}s=m.stepBackward()}var m;for(s=(m=new c(e,i.row,i.column)).getCurrentToken();s&&/comment/.test(s.type);){var g;if(-1!=(g=s.value.indexOf(r.end))){f=m.getCurrentTokenRow(),p=m.getCurrentTokenColumn()+g,d=new l(f,p,f,p+r.end.length);break}s=m.stepForward()}d&&e.remove(d),h&&(e.remove(h),o=h.start.row,a=-r.start.length)}else a=r.start.length,o=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);u.start.row==o&&(u.start.column+=a),u.end.row==o&&(u.end.column+=a),e.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(t,e,n){return this.$getIndent(e)},this.checkOutdent=function(t,e,n){return!1},this.autoOutdent=function(t,e,n){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var e in this.$embeds=[],this.$modes={},t)t[e]&&(this.$embeds.push(e),this.$modes[e]=new t[e]);var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(e=0;e<n.length;e++)!function(t){var i=n[e],r=t[i];t[n[e]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(t,e,n){var i=e[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o=i.split(this.$embeds[r]);if(!o[0]&&o[1]){e[0]=o[1];var a=this.$modes[this.$embeds[r]];return a[t].apply(a,e)}}var s=n.apply(this,e);return n?s:void 0},this.transformAction=function(t,e,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var a in o)if(o[a][e]){var s=o[a][e].apply(this,arguments);if(s)return s}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],o=0,a=r.length;o<a;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var s=0,c=r[o].token.length;s<c;s++)/keyword|support|storage/.test(r[o].token[s])&&(i=r[o].regex.match(/\(.+?\)/g)[s],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(t){return{name:t,value:t,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(u.prototype),e.Mode=u})),ace.define("ace/apply_delta",["require","exports","module"],(function(t,e,n){"use strict";e.applyDelta=function(t,e,n){var i=e.start.row,r=e.start.column,o=t[i]||"";switch(e.action){case"insert":if(1===e.lines.length)t[i]=o.substring(0,r)+e.lines[0]+o.substring(r);else{var a=[i,1].concat(e.lines);t.splice.apply(t,a),t[i]=o.substring(0,r)+t[i],t[i+e.lines.length-1]+=o.substring(r)}break;case"remove":var s=e.end.column,c=e.end.row;i===c?t[i]=o.substring(0,r)+o.substring(s):t.splice(i,c-i+1,o.substring(0,r)+t[c].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){function t(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}function e(e,n,i){var r="insert"==e.action,o=(r?1:-1)*(e.end.row-e.start.row),a=(r?1:-1)*(e.end.column-e.start.column),s=e.start,c=r?s:e.end;return t(n,s,i)?{row:n.row,column:n.column}:t(c,n,!i)?{row:n.row+o,column:n.column+(n.row==c.row?a:0)}:{row:s.row,column:s.column}}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=e(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),e<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./apply_delta").applyDelta,o=t("./lib/event_emitter").EventEmitter,a=t("./range").Range,s=t("./anchor").Anchor,c=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){i.implement(this,o),this.setValue=function(t){var e=this.getLength()-1;this.remove(new a(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new s(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var n=this.clippedPos(t.row,t.column),i=this.pos(t.row,t.column+e.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(t,e){var n=this.getLength();void 0===t?t=n:t<0?t=0:t>=n&&(t=n-1,e=void 0);var i=this.getLine(t);return null==e&&(e=i.length),{row:t,column:e=Math.min(Math.max(e,0),i.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var n=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),n=0):(e=[""].concat(e),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},e)},this.insertMergedLines=function(t,e){var n=this.clippedPos(t.row,t.column),i={row:n.row+e.length-1,column:(1==e.length?n.column:0)+e[e.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:e}),this.clonePos(i)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:n,action:"remove",lines:this.getLinesForRange({start:e,end:n})}),this.clonePos(e)},this.removeInLine=function(t,e,n){var i=this.clippedPos(t,e),r=this.clippedPos(t,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var n=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&t>0,i=e<this.getLength()-1,r=n?t-1:t,o=n?this.getLine(r).length:0,s=i?e+1:e,c=i?0:this.getLine(s).length,l=new a(r,o,s,c),u=this.$lines.slice(t,e+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),u},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof a||(t=a.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!a.comparePoints(t.start,t.end))||(n&&t.lines.length>2e4&&this.$splitAndapplyLargeDelta(t,2e4),r(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var n=t.lines,i=n.length,r=t.start.row,o=t.start.column,a=0,s=0;;){a=s,s+=e-1;var c=n.slice(a,s);if(s>i){t.lines=c,t.start.row=r+a,t.start.column=o;break}c.push(""),this.applyDelta({start:this.pos(r+a,o),end:this.pos(r+s,o=0),action:t.action,lines:c},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,o=n.length;r<o;r++)if((t-=n[r].length+i)<0)return{row:r,column:t+n[r].length+i};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(t.row,n.length),a=e||0;a<o;++a)r+=n[a].length+i;return r+t.column}}).call(c.prototype),e.Document=c})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var n=this;this.$worker=function(){if(n.running){for(var t=new Date,e=n.currentLine,i=-1,r=n.doc,o=e;n.lines[e];)e++;var a=r.getLength(),s=0;for(n.running=!1;e<a;){n.$tokenizeRow(e),i=e;do{e++}while(n.lines[e]);if(++s%5==0&&new Date-t>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=e,o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._signal("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,n+1,null),this.states.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(o.prototype),e.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,e,n){"use strict";var i=t("./lib/lang"),r=(t("./lib/oop"),t("./range").Range),o=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,n,o){if(this.regExp)for(var a=o.firstRow,s=o.lastRow,c=a;c<=s;c++){var l=this.cache[c];null==l&&((l=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(t){return new r(c,t.offset,c,t.offset+t.length)})),this.cache[c]=l.length?l:"");for(var u=l.length;u--;)e.drawSingleLineMarker(t,l[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),e.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(t,e,n){"use strict";function i(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new r(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(t){t.setFoldLine(this)}),this)}var r=t("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach((function(e){e.start.row+=t,e.end.row+=t}))},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort((function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)})),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,o=0,a=this.folds,s=!0;null==e&&(e=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(-1==(r=(i=a[c]).range.compareStart(e,n)))return void t(null,e,n,o,s);if(!t(null,i.start.row,i.start.column,o,s)&&t(i.placeholder,i.start.row,i.start.column,o)||0===r)return;s=!i.sameRow,o=i.end.column}t(null,e,n,o,s)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(t,e)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,o=this.getNextFoldTo(t,e);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){var a=(r=this.folds).indexOf(i);for(0===a&&(this.start.column+=n);a<r.length;a++){if((i=r[a]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var n=this.getNextFoldTo(t,e);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,a=this.foldData,s=o.indexOf(r),c=o[s-1];this.end.row=c.end.row,this.end.column=c.end.column;var l=new i(a,o=o.splice(s,o.length-s));return a.splice(a.indexOf(this)+1,0,l),l},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach((function(e){t.push("  "+e.toString())})),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((t-=i.start.column-e)<0)return{row:i.start.row,column:i.start.column+t};if((t-=i.placeholder.length)<0)return i.start;e=i.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(i.prototype),e.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(t,e,n){"use strict";var i=t("./range").Range.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(t,e,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var a=r[o],s=i(t,a.end);if(!(s>0)){var c=i(t,a.start);return 0===s?e&&0!==c?-o-2:o:c>0||0===c&&!e?o:-o-1}}return-o-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);n<0&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.apply(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges.splice(e,1)},this.merge=function(){var t=[],e=this.ranges;e=e.sort((function(t,e){return i(t.start,e.start)}));for(var n,r=e[0],o=1;o<e.length;o++){n=r,r=e[o];var a=i(n.end,r.start);a<0||(0!=a||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),e.splice(o,1),t.push(r),r=n,o--)}return this.ranges=e,t},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges[e]},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);r<0&&(r=-r-1);for(var o=[],a=i;a<r;a++)o.push(n[a]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,n=t.end;else n=t.start,e=t.end;for(var i=e.row,r=n.row-i,o=-e.column+n.column,a=this.ranges,s=0,c=a.length;s<c;s++)if(!((l=a[s]).end.row<i)){if(l.start.row>i)break;if(l.start.row==i&&l.start.column>=e.column&&(l.start.column!=e.column||!this.$insertRight)&&(l.start.column+=o,l.start.row+=r),l.end.row==i&&l.end.column>=e.column){if(l.end.column==e.column&&this.$insertRight)continue;l.end.column==e.column&&o>0&&s<c-1&&l.end.column>l.start.column&&l.end.column==a[s+1].start.column&&(l.end.column-=o),l.end.column+=o,l.end.row+=r}}if(0!=r&&s<c)for(;s<c;s++){var l;(l=a[s]).start.row+=r,l.end.row+=r}}}).call(r.prototype),e.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(t,e,n){"use strict";function i(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function r(t,e){i(t.start,e),i(t.end,e)}function o(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}t("../range").Range;var a=t("../range_list").RangeList,s=t("../lib/oop"),c=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};s.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach((function(e){e.setFoldLine(t)}))},this.clone=function(){var t=this.range.clone(),e=new c(t,this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);r(t,this.start);for(var e=t.start.row,n=t.start.column,i=0,o=-1;i<this.subFolds.length&&1==(o=this.subFolds[i].range.compare(e,n));i++);var a=this.subFolds[i];if(0==o)return a.addSubFold(t);e=t.range.end.row,n=t.range.end.column;var s=i;for(o=-1;s<this.subFolds.length&&1==(o=this.subFolds[s].range.compare(e,n));s++);if(this.subFolds[s],0==o)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);return this.subFolds.splice(i,s-i,t),t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return function(t,e){o(t.start,e),o(t.end,e)}(t,this.start)}}.call(c.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(t,e,n){"use strict";var i=t("../range").Range,r=t("./fold_line").FoldLine,o=t("./fold").Fold,a=t("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var a=r[o];if(a.range.contains(t,e)){if(1==n&&a.range.isEnd(t,e))continue;if(-1==n&&a.range.isStart(t,e))continue;return a}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var a=i[o].range.compareRange(t);if(2!=a){if(-2==a)break;for(var s=i[o].folds,c=0;c<s.length;c++){var l=s[c];if(-2==(a=l.range.compareRange(t)))break;if(2!=a){if(42==a)break;r.push(l)}}}}return e.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){e=e.concat(this.getFoldsInRange(t))}),this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var i=0;i<e[n].folds.length;i++)t.push(e[n].folds[i]);return t},this.getFoldStringAt=function(t,e,n,i){if(!(i=i||this.getFoldLine(t)))return null;for(var r,o,a={end:{column:0}},s=0;s<i.folds.length;s++){var c=(o=i.folds[s]).range.compareEnd(t,e);if(-1==c){r=this.getLine(o.start.row).substring(a.end.column,o.start.column);break}if(0===c)return null;a=o}return r||(r=this.getLine(o.start.row).substring(a.end.column)),-1==n?r.substring(0,e-a.end.column):1==n?r.substring(e-a.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var o=n[r],a=o.end.row,s=o.start.row;if(a>=e){s<e&&(s>=t?i-=e-s:i=0);break}a>=t&&(i-=s>=t?a-s:a-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort((function(t,e){return t.start.row-e.start.row})),t},this.addFold=function(t,e){var n,i=this.$foldData,a=!1;t instanceof o?n=t:(n=new o(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,c=n.start.column,l=n.end.row,u=n.end.column;if(s<l||s==l&&c<=u-2){var h=this.getFoldAt(s,c,1),d=this.getFoldAt(l,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(s,c)&&this.removeFold(h),d&&!d.range.isEnd(l,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach((function(t){n.addSubFold(t)})));for(var p=0;p<i.length;p++){var m=i[p];if(l==m.start.row){m.addFold(n),a=!0;break}if(s==m.end.row){if(m.addFold(n),a=!0,!n.sameRow){var g=i[p+1];if(g&&g.start.row==l){m.merge(g);break}}break}if(l<=m.start.row)break}return a||(m=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(t){t.forEach((function(t){this.addFold(t)}),this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,o=e.folds;if(1==o.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var a=e.split(t.start.row,t.start.column);(o=a.folds).shift(),a.start.row=o[0].start.row,a.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach((function(t){this.removeFold(t)}),this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach((function(e){t.restoreRange(e),this.addFold(e)}),this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach((function(t){this.expandFold(t)}),this)},this.unfold=function(t,e){var n,r;if(null==t?(n=new i(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new i(t,0,t,this.getLine(t).length):"row"in t?i.fromPoints(t,t):t,r=this.getFoldsInRangeList(n),e)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,i,r){null==i&&(i=t.start.row),null==r&&(r=0),null==e&&(e=t.end.row),null==n&&(n=this.getLine(e).length);var o=this.doc,a="";return t.walk((function(t,e,n,s){if(!(e<i)){if(e==i){if(n<r)return;s=Math.max(r,s)}a+=null!=t?t:o.getLine(e).substring(s,n)}}),e,n),a},this.getDisplayLine=function(t,e,n,i){var r,o=this.getFoldLine(t);return o?this.getFoldDisplayLine(o,t,e,n,i):(r=this.doc.getLine(t)).substring(i||0,e||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map((function(e){var n=e.folds.map((function(t){return t.clone()}));return new r(t,n)})),t},this.toggleFold=function(t){var e,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(t&&o.length)return void this.expandFolds(o);1==o.length&&(e=o[0])}if(e||(e=this.getFoldAt(i.start.row,i.start.column)),e&&e.range.toString()==i.toString())this.expandFold(e);else{var a="...";if(!i.isMultiLine()){if((a=this.getTextRange(i)).length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,i)}},this.getCommentFoldRange=function(t,e,n){var r=new a(this,t,e),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new i,c=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do{o=r.stepBackward()}while(o&&c.test(o.type));r.stepForward()}if(s.start.row=r.getCurrentTokenRow(),s.start.column=r.getCurrentTokenColumn()+2,r=new a(this,t,e),-1!=n){do{o=r.stepForward()}while(o&&c.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return s.end.row=r.getCurrentTokenRow(),s.end.column=r.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(t,e,n){null==n&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength();for(var r=t=t||0;r<e;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=e&&o.start.row>=t){r=o.end.row;try{var a=this.addFold("...",o);a&&(a.collapseChildren=n)}catch(t){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var a=this.getFoldWidgetRange(r);if(i||(i=a),a&&a.end.row>=t)break}r--}return{range:-1!==r&&a,firstRange:i}},this.onFoldWidgetClick=function(t,e){var n={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(t,n)){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),i=this.getLine(t),r="end"===n?-1:1,o=this.getFoldAt(t,-1===r?0:i.length,r);if(o)return e.children||e.all?this.removeFold(o):this.expandFold(o),o;var a=this.getFoldWidgetRange(t,!0);if(a&&!a.isMultiLine()&&(o=this.getFoldAt(a.start.row,a.start.column,1))&&a.isEqual(o.range))return this.removeFold(o),o;if(e.siblings){var s=this.getParentFoldRangeData(t);if(s.range)var c=s.range.start.row+1,l=s.range.end.row;this.foldAll(c,l,e.all?1e4:0)}else e.children?(l=a?a.end.row:this.getLength(),this.foldAll(t+1,l,e.all?1e4:0)):a&&(e.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var i=this.getParentFoldRangeData(e,!0);if(n=i.range||i.firstRange){e=n.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(t,e,n){"use strict";var i=t("../token_iterator").TokenIterator,r=t("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,o=n.charAt(t.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(t.column),t={row:t.row,column:t.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!a)return null;if(a[1]){if(!(s=this.$findClosingBracket(a[1],t)))return null;e=r.fromPoints(t,s),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var s;if(!(s=this.$findOpeningBracket(a[2],t)))return null;e=r.fromPoints(s,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var r=this.$brackets[t],o=1,a=new i(this,e.row,e.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var c=e.column-a.getCurrentTokenColumn()-2,l=s.value;;){for(;c>=0;){var u=l.charAt(c);if(u==r){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:c+a.getCurrentTokenColumn()}}else u==t&&(o+=1);c-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;c=(l=s.value).length-1}return null}},this.$findClosingBracket=function(t,e,n){var r=this.$brackets[t],o=1,a=new i(this,e.row,e.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var c=e.column-a.getCurrentTokenColumn();;){for(var l=s.value,u=l.length;c<u;){var h=l.charAt(c);if(h==r){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:c+a.getCurrentTokenColumn()}}else h==t&&(o+=1);c+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;c=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),o=t("./config"),a=t("./lib/event_emitter").EventEmitter,s=t("./selection").Selection,c=t("./mode/text").Mode,l=t("./range").Range,u=t("./document").Document,h=t("./background_tokenizer").BackgroundTokenizer,d=t("./search_highlight").SearchHighlight,f=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new u(t)),this.setDocument(t),this.selection=new s(this),o.resetOptions(this),this.setMode(e),o._signal("session",this)};(function(){function t(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}i.implement(this,a),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>n&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>1,o=t[r];if(e>o)n=r+1;else{if(!(e<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&!t.ignore&&(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e)o=i.length-1,r=this.getLine(t).length;else for(var o=0;o<i.length&&!((r+=i[o].value.length)>=e);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),e.$deltas.length>0&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,o={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var n=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete n[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new l(t,0,e,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(e>0&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(e-1,e+1))?/\s/:this.nonTokenRe;var o=e;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var a=e;a<n.length&&n.charAt(a).match(r);)a++;return new l(t,o,t,a)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(e&&e());this.$modeId=i,o.loadModule(["mode",i],function(t){if(this.$modeId!==i)return e&&e();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[i]=t,t.$id=i),this.$onChangeMode(t)),e&&e()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var r=this;this.bgTokenizer.addEventListener("update",(function(t){r._signal("tokenizerUpdate",t)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach((function(e){e&&e.screenWidth>t&&(t=e.screenWidth)})),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],a=o?o.start.row:1/0,s=e.length,c=0;c<s;c++){if(c>a){if((c=o.end.row+1)>=s)break;a=(o=this.$foldData[r++])?o.start.row:1/0}null==n[c]&&(n[c]=this.$getStringScreenWidth(e[c])[0]),n[c]>i&&(i=n[c])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=t.length-1;-1!=i;i--){var r=t[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach((function(t){this.addFolds(t.folds)}),this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=0;i<t.length;i++){var r=t[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,n){function i(t){return e?"insert"!==t.action:"insert"===t.action}var r,o,a=t[0];r=i(a)?l.fromPoints(a.start,a.end):l.fromPoints(a.start,a.start);for(var s=1;s<t.length;s++)i(a=t[s])?(o=a.start,-1==r.compare(o.row,o.column)&&r.setStart(o),o=a.end,1==r.compare(o.row,o.column)&&r.setEnd(o)):(o=a.start,-1==r.compare(o.row,o.column)&&(r=l.fromPoints(a.start,a.start)));if(null!=n){0===l.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var c=n.compareRange(r);1==c?r.setStart(n.start):-1==c&&r.setEnd(n.end)}return r},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),o=l.fromPoints(e,e);if(!n){this.remove(t);var a=t.start.row-t.end.row;(u=a?-t.end.column:t.start.column-t.end.column)&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=u),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=u)),a&&o.start.row>=t.end.row&&(o.start.row+=a,o.end.row+=a)}if(o.end=this.insert(o.start,i),r.length){var s=t.start,c=o.start,u=(a=c.row-s.row,c.column-s.column);this.addFolds(r.map((function(t){return(t=t.clone()).start.row==s.row&&(t.start.column+=u),t.end.row==s.row&&(t.end.column+=u),t.start.row+=a,t.end.row+=a,t})))}return o},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;i<=e;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new l(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var a=0;a<i&&" "==o.charAt(a);++a);a<i&&"\t"==o.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),n<0){if((r=this.getRowFoldStart(t+n))<0)return 0;var i=r-t}else if(n>0){var r;if((r=this.getRowFoldEnd(e+n))>this.doc.getLength()-1)return 0;i=r-e}else t=this.$clipRowToDocument(t),i=(e=this.$clipRowToDocument(e))-t+1;var o=new l(t,0,e,Number.MAX_VALUE),a=this.getFoldsInRange(o).map((function(t){return(t=t.clone()).start.row+=i,t.end.row+=i,t})),s=0==n?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+i,s),a.length&&this.addFolds(a),i},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)t=0,e=0;else{var n=this.doc.getLength();t>=n?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,n=t.action,i=t.start,r=t.end,o=i.row,a=r.row,s=a-o,c=null;if(this.$updating=!0,0!=s)if("remove"===n){this[e?"$wrapData":"$rowLengthCache"].splice(o,s);var l=this.$foldData;c=this.getFoldsInRange(t),this.removeFolds(c);var u=0;if(m=this.getFoldLine(r.row)){m.addRemoveChars(r.row,r.column,i.column-r.column),m.shiftRow(-s);var h=this.getFoldLine(o);h&&h!==m&&(h.merge(m),m=h),u=l.indexOf(m)+1}for(;u<l.length;u++)(m=l[u]).start.row>=r.row&&m.shiftRow(-s);a=o}else{var d=Array(s);d.unshift(o,0);var f=e?this.$wrapData:this.$rowLengthCache;if(f.splice.apply(f,d),l=this.$foldData,u=0,m=this.getFoldLine(o)){var p=m.range.compareInside(i.row,i.column);0==p?(m=m.split(i.row,i.column))&&(m.shiftRow(s),m.addRemoveChars(a,0,r.column-i.column)):-1==p&&(m.addRemoveChars(o,0,r.column-i.column),m.shiftRow(s)),u=l.indexOf(m)+1}for(;u<l.length;u++){var m;(m=l[u]).start.row>=o&&m.shiftRow(s)}}else s=Math.abs(t.start.column-t.end.column),"remove"===n&&(c=this.getFoldsInRange(t),this.removeFolds(c),s=-s),(m=this.getFoldLine(o))&&m.addRemoveChars(o,i.column,s);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(o,a):this.$updateRowLengthCache(o,a),c},this.$updateRowLengthCache=function(t,e,n){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,i){var r,o,a=this.doc.getAllLines(),s=this.getTabSize(),c=this.$wrapData,l=this.$wrapLimit,u=t;for(i=Math.min(i,a.length-1);u<=i;)(o=this.getFoldLine(u,o))?(r=[],o.walk(function(t,i,o,s){var c;if(null!=t){(c=this.$getDisplayTokens(t,r.length))[0]=e;for(var l=1;l<c.length;l++)c[l]=n}else c=this.$getDisplayTokens(a[i].substring(s,o),r.length);r=r.concat(c)}.bind(this),o.end.row,a[o.end.row].length+1),c[o.start.row]=this.$computeWrapSplits(r,l,s),u=o.end.row+1):(r=this.$getDisplayTokens(a[u]),c[u]=this.$computeWrapSplits(r,l,s),u++)};var e=3,n=4;this.$computeWrapSplits=function(t,i,r){function o(e){var n=t.slice(c,e),i=n.length;n.join("").replace(/12/g,(function(){i-=1})).replace(/2/g,(function(){i-=1})),a.length||(f=function(){var e=0;if(0===d)return e;if(h)for(var n=0;n<t.length;n++){var i=t[n];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=r}}return u&&!1!==h&&(e+=r),Math.min(e,d)}(),a.indent=f),l+=i,a.push(l),c=e}if(0==t.length)return[];for(var a=[],s=t.length,c=0,l=0,u=this.$wrapAsCode,h=this.$indentedSoftWrap,d=i<=Math.max(2*r,8)||!1===h?0:Math.floor(i/2),f=0;s-c>i-f;){var p=c+i-f;if(t[p-1]>=10&&t[p]>=10)o(p);else if(t[p]!=e&&t[p]!=n){for(var m=Math.max(p-(i-(i>>2)),c-1);p>m&&t[p]<e;)p--;if(u){for(;p>m&&t[p]<e;)p--;for(;p>m&&9==t[p];)p--}else for(;p>m&&t[p]<10;)p--;p>m?o(++p):(2==t[p=c+i]&&p--,o(p-f))}else{for(;p!=c-1&&t[p]!=e;p--);if(p>c){o(p);continue}for(p=c+i;p<t.length&&t[p]==n;p++);if(p==t.length)break;o(p)}}return a},this.$getDisplayTokens=function(e,n){var i,r=[];n=n||0;for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);if(9==a){i=this.getScreenTabSize(r.length+n),r.push(11);for(var s=1;s<i;s++)r.push(12)}else 32==a?r.push(10):a>39&&a<48||a>57&&a<64?r.push(9):a>=4352&&t(a)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,n,i){if(0==n)return[0,0];var r,o;for(null==n&&(n=1/0),i=i||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?i+=this.getScreenTabSize(i):r>=4352&&t(r)?i+=2:i+=1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[e.row];return n.length&&n[0]<e.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e){if(t<0)return{row:0,column:0};var n,i,r=0,o=0,a=0,s=0,c=this.$screenRowCache,l=this.$getRowCacheIndex(c,t),u=c.length;if(u&&l>=0){a=c[l],r=this.$docRowCache[l];var h=t>c[u-1]}else h=!u;for(var d=this.getLength()-1,f=this.getNextFoldLine(r),p=f?f.start.row:1/0;a<=t&&!(a+(s=this.getRowLength(r))>t||r>=d);)a+=s,++r>p&&(r=f.end.row+1,p=(f=this.getNextFoldLine(r,f))?f.start.row:1/0),h&&(this.$docRowCache.push(r),this.$screenRowCache.push(a));if(f&&f.start.row<=r)n=this.getFoldDisplayLine(f),r=f.start.row;else{if(a+s<=t||r>d)return{row:d,column:this.getLine(d).length};n=this.getLine(r),f=null}var m=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var v=Math.floor(t-a);i=g[v],v>0&&g.length&&(m=g.indent,o=g[v-1]||g[g.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,e-m)[1],this.$useWrapMode&&o>=i&&(o=i-1),f?f.idxToPosition(o):{row:r,column:o}},this.documentToScreenPosition=function(t,e){if(void 0===e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i,r=0,o=null;(i=this.getFoldAt(t,e,1))&&(t=i.start.row,e=i.start.column);var a,s=0,c=this.$docRowCache,l=this.$getRowCacheIndex(c,t),u=c.length;if(u&&l>=0){s=c[l],r=this.$screenRowCache[l];var h=t>c[u-1]}else h=!u;for(var d=this.getNextFoldLine(s),f=d?d.start.row:1/0;s<t;){if(s>=f){if((a=d.end.row+1)>t)break;f=(d=this.getNextFoldLine(a,d))?d.start.row:1/0}else a=s+1;r+=this.getRowLength(s),s=a,h&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var p="";d&&s>=f?(p=this.getFoldDisplayLine(d,t,e),o=d.start.row):(p=this.getLine(t).substring(0,e),o=t);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var v=0;p.length>=g[v];)r++,v++;p=p.substring(g[v-1]||0,p.length),m=v>0?g.indent:0}}return{row:r,column:m+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(s=0,(e=this.$foldData[s++])?e.start.row:1/0);i<n;){var o=this.$wrapData[i];t+=o?o.length+1:1,++i>r&&(i=e.end.row+1,r=(e=this.$foldData[s++])?e.start.row:1/0)}else{t=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)t-=(e=a[s]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<e.length&&!((i+="\t"===(r=e.charAt(o))?this.getScreenTabSize(i):t.getCharacterWidth(r))>n);o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(f.prototype),t("./edit_session/folding").Folding.call(f.prototype),t("./edit_session/bracket_match").BracketMatch.call(f.prototype),o.defineOptions(f.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,e,n){"use strict";var i=t("./lib/lang"),r=t("./lib/oop"),o=t("./range").Range,a=function(){this.$options={}};(function(){this.set=function(t){return r.mixin(this.$options,t),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,n=this.$matchIterator(t,e);if(!n)return!1;var i=null;return n.forEach((function(t,n,r){if(t.start)i=t;else{var a=t.offset+(r||0);if(i=new o(n,a,n,a+t.length),!t.length&&e.start&&e.start.start&&0!=e.skipCurrent&&i.isEqual(e.start))return i=null,!1}return!0})),i},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,r=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),a=[],s=e.re;if(e.$isMultiLine){var c,l=s.length,u=r.length-l;t:for(var h=s.offset||0;h<=u;h++){for(var d=0;d<l;d++)if(-1==r[h+d].search(s[d]))continue t;var f=r[h],p=r[h+l-1],m=f.length-f.match(s[0])[0].length,g=p.match(s[l-1])[0].length;c&&c.end.row===h&&c.end.column>m||(a.push(c=new o(h,m,h+l-1,g)),l>2&&(h=h+l-2))}}else for(var v=0;v<r.length;v++){var b=i.getMatchOffsets(r[v],s);for(d=0;d<b.length;d++){var y=b[d];a.push(new o(v,y.offset,v,y.offset+y.length))}}if(n){var w=n.start.column,E=n.start.column;for(v=0,d=a.length-1;v<d&&a[v].start.column<w&&a[v].start.row==n.start.row;)v++;for(;v<d&&a[d].end.column>E&&a[d].end.row==n.end.row;)d--;for(a=a.slice(v,d+1),v=0,d=a.length;v<d;v++)a[v].start.row+=n.start.row,a[v].end.row+=n.start.row}return a},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var a=t[o];a&&a.toLowerCase()!=a?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$matchIterator=function(t,e){var n,r=this.$assembleRegExp(e);if(!r)return!1;if(e.$isMultiLine)var a=r.length,s=function(e,i,s){var c=e.search(r[0]);if(-1!=c){for(var l=1;l<a;l++)if(-1==(e=t.getLine(i+l)).search(r[l]))return;var u=e.match(r[a-1])[0].length,h=new o(i,c,i+a-1,u);return 1==r.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):s&&(h.start.column+=s),!!n(h)||void 0}};else s=e.backwards?function(t,e,o){for(var a=i.getMatchOffsets(t,r),s=a.length-1;s>=0;s--)if(n(a[s],e,o))return!0}:function(t,e,o){for(var a=i.getMatchOffsets(t,r),s=0;s<a.length;s++)if(n(a[s],e,o))return!0};var c=this.$lineIterator(t,e);return{forEach:function(t){n=t,c.forEach(s)}}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=i.escapeRegExp(n)),t.wholeWord&&(n=function(t,e){function n(t){return/\w/.test(t)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}(n,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(t){o=!1}return t.re=o},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(t){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(t,e){var n=1==e.backwards,i=0!=e.skipCurrent,r=e.range,o=e.start;o||(o=r?r[n?"end":"start"]:t.selection.getRange()),o.start&&(o=o[i!=n?"end":"start"]);var a=r?r.start.row:0,s=r?r.end.row:t.getLength()-1,c=n?function(n){var i=o.row;if(!n(t.getLine(i).substring(0,o.column),i)){for(i--;i>=a;i--)if(n(t.getLine(i),i))return;if(0!=e.wrap)for(i=s,a=o.row;i>=a;i--)if(n(t.getLine(i),i))return}}:function(n){var i=o.row;if(!n(t.getLine(i).substr(o.column),i,o.column)){for(i+=1;i<=s;i++)if(n(t.getLine(i),i))return;if(0!=e.wrap)for(i=a,s=o.row;i<=s;i++)if(n(t.getLine(i),i))return}};return{forEach:c}}}).call(a.prototype),e.Search=a})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,e,n){"use strict";function i(t,e){this.platform=e||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function r(t,e){i.call(this,t,e),this.$singleCommand=!1}var o=t("../lib/keys"),a=t("../lib/useragent"),s=o.KEY_MODS;r.prototype=i.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||0}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],e||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==t)delete i[r];else if(Array.isArray(o)){var a=o.indexOf(t);-1!=a&&(o.splice(a,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(t,e,n){if("object"==typeof t&&t&&(null==n&&(n=t.position),t=t[this.platform]),t)return"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach((function(t){var i="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach((function(t){var e=this.parseKeys(t),n=s[e.hashId]+e.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var o=this.parseKeys(t),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,e,n)}),this)},this._addCommandToBinding=function(e,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[e]||this.$singleCommand)o[e]=n;else{Array.isArray(o[e])?-1!=(r=o[e].indexOf(n))&&o[e].splice(r,1):o[e]=[o[e]],"number"!=typeof i&&(i=i||n.isDefault?-100:t(n));var a=o[e];for(r=0;r<a.length&&!(t(a[r])>i);r++);a.splice(r,0,n)}else delete o[e]},this.addCommands=function(t){t&&Object.keys(t).forEach((function(e){var n=t[e];if(n){if("string"==typeof n)return this.bindKey(n,e);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=e),this.addCommand(n))}}),this)},this.removeCommands=function(t){Object.keys(t).forEach((function(e){this.removeCommand(t[e])}),this)},this.bindKeys=function(t){Object.keys(t).forEach((function(e){this.bindKey(e,t[e])}),this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(t){return t})),n=e.pop(),i=o[n];if(o.FUNCTION_KEYS[i])n=o.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,a=e.length;a--;){var s=o.KEY_MODS[e[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+e[a]+" in "+t),!1;r|=s}return{key:n,hashId:r}},this.findKeyCommand=function(t,e){var n=s[t]+e;return this.commandKeyBinding[n]},this.handleKeyboard=function(t,e,n,i){if(!(i<0)){var r=s[e]+n,o=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,o=this.commandKeyBinding[t.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(t.$keyChain&&(e&&4!=e||1!=n.length?(-1==e||i>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:o}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(i.prototype),e.HashHandler=i,e.MultiHashHandler=r})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,o=t("../lib/event_emitter").EventEmitter,a=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",(function(t){return t.command.exec(t.editor,t.args||{})}))};i.inherits(a,r),function(){i.implement(this,o),this.exec=function(t,e,n){if(Array.isArray(t)){for(var i=t.length;i--;)if(this.exec(t[i],e,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;var r={editor:e,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach((function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map((function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t}))}}.call(a.prototype),e.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(t,e,n){"use strict";function i(t,e){return{win:t,mac:e}}var r=t("../lib/lang"),o=t("../config"),a=t("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(t){o.loadModule("ace/ext/settings_menu",(function(e){e.init(t),t.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","F4"),exec:function(t){o.loadModule("ace/ext/error_marker",(function(e){e.showErrorMarker(t,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(t){o.loadModule("ace/ext/error_marker",(function(e){e.showErrorMarker(t,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(t){o.loadModule("ace/ext/searchbox",(function(e){e.Search(t)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(t){o.loadModule("ace/ext/searchbox",(function(e){e.Search(t,!0)}))}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(r.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Ctrl-T","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),o=t.session.doc.getLine(n.row).length,s=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,c=t.session.doc.getLine(n.row),l=n.row+1;l<=i.row+1;l++){var u=r.stringTrimLeft(r.stringTrimRight(t.session.doc.getLine(l)));0!==u.length&&(u=" "+u),c+=u}i.row+1<t.session.doc.getLength()-1&&(c+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new a(n.row,0,i.row+2,0),c),s>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+s)):(o=t.session.doc.getLine(n.row).length>o?o+1:o,t.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row!==e||i[o].end.column!==n)&&r.push(new a(i[o].end.row,i[o].end.column,e,n)),0===o?(0!==i[o].start.row||0!==i[o].start.column)&&r.push(new a(0,0,i[o].start.row,i[o].start.column)):r.push(new a(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));for(t.exitMultiSelectMode(),t.clearSelection(),o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./lib/lang"),a=t("./lib/useragent"),s=t("./keyboard/textinput").TextInput,c=t("./mouse/mouse_handler").MouseHandler,l=t("./mouse/fold_handler").FoldHandler,u=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,d=t("./search").Search,f=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,m=t("./commands/command_manager").CommandManager,g=t("./commands/default_commands").commands,v=t("./config"),b=t("./token_iterator").TokenIterator,y=function(t,e){var n=t.getContainerElement();this.container=n,this.renderer=t,this.commands=new m(a.isMac?"mac":"win",g),this.textInput=new s(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new c(this),new l(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(t,e){e._$emitInputEvent.schedule(31)})),this.setSession(e||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){i.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&!1===t.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=e&&e.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=this.$mergeableCommands,i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t){this.$keybindingId=t;var n=this;v.loadModule(["keybinding",t],(function(i){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(i&&i.handler),e&&e()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout((function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=e.findMatchingBracket(t.getCursorPosition());if(n)var i=new f(n.row,n.column,n.row,n.column+1);else e.$mode.getMatching&&(i=e.$mode.getMatching(t.session));i&&(e.$bracketHighlight=e.addMarker(i,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout((function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=t.getCursorPosition(),i=new b(t.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,a=0,s=i.stepBackward();if("<"==s.value)do{s=r,(r=i.stepForward())&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(r&&a>=0);else{do{r=s,s=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(s&&a<=0);i.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var c=i.getCurrentTokenRow(),l=i.getCurrentTokenColumn(),u=new f(c,l,c,l+r.value.length),h=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=h&&0!==u.compareRange(h.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),u&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(u,"ace_bracket","text"))}}}),50)}},this.focus=function(){var t=this;setTimeout((function(){t.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,n,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new f(t.row,t.column,t.row,1/0);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();e.$selectionMarker=e.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column-1,i=e.end.column+1,r=t.getLine(e.start.row),o=r.length,a=r.substring(Math.max(n,0),Math.min(i,o));if(!(n>=0&&/^[\w\d]/.test(a)||i<=o&&/[\w\d]$/.test(a))&&(a=r.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(a)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:a})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var n={text:t,event:e};this.commands.exec("paste",this,n)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var o=i[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[r])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var o=i.transformAction(n.getState(r.row),"insertion",this,n,t);o&&(t!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=o.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&((a=new f.fromPoints(r,r)).end.column+=t.length,this.session.remove(a));else{var a=this.getSelectionRange();r=this.session.remove(a),this.clearSelection()}if("\n"==t||"\r\n"==t){var s=n.getLine(r.row);if(r.column>s.search(/\S|$/)){var c=s.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+c)}}this.clearSelection();var l=r.column,u=n.getState(r.row),h=(s=n.getLine(r.row),i.checkOutdent(u,s,t));if(n.insert(r,t),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(r.row,l+o.selection[0],r.row,l+o.selection[1])):this.selection.setSelectionRange(new f(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(t)){var d=i.getNextLineIndent(u,s.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0===e.end.column){var o=n.getTextRange(e);if("\n"==o[o.length-1]){var a=n.getLine(e.end.row);/^\s+$/.test(a)&&(e.end.column=a.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new f(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new f(t.row,e-2,t.row,e)),this.session.replace(i,n)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(!(e.start.row<e.end.row)){if(e.start.column<e.end.column){var n=t.getTextRange(e);if(!/^\s+$/.test(n))return u=this.$getSelectedRows(),void t.indentRows(u.first,u.last,"\t")}var i=t.getLine(e.start.row),r=e.start,a=t.getTabSize(),s=t.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var c=a-s%a,l=o.stringRepeat(" ",c);else{for(c=s%a;" "==i[e.start.column-1]&&c;)e.start.column--,c--;this.selection.setSelectionRange(e),l="\t"}return this.insert(l)}var u=this.$getSelectedRows();t.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){var t=this.$getSelectedRows(),e=this.session,n=[];for(r=t.first;r<=t.last;r++)n.push(e.getLine(r));n.sort((function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}));for(var i=new f(0,0,0,0),r=t.first;r<=t.last;r++){var o=e.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,e.replace(i,n[r-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(e,n);if(o){var a=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,s=o.start+o.value.length-a,c=parseFloat(o.value);c*=Math.pow(10,s),a!==o.end&&n<a?t*=Math.pow(10,o.end-n-1):t*=Math.pow(10,o.end-n),c+=t;var l=(c/=Math.pow(10,s)).toFixed(s),u=new f(e,o.start,e,o.end);this.session.replace(u,l),this.moveCursorTo(e,Math.max(o.start+1,n+l.length-o.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var o=i?n.start:n.end,a=e.insert(o,e.getTextRange(n),!1);n.start=o,n.end=a,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,e?0:t),e&&-1==t&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var a=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,c=0,l=a.length,u=0;u<l;u++){var h=u;a[u].moveBy(s,0);for(var d=(n=this.$getSelectedRows(a[u])).first,f=n.last;++u<l;){c&&a[u].moveBy(c,0);var p=this.$getSelectedRows(a[u]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(u--,s=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(h=u+1);h<=u;)a[h].moveBy(s,0),h++;e||(s=0),c+=s}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,!0===e?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var n=this.getCursorPosition(),i=new b(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var a,s,c=!1,l={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!c;u++)if(h[o.value[u]])switch(s=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(l[s])&&(l[s]=0),o.value[u]){case"(":case"[":case"{":l[s]++;break;case")":case"]":case"}":l[s]--,-1===l[s]&&(a="bracket",c=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(l[o.value])&&(l[o.value]=0),"<"===r.value?l[o.value]++:"</"===r.value&&l[o.value]--,-1===l[o.value]&&(a="tag",c=!0));c||(r=o,o=i.stepForward(),u=0)}while(o&&!c);if(a){var d,p;if("bracket"===a)(d=this.session.getBracketRange(n))||(p=(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(e||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(0===(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){c=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?l[m]++:"</"===r.value&&l[m]--,0===l[m]&&(c=!0)))}while(r&&!c)}o&&o.type.indexOf("tag-name")&&(p=d.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,t)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],t)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return null!==(e=this.$search.replace(n,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,n){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&i.mixin(e,t);var r=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var o=this.$search.find(this.session);return e.preventScroll?o:o?(this.revealRange(o,n),o):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),a=this.renderer.on("beforeRender",(function(){i&&(e=n.renderer.container.getBoundingClientRect())})),s=this.renderer.on("afterRender",(function(){if(i&&e&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var t=n.renderer,o=t.$cursorLayer.$pixelPos,a=t.layerConfig,s=o.top-a.offset;null!=(i=o.top>=0&&s+e.top<0||!(o.top<a.height&&o.top+e.top+a.lineHeight>window.innerHeight)&&null)&&(r.style.top=s+"px",r.style.left=o.left+"px",r.style.height=a.lineHeight+"px",r.scrollIntoView(i)),i=e=null}}));this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,r.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}).call(y.prototype),v.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=y})),ace.define("ace/undomanager",["require","exports","module"],(function(t,e,n){"use strict";var i=function(){this.reset()};(function(){function t(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function e(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function n(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++){for(var r=t[i],o={group:r.group,deltas:new Array(r.length)},a=0;a<r.deltas.length;a++){var s=r.deltas[a];o.deltas[a]=e(s)}n[i]=o}return n}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),n=null;return e&&(n=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),n},this.redo=function(t){var e=this.$redoStack.pop(),n=null;return e&&(n=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(e){return n(e,t)},this.$deserializeDeltas=function(t){return n(t,e)}}).call(i.prototype),e.UndoManager=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("../lib/dom"),r=t("../lib/oop"),o=t("../lib/lang"),a=t("../lib/event_emitter").EventEmitter,s=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,a),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var a=n.text;a=a?o.escapeHTML(a):n.html||"",-1===r.text.indexOf(a)&&r.text.push(a);var s=n.type;"error"==s?r.className=" ace_error":"warning"==s&&" ace_error"!=r.className?r.className=" ace_warning":"info"==s&&!r.className&&(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,n=t.end.row-e;if(0!==n)if("remove"==t.action)this.$annotations.splice(e,n+1,null);else{var i=new Array(n+1);i.unshift(e,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(t){for(var e=this.session,n=t.firstRow,r=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),o=e.getNextFoldLine(n),a=o?o.start.row:1/0,s=this.$showFoldWidgets&&e.foldWidgets,c=e.$breakpoints,l=e.$decorations,u=e.$firstLineNumber,h=0,d=e.gutterRenderer||this.$renderer,f=null,p=-1,m=n;;){if(m>a&&(m=o.end.row+1,a=(o=e.getNextFoldLine(m,o))?o.start.row:1/0),m>r){for(;this.$cells.length>p+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}(f=this.$cells[++p])||((f={element:null,textNode:null,foldWidget:null}).element=i.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[p]=f);var g="ace_gutter-cell ";if(c[m]&&(g+=c[m]),l[m]&&(g+=l[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),f.element.className!=g&&(f.element.className=g),(b=e.getRowLength(m)*t.lineHeight+"px")!=f.element.style.height&&(f.element.style.height=b),s){var v=s[m];null==v&&(v=s[m]=e.getFoldWidget(m))}if(v){f.foldWidget||(f.foldWidget=i.createElement("span"),f.element.appendChild(f.foldWidget)),g="ace_fold-widget ace_"+v,"start"==v&&m==a&&m<o.end.row?g+=" ace_closed":g+=" ace_open",f.foldWidget.className!=g&&(f.foldWidget.className=g);var b=t.lineHeight+"px";f.foldWidget.style.height!=b&&(f.foldWidget.style.height=b)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var y=h=d?d.getText(e,m):m+u;y!=f.textNode.data&&(f.textNode.data=y),m++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(h=e.getLength()+u);var w=d?d.getWidth(e,h,t):h.toString().length*t.characterWidth,E=this.$padding||this.$computePadding();(w+=E.left+E.right)!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(s.prototype),e.Gutter=s})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(t,e,n){"use strict";var i=t("../range").Range,r=t("../lib/dom"),o=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){function t(t,e,n,i){return(t?1:0)|(e?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){if(t=t||this.config){this.config=t;var e=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,t),a=this.$padding+r.start.column*t.characterWidth;i.renderer(e,r,a,o,t)}else"fullLine"==i.type?this.drawFullLineMarker(e,r,i.clazz,t):"screenLine"==i.type?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?"text"==i.type?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}else i.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(e,n,r,o,a){for(var s=this.session,c=n.start.row,l=n.end.row,u=c,h=0,d=0,f=s.getScreenLastRowColumn(u),p=new i(u,n.start.column,u,d);u<=l;u++)p.start.row=p.end.row=u,p.start.column=u==c?n.start.column:s.getRowWrapIndent(u),p.end.column=f,h=d,d=f,f=u+1<l?s.getScreenLastRowColumn(u+1):u==l?0:n.end.column,this.drawSingleLineMarker(e,p,r+(u==c?" ace_start":"")+" ace_br"+t(u==c||u==c+1&&n.start.column,h<d,d>f,u==l),o,u==l?0:1,a)},this.drawMultiLineMarker=function(t,e,n,i,r){var o=this.$padding,a=i.lineHeight,s=this.$getTop(e.start.row,i),c=o+e.start.column*i.characterWidth;r=r||"",t.push("<div class='",n," ace_br1 ace_start' style='","height:",a,"px;","right:0;","top:",s,"px;","left:",c,"px;",r,"'></div>"),s=this.$getTop(e.end.row,i);var l=e.end.column*i.characterWidth;if(t.push("<div class='",n," ace_br12' style='","height:",a,"px;","width:",l,"px;","top:",s,"px;","left:",o,"px;",r,"'></div>"),!((a=(e.end.row-e.start.row-1)*i.lineHeight)<=0)){s=this.$getTop(e.start.row+1,i);var u=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",a,"px;","right:0;","top:",s,"px;","left:",o,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(t,e,n,i,r,o){var a=i.lineHeight,s=(e.end.column+(r||0)-e.start.column)*i.characterWidth,c=this.$getTop(e.start.row,i),l=this.$padding+e.start.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",a,"px;","width:",s,"px;","top:",c,"px;","left:",l,"px;",o||"","'></div>")},this.drawFullLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),a=i.lineHeight;e.start.row!=e.end.row&&(a+=this.$getTop(e.end.row,i)-o),t.push("<div class='",n,"' style='","height:",a,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),a=i.lineHeight;t.push("<div class='",n,"' style='","height:",a,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}).call(o.prototype),e.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../lib/dom"),o=t("../lib/lang"),a=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),s=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,a),this.EOF_CHAR="Â¶",this.EOL_CHAR_LF="Â¬",this.EOL_CHAR_CRLF="Â¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="â",this.SPACE_CHAR="Â·",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;n<t+1;n++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,n)+"</span>"):e.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",a="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",a=" ace_invisible_tab";var s=o.stringRepeat(this.SPACE_CHAR,this.tabSize),c=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=s=o.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+i+r+"'>"+s+"</span>",this.$tabStrings["\t"]="<span class='"+i+a+"'>"+c+"</span>"}},this.updateLines=function(t,e,n){(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)&&this.scrollLines(t),this.config=t;for(var i=Math.max(e,t.firstRow),r=Math.min(n,t.lastRow),o=this.element.childNodes,a=0,s=t.firstRow;s<i;s++){if(c=this.session.getFoldLine(s)){if(c.containsRow(i)){i=c.start.row;break}s=c.end.row}a++}s=i;for(var c,l=(c=this.session.getNextFoldLine(s))?c.start.row:1/0;s>l&&(s=c.end.row+1,l=(c=this.session.getNextFoldLine(s,c))?c.start.row:1/0),!(s>r);){var u=o[a++];if(u){var h=[];this.$renderLine(h,s,!this.$useLineGroups(),s==l&&c),u.style.height=t.lineHeight*this.session.getRowLength(s)+"px",u.innerHTML=h.join("")}s++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var n=this.element;if(e.firstRow<t.firstRow)for(var i=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(e.lastRow>t.lastRow)for(i=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);i>0;i--)n.removeChild(n.lastChild);if(t.firstRow<e.firstRow){var r=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}t.lastRow>e.lastRow&&(r=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow),n.appendChild(r))},this.$renderLinesFragment=function(t,e,n){for(var i=this.element.ownerDocument.createDocumentFragment(),o=e,a=this.session.getNextFoldLine(o),s=a?a.start.row:1/0;o>s&&(o=a.end.row+1,s=(a=this.session.getNextFoldLine(o,a))?a.start.row:1/0),!(o>n);){var c=r.createElement("div"),l=[];if(this.$renderLine(l,o,!1,o==s&&a),c.innerHTML=l.join(""),this.$useLineGroups())c.className="ace_line_group",i.appendChild(c),c.style.height=t.lineHeight*this.session.getRowLength(o)+"px";else for(;c.firstChild;)i.appendChild(c.firstChild);o++}return i},this.update=function(t){this.config=t;for(var e=[],n=t.firstRow,i=t.lastRow,r=n,o=this.session.getNextFoldLine(r),a=o?o.start.row:1/0;r>a&&(r=o.end.row+1,a=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(r>i);)this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(e,r,!1,r==a&&o),this.$useLineGroups()&&e.push("</div>"),r++;this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,n,i){var r=this,a=i.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,(function(t,n,i,a,s){if(n)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(r.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("\t"==t){var c=r.session.getScreenTabSize(e+a);return e+=c-1,r.$tabStrings[c]}if("ã"==t){var l=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=r.showInvisibles?r.SPACE_CHAR:"";return e+=1,"<span class='"+l+"' style='width:"+2*r.config.characterWidth+"px'>"+u+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(e+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+t+"</span>")}));if(this.$textToken[n.type])t.push(a);else{var s="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",s,"'",c,">",a,"</span>")}return e+i.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);return i<=0||i>=n?e:" "==e[0]?(i-=i%this.tabSize,t.push(o.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),e.substr(i)):"\t"==e[0]?(t.push(o.stringRepeat(this.$tabStrings["\t"],i)),e.substr(i)):e},this.$renderWrappedLine=function(t,e,n,i){for(var r=0,a=0,s=n[0],c=0,l=0;l<e.length;l++){var u=e[l],h=u.value;if(0==l&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(t,h,s)))continue;r-=h.length}if(r+h.length<s)c=this.$renderToken(t,c,u,h),r+=h.length;else{for(;r+h.length>=s;)c=this.$renderToken(t,c,u,h.substring(0,s-r)),h=h.substring(s-r),r=s,i||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(o.stringRepeat("Â ",n.indent)),c=0,s=n[++a]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,c=this.$renderToken(t,c,u,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var o=1;o<e.length;o++)r=(i=e[o]).value,n=this.$renderToken(t,n,i,r)},this.$renderLine=function(t,e,n,i){if(!i&&0!=i&&(i=this.session.getFoldLine(e)),i)var r=this.$getFoldLineTokens(e,i);else r=this.session.getTokens(e);if(n||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),r.length){var o=this.session.getRowSplitData(e);o&&o.length?this.$renderWrappedLine(t,r,o,n):this.$renderSimpleLine(t,r)}this.showInvisibles&&(i&&(e=i.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||t.push("</div>")},this.$getFoldLineTokens=function(t,e){var n=this.session,i=[],r=n.getTokens(t);return e.walk((function(t,e,o,a,s){null!=t?i.push({type:"fold",value:t}):(s&&(r=n.getTokens(e)),r.length&&function(t,e,n){for(var r=0,o=0;o+t[r].value.length<e;)if(o+=t[r].value.length,++r==t.length)return;for(o!=e&&((a=t[r].value.substring(e-o)).length>n-e&&(a=a.substring(0,n-e)),i.push({type:t[r].type,value:a}),o=e+a.length,r+=1);o<n&&r<t.length;){var a;(a=t[r].value).length+o>n?i.push({type:t[r].type,value:a.substring(0,n-o)}):i.push(t[r]),o+=a.length,r+=1}}(r,a,o))}),e.end.row,this.session.getLine(e.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),e.Text=s})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(t,e,n){"use strict";var i,r=t("../lib/dom"),o=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&!i&&(this.smoothBlinking=t,r.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=r.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){t(!0),e()}),this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t);return{left:this.$padding+n.column*this.config.characterWidth,top:(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,n=0,i=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]),n=0;for(var r=e.length;n<r;n++){var o=this.getPixelPosition(e[n].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&n>1)){var a=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(a,o,t,e[n],this.session):(a.left=o.left+"px",a.top=o.top+"px",a.width=t.characterWidth+"px",a.height=t.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),e.Cursor=o})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./lib/event"),a=t("./lib/event_emitter").EventEmitter,s=32768,c=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,a),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(c.prototype);var l=function(t,e){c.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};i.inherits(l,c),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>s?(this.coeff=s/t,t=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(l.prototype);var u=function(t,e){c.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,c),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(u.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=u,e.VScrollBar=l,e.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(t,e,n){"use strict";var i=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;i.nextFrame((function(){var t;for(e.pending=!1;t=e.changes;)e.changes=0,e.onRender(t)}),this.window)}}}).call(r.prototype),e.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(t,e,n){var i=t("../lib/oop"),r=t("../lib/dom"),o=t("../lib/lang"),a=t("../lib/useragent"),s=t("../lib/event_emitter").EventEmitter,c=0,l=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),c||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=r.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;c=e>0&&e<1?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",a.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval((function(){t.checkForSizeChanges()}),500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===c){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var e={height:t.height,width:t.width/c}}else e={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/c};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(t){return this.$main.innerHTML=o.stringRepeat(t,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(l.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./config"),a=t("./lib/useragent"),s=t("./layer/gutter").Gutter,c=t("./layer/marker").Marker,l=t("./layer/text").Text,u=t("./layer/cursor").Cursor,h=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,m=t("./lib/event_emitter").EventEmitter;r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}',"ace_editor.css");var g=function(t,e){var n=this;this.container=t||r.createElement("div"),this.$keepTextAreaAtCursor=!a.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new c(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,n){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(t,e,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,n,i){i-=this.$extraHeight||0;var r=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return i&&(t||o.height!=i)&&(o.height=i,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(t||o.width!=n)&&(r|=this.CHANGE_SIZE,o.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",o.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(r|=this.CHANGE_FULL)),o.$dirty=!n||!i,r&&this._signal("resize",a),r},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),e*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=r.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;e-=t.offset;var i=this.textarea.style,r=this.lineHeight;if(e<0||e>t.height-r)i.top=i.left="0";else{var o=this.characterWidth;if(this.$composition){var a=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(a)[0]+2,r+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,i.height=r+"px",i.width=o+"px",i.left=Math.min(n,this.$size.scrollerWidth-o)+"px",i.top=Math.min(e,this.$size.height-r)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):t&this.CHANGE_SCROLL?(t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(t&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))}this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=t>e;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,n=e.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),a=this.$horizScroll!==o;a&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var s=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,l=e.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=u;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-e.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+h.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-i+u<0||this.scrollTop>h.top),f=s!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,m,g=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),b=v+g,y=this.lineHeight;v=t.screenToDocumentRow(v,0);var w=t.getFoldLine(v);w&&(v=w.start.row),p=t.documentToScreenRow(v,0),m=t.getRowLength(v)*y,b=Math.min(t.screenToDocumentRow(b,0),t.getLength()-1),l=e.scrollerHeight+t.getRowLength(b)*y+m,c=this.scrollTop-p*y;var E=0;return this.layerConfig.width!=r&&(E=this.CHANGE_H_SCROLL),(a||f)&&(E=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),f&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:b,lineHeight:y,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:c,gutterOffset:y?Math.max(0,Math.ceil((c+e.height-e.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},E},this.$updateLines=function(){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||e<n.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(t),r=i.left,o=i.top,a=n&&n.top||0,s=n&&n.bottom||0,c=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;c+a>o?(e&&c+a>o+this.lineHeight&&(o-=e*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):c+this.$size.scrollerHeight-s<o+this.lineHeight&&(e&&c+this.$size.scrollerHeight-s<o-this.lineHeight&&(o+=e*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var l=this.scrollLeft;l>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):l+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&r-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n=0,i=this.STEPS,r=[],o=function(t,e,n){return n*(Math.pow(t-1,3)+1)+e};for(n=0;n<i;++n)r.push(o(n/this.STEPS,t,e-t));return r},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==n)return}var o=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())}),10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=(t+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),o=Math.round(i);return{row:r,column:o,side:i-o>0?1:-1}},this.screenToTextCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=Math.round((t+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(e+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+Math.round(i.column*this.characterWidth),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(t,e){function n(n){if(i.$themeId!=t)return e&&e();if(!n||!n.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");r.importCssString(n.cssText,n.cssClass,i.container.ownerDocument),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),e&&e()}var i=this;if(this.$themeId=t,i._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)n(t);else{var a=t||this.$options.theme.initialValue;o.loadModule(["theme",a],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){r.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){r.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),o.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=t?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=g})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../lib/net"),o=t("../lib/event_emitter").EventEmitter,a=t("../config"),s=function(e,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),a.get("packaged")||!t.toUrl)r=r||a.moduleUrl(n,"worker");else{var o=this.$normalizePath;r=r||o(t.toUrl("ace/worker/worker.js",null,"_"));var s={};e.forEach((function(e){s[e]=o(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}try{this.$worker=new Worker(r)}catch(t){if(!(t instanceof window.DOMException))throw t;var c=this.$workerBlob(r),l=window.URL||window.webkitURL,u=l.createObjectURL(c);this.$worker=new Worker(u),l.revokeObjectURL(u)}this.$worker.postMessage({init:!0,tlns:s,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return r.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))},this.$workerBlob=function(t){var e="importScripts('"+r.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(t){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(e),n.getBlob("application/javascript")}}}).call(s.prototype);var c=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,s=Object.create(o),c=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){c.messageBuffer.push(t),i&&(r?setTimeout(l):l())},this.setEmitSync=function(t){r=t};var l=function(){var t=c.messageBuffer.shift();t.command?i[t.command].apply(i,t.args):t.event&&s._signal(t.event,t.data)};s.postMessage=function(t){c.onMessage({data:t})},s.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},s.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},a.loadModule(["worker",e],(function(t){for(i=new t[n](s);c.messageBuffer.length;)l()}))};c.prototype=s.prototype,e.UIWorkerClient=c,e.WorkerClient=s})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(t,e,n){"use strict";var i=t("./range").Range,r=t("./lib/event_emitter").EventEmitter,o=t("./lib/oop"),a=function(t,e,n,i,r,o){var a=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){a.onCursorChange()}))},this.$pos=n;var s=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var t=this,e=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=e.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),t.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),e.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var n="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,r=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,o=e.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===t.action)for(var a=this.others.length-1;a>=0;a--){var s={row:(c=this.others[a]).row,column:c.column+o};this.doc.insertMergedLines(s,t.lines)}else if("remove"===t.action)for(a=this.others.length-1;a>=0;a--){var c;s={row:(c=this.others[a]).row,column:c.column+o},this.doc.remove(new i(s.row,s.column,s.row,s.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,n=function(n,r){e.removeMarker(n.markerId),n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<e;n++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),e.PlaceHolder=a})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,e,n){function i(t,e){return t.row==e.row&&t.column==e.column}var r=t("../lib/event"),o=t("../lib/useragent");e.onMouseDown=function(t){var e=t.domEvent,n=e.altKey,a=e.shiftKey,s=e.ctrlKey,c=t.getAccelKey(),l=t.getButton();if(s&&o.isMac&&(l=e.button),t.editor.inMultiSelectMode&&2==l)t.editor.textInput.onContextMenu(t.domEvent);else if(s||n||c){if(0===l){var u,h=t.editor,d=h.selection,f=h.inMultiSelectMode,p=t.getDocumentPosition(),m=d.getCursor(),g=t.inSelection()||d.isEmpty()&&i(p,m),v=t.x,b=t.y,y=h.session,w=h.renderer.pixelToScreenCoordinates(v,b),E=w;if(h.$mouseHandler.$enableJumpToDef)s&&n||c&&n?u=a?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(c&&!n){if(u="add",!f&&a)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&o.isMac&&e.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&g)return;if(!f){var C=d.toOrientedRange();h.addSelectionMarker(C)}var $=d.rangeList.rangeAtPoint(p);h.$blockScrolling++,h.inVirtualSelectionMode=!0,a&&($=null,C=d.ranges[0]||C,h.removeSelectionMarker(C)),h.once("mouseup",(function(){var t=d.toOrientedRange();$&&t.isEmpty()&&i($.cursor,t.cursor)?d.substractPoint(t.cursor):(a?d.substractPoint(C.cursor):C&&(h.removeSelectionMarker(C),d.addRange(C)),d.addRange(t)),h.$blockScrolling--,h.inVirtualSelectionMode=!1}))}else if("block"==u){t.stop(),h.inVirtualSelectionMode=!0;var A,x=[];h.$blockScrolling++,f&&!c?d.toSingleRange():!f&&c&&(A=d.toOrientedRange(),h.addSelectionMarker(A)),a?w=y.documentToScreenPosition(d.lead):d.moveToPosition(p),h.$blockScrolling--,E={row:-1,column:-1};r.capture(h.container,(function(t){v=t.clientX,b=t.clientY}),(function(t){clearInterval(k),h.removeSelectionMarkers(x),x.length||(x=[d.toOrientedRange()]),h.$blockScrolling++,A&&(h.removeSelectionMarker(A),d.toSingleRange(A));for(var e=0;e<x.length;e++)d.addRange(x[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--}));var k=setInterval((function(){!function(){var t=h.renderer.pixelToScreenCoordinates(v,b),e=y.screenToDocumentPosition(t.row,t.column);i(E,t)&&i(e,d.lead)||(E=t,h.$blockScrolling++,h.selection.moveToPosition(e),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(x),x=d.rectangularRangeBlock(E,w),h.$mouseHandler.$clickSelection&&1==x.length&&x[0].isEmpty()&&(x[0]=h.$mouseHandler.$clickSelection.clone()),x.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)}()}),20);return t.preventDefault()}}}else 0===l&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(t,e,n){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var i=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new i(e.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(t,e,n){function i(t,e){return t.row==e.row&&t.column==e.column}function r(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",c),t.commands.addCommands(h.defaultCommands),function(t){function e(e){i&&(t.renderer.setMouseCursor(""),i=!1)}var n=t.textInput.getElement(),i=!1;l.addListener(n,"keydown",(function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);t.$blockSelectEnabled&&r?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&e()})),l.addListener(n,"keyup",e),l.addListener(n,"blur",e)}(t))}var o=t("./range_list").RangeList,a=t("./range").Range,s=t("./selection").Selection,c=t("./mouse/multi_select_handler").onMouseDown,l=t("./lib/event"),u=t("./lib/lang"),h=t("./commands/multi_select_commands");e.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=new(0,t("./search").Search),f=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=a.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{n=this.getRange();var i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,c=n.start;else s=n.start,c=n.end;return this.addRange(a.fromPoints(c,c)),void this.addRange(a.fromPoints(s,s))}var l=[],u=this.getLineRange(r,!0);u.start.column=n.start.column,l.push(u);for(var h=r+1;h<o;h++)l.push(this.getLineRange(h,!0));(u=this.getLineRange(o,!0)).end.column=n.end.column,l.push(u),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=a.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var r=[],o=t.column<e.column;if(o)var s=t.column,c=e.column;else s=e.column,c=t.column;var l=t.row<e.row;if(l)var u=t.row,h=e.row;else u=e.row,h=t.row;s<0&&(s=0),u<0&&(u=0),u==h&&(n=!0);for(var d=u;d<=h;d++){var f=a.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,c));if(f.isEmpty()){if(p&&i(f.end,p))break;var p=f.end}f.cursor=o?f.start:f.end,r.push(f)}if(l&&r.reverse(),!n){for(var m=r.length-1;r[m].isEmpty()&&m>0;)m--;if(m>0)for(var g=0;r[g].isEmpty();)g++;for(var v=m;v>=g;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(s.prototype);var p=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,a=this.session,c=this.selection,l=c.rangeList,u=(r?c:l).ranges;if(!u.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=c._eventRegistry;c._eventRegistry={};var d=new s(a);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(o)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=a.selection=d;var p=t.exec?t.exec(this,e||{}):t(this,e||{});!i&&void 0!==p&&(i=p),d.toOrientedRange(u[f])}d.detach(),this.selection=a.selection=c,this.inVirtualSelectionMode=!1,c._eventRegistry=h,c.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();(t=n.join(r)).length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var i=e==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(i.row!=e.row||this.session.$clipPositionToDocument(i.row,i.column).column!=e.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,n){if((e=e||{}).needle=t||e.needle,null==e.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(i)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var a=r.length;a--;)o.addRange(r[a],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o,s=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())l=s;else var c=this.session.documentToScreenPosition(i?n.end:n.start),l=this.session.screenToDocumentPosition(c.row+t,c.column);if(i?(o=a.fromPoints(s,l)).cursor=o.start:(o=a.fromPoints(l,s)).cursor=o.end,o.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),u&&this.selection.substractPoint(u)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;)if((s=i[r]).isEmpty()){var o=e.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}n.mergeOverlappingRanges();var a=[];for(r=i.length;r--;){var s=i[r];a.unshift(e.getTextRange(s))}for(t<0?a.unshift(a.pop()):a.push(a.shift()),r=i.length;r--;)o=(s=i[r]).clone(),e.replace(s,a[r]),s.start.row=o.start.row,s.start.column=o.start.column},this.selectMore=function(t,e,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),a=function(t,e,n){return d.$options.wrap=!0,d.$options.needle=e,d.$options.backwards=-1==n,d.find(t)}(i,o,t);a&&(a.cursor=-1==t?a.start:a.end,this.$blockScrolling+=1,this.session.unfold(a),this.multiSelect.addRange(a),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,n=e.ranges,i=-1,r=n.filter((function(t){if(t.cursor.row==i)return!0;i=t.cursor.row}));if(n.length&&r.length!=n.length-1){r.forEach((function(t){e.substractPoint(t.cursor)}));var o=0,s=1/0,c=n.map((function(e){var n=e.cursor,i=t.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),i<s&&(s=i),i}));n.forEach((function(e,n){var i=e.cursor,r=o-i.column,l=c[n]-s;r>l?t.insert(i,u.stringRepeat(" ",r-l)):t.remove(new a(i.row,i.column,i.row,i.column-r+l)),e.start.column=e.end.column=o,e.start.row=e.end.row=i.row,e.cursor=e.end})),e.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var l=this.selection.getRange(),h=l.start.row,d=l.end.row,f=h==d;if(f){var p,m=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<m);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=m&&(d=m-1)}var g=this.session.removeFullLines(h,d);g=this.$reAlignText(g,f),this.session.insert({row:h,column:0},g.join("\n")+"\n"),f||(l.start.column=0,l.end.column=g[g.length-1].length),this.selection.setRange(l)}},this.$reAlignText=function(t,e){function n(t){return u.stringRepeat(" ",t)}function i(t){return t[2]?n(r)+t[2]+n(o-t[2].length+a)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var r,o,a,s=!0,c=!0;return t.map((function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==r?(r=e[1].length,o=e[2].length,a=e[3].length,e):(r+o+a!=e[1].length+e[2].length+e[3].length&&(c=!1),r!=e[1].length&&(s=!1),r>e[1].length&&(r=e[1].length),o<e[2].length&&(o=e[2].length),a>e[3].length&&(a=e[3].length),e):[t]})).map(e?i:s?c?function(t){return t[2]?n(r+o-t[2].length)+t[2]+n(a)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:i:function(t){return t[2]?n(r)+t[2]+n(a)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]})}}).call(p.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=r,t("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(t){r(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(t,e,n){"use strict";var i=t("../../range").Range,r=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(t,e,n){return null},this.indentationBlock=function(t,e,n){var r=/\S/,o=t.getLine(e),a=o.search(r);if(-1!=a){for(var s=n||o.length,c=t.getLength(),l=e,u=e;++e<c;){var h=t.getLine(e).search(r);if(-1!=h){if(h<=a)break;u=e}}if(u>l){var d=t.getLine(u).length;return new i(l,s,u,d)}}},this.openingBracketBlock=function(t,e,n,r,o){var a={row:n,column:r+1},s=t.$findClosingBracket(e,a,o);if(s){var c=t.foldWidgets[s.row];return null==c&&(c=t.getFoldWidget(s.row)),"start"==c&&s.row>a.row&&(s.row--,s.column=t.getLine(s.row).length),i.fromPoints(a,s)}},this.closingBracketBlock=function(t,e,n,r,o){var a={row:n,column:r},s=t.$findOpeningBracket(e,a);if(s)return s.column++,a.column--,i.fromPoints(s,a)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(t,e,n){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t("../lib/dom").importCssString(e.cssText,e.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(t,e,n){"use strict";function i(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}t("./lib/oop");var r=t("./lib/dom");t("./range").Range,function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach((function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)})),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))}))}},this.updateOnFold=function(t,e){var n=e.lineWidgets;if(n&&t.action){for(var i=t.data,r=i.start.row,o=i.end.row,a="add"==t.action,s=r+1;s<o;s++)n[s]&&(n[s].hidden=a);n[o]&&(a?n[r]?n[o].hidden=a:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=a))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var n=t.start.row,i=t.end.row-n;if(0!==i)if("remove"==t.action)e.splice(n+1,i).forEach((function(t){t&&this.removeLineWidget(t)}),this),this.$updateRows();else{var r=new Array(i);r.unshift(n,0),e.splice.apply(e,r),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach((function(t,n){if(t)for(e=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget})),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var n=this.editor.renderer;t.html&&!t.el&&(t.el=r.createElement("div"),t.el.innerHTML=t.html),t.el&&(r.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i,i){var o=this.session.lineWidgets;t.row!=i.end.row||o[i.start.row]?t.hidden=!0:o[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,n=e&&e[t],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var n=this.session._changedWidgets,i=e.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var a=n[o];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,e.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/i.characterWidth));var s=a.h/i.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row))<0&&(s=0),a.rowCount!=s&&(a.rowCount=s,a.row<r&&(r=a.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var n=e.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,e.$cursorLayer.config=n;for(var a=r;a<=o;a++){var s=i[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,e.container.appendChild(s.el));var c=e.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(c+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=c-n.offset+"px";var l=s.coverGutter?0:e.gutterWidth;s.fixedWidth||(l-=e.scrollLeft),s.el.style.left=l+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=e.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}.call(i.prototype),e.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(t,e,n){"use strict";function i(t,e,n){var i=t.getAnnotations().sort(a.comparePoints);if(i.length){var r=function(t,e,n){for(var i=0,r=t.length-1;i<=r;){var o=i+r>>1,a=n(e,t[o]);if(a>0)i=o+1;else{if(!(a<0))return o;r=o-1}}return-(i+1)}(i,{row:e,column:-1},a.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var o=i[r];if(o&&n){if(o.row===e){do{o=i[r+=n]}while(o&&o.row===e);if(!o)return i.slice()}var s=[];e=o.row;do{s[n<0?"unshift":"push"](o),o=i[r+=n]}while(o&&o.row==e);return s.length&&s}}}var r=t("../line_widgets").LineWidgets,o=t("../lib/dom"),a=t("../range").Range;e.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(t));var a=t.getCursorPosition(),s=a.row,c=n.widgetManager.getWidgetsAtRow(s).filter((function(t){return"errorMarker"==t.type}))[0];c?c.destroy():s-=e;var l,u=i(n,s,e);if(u){var h=u[0];a.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,a.row=h.row,l=t.renderer.$gutterLayer.$annotations[a.row]}else{if(c)return;l={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(a.row),t.selection.moveToPosition(a);var d={row:a.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},f=d.el.appendChild(o.createElement("div")),p=d.el.appendChild(o.createElement("div"));p.className="error_widget_arrow "+l.className;var m=t.renderer.$cursorLayer.getPixelPosition(a).left;p.style.left=m+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+l.className,f.innerHTML=l.text.join("<br>"),f.appendChild(o.createElement("div"));var g=function(t,e,n){if(0===e&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(g),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var i=t("./lib/dom"),r=t("./lib/event"),o=t("./editor").Editor,a=t("./edit_session").EditSession,s=t("./undomanager").UndoManager,c=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,"function"==typeof define&&(e.define=define),e.edit=function(t){if("string"==typeof t){var n=t;if(!(t=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var a="";if(t&&/input|textarea/i.test(t.tagName)){var s=t;a=s.value,t=i.createElement("pre"),s.parentNode.replaceChild(t,s)}else t&&(a=i.getInnerText(t),t.innerHTML="");var l=e.createEditSession(a),u=new o(new c(t));u.setSession(l);var h={document:l,editor:u,onResize:u.resize.bind(u,null)};return s&&(h.textarea=s),r.addListener(window,"resize",h.onResize),u.on("destroy",(function(){r.removeListener(window,"resize",h.onResize),h.editor.container.env=null})),u.container.env=u.env=h,u},e.createEditSession=function(t,e){var n=new a(t,e);return n.setUndoManager(new s),n},e.EditSession=a,e.UndoManager=s,e.version="1.2.6"})),ace.require(["ace/ace"],(function(t){for(var e in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])})),ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],(function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=t("./lib/lang"),a=t("./range").Range,s=t("./anchor").Anchor,c=t("./keyboard/hash_handler").HashHandler,l=t("./tokenizer").Tokenizer,u=a.comparePoints,h=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,r),this.getTokenizer=function(){function t(t,e,n){return t=t.substr(1),/^\d+$/.test(t)&&!n.inFormatString?[{tabstopId:parseInt(t,10)}]:[{text:t}]}function e(t){return"(?:[^\\\\"+t+"]|\\\\.)"}return h.$tokenizer=new l({start:[{regex:/:/,onMatch:function(t,e,n){return n.length&&n[0].expectIf?(n[0].expectIf=!1,n[0].elseBranch=n[0],[n[0]]):":"}},{regex:/\\./,onMatch:function(t,e,n){var i=t[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?t=i:n.inFormatString&&("n"==i||"t"==i?t="\n":-1!="ulULE".indexOf(i)&&(t={changeCase:i,local:i>"a"})),[t]}},{regex:/}/,onMatch:function(t,e,n){return[n.length?n.shift():t]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,n,i){var r=t(e.substr(1),0,i);return i.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(t,e,n){n[0].choices=t.slice(1,-1).split(",")},next:"start"},{regex:"/("+e("/")+"+)/(?:("+e("/")+"*)/)(\\w*):?",onMatch:function(t,e,n){var i=n[0];return i.fmtString=t,t=this.splitRegex.exec(t),i.guard=t[1],i.fmt=t[2],i.flag=t[3],""},next:"start"},{regex:"`"+e("`")+"*`",onMatch:function(t,e,n){return n[0].code=t.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(t,e,n){n[0]&&(n[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+e("/")+"+)/",token:"regex"},{regex:"",onMatch:function(t,e,n){n.inFormatString=!0},next:"start"}]}),h.prototype.getTokenizer=function(){return h.$tokenizer},h.$tokenizer},this.tokenizeTmSnippet=function(t,e){return this.getTokenizer().getLineTokens(t,e).tokens.map((function(t){return t.value||t}))},this.$getDefaultValue=function(t,e){if(/^[A-Z]\d+$/.test(e)){var n=e.substr(1);return(this.variables[e[0]+"__"]||{})[n]}if(/^\d+$/.test(e))return(this.variables.__||{})[e];if(e=e.replace(/^TM_/,""),t){var i=t.session;switch(e){case"CURRENT_WORD":var r=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(r);case"CURRENT_LINE":return i.getLine(t.getCursorPosition().row);case"PREV_LINE":return i.getLine(t.getCursorPosition().row-1);case"LINE_INDEX":return t.getCursorPosition().column;case"LINE_NUMBER":return t.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(t,e){return this.variables.hasOwnProperty(e)?this.variables[e](t,e)||"":this.$getDefaultValue(t,e)||""},this.tmStrFormat=function(t,e,n){var i=e.flag||"",r=e.guard;r=new RegExp(r,i.replace(/[^gi]/,""));var o=this.tokenizeTmSnippet(e.fmt,"formatString"),a=this,s=t.replace(r,(function(){a.variables.__=arguments;for(var t=a.resolveVariables(o,n),e="E",i=0;i<t.length;i++){var r=t[i];if("object"==typeof r)if(t[i]="",r.changeCase&&r.local){var s=t[i+1];s&&"string"==typeof s&&("u"==r.changeCase?t[i]=s[0].toUpperCase():t[i]=s[0].toLowerCase(),t[i+1]=s.substr(1))}else r.changeCase&&(e=r.changeCase);else"U"==e?t[i]=r.toUpperCase():"L"==e&&(t[i]=r.toLowerCase())}return t.join("")}));return this.variables.__=null,s},this.resolveVariables=function(t,e){function n(e){var n=t.indexOf(e,r+1);-1!=n&&(r=n)}for(var i=[],r=0;r<t.length;r++){var o=t[r];if("string"==typeof o)i.push(o);else{if("object"!=typeof o)continue;if(o.skip)n(o);else{if(o.processed<r)continue;if(o.text){var a=this.getVariableValue(e,o.text);a&&o.fmtString&&(a=this.tmStrFormat(a,o)),o.processed=r,null==o.expectIf?a&&(i.push(a),n(o)):a?o.skip=o.elseBranch:n(o)}else(null!=o.tabstopId||null!=o.changeCase)&&i.push(o)}}}return i},this.insertSnippetForSelection=function(t,e){function n(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if("object"==typeof i){if(l[i.tabstopId])continue;i=e[t.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}e[n]=i}return e}var i=t.getCursorPosition(),r=t.session.getLine(i.row),o=t.session.getTabString(),a=r.match(/^\s*/)[0];i.column<a.length&&(a=a.slice(0,i.column)),e=e.replace(/\r/g,"");var s=this.tokenizeTmSnippet(e);s=(s=this.resolveVariables(s,t)).map((function(t){return"\n"==t?t+a:"string"==typeof t?t.replace(/\t/g,o):t}));var c=[];s.forEach((function(t,e){if("object"==typeof t){var n=t.tabstopId,i=c[n];if(i||((i=c[n]=[]).index=n,i.value=""),-1===i.indexOf(t)){i.push(t);var r=s.indexOf(t,e+1);if(-1!==r){var o=s.slice(e+1,r),a=o.some((function(t){return"object"==typeof t}));a&&!i.value?i.value=o:o.length&&(!i.value||"string"!=typeof i.value)&&(i.value=o.join(""))}}}})),c.forEach((function(t){t.length=0}));for(var l={},u=0;u<s.length;u++){var h=s[u];if("object"==typeof h){var f=h.tabstopId,p=s.indexOf(h,u+1);if(l[f])l[f]===h&&(l[f]=null);else{var m=c[f],g="string"==typeof m.value?[m.value]:n(m.value);g.unshift(u+1,Math.max(0,p-u)),g.push(h),l[f]=h,s.splice.apply(s,g),-1===m.indexOf(h)&&m.push(h)}}}var v=0,b=0,y="";s.forEach((function(t){if("string"==typeof t){var e=t.split("\n");e.length>1?(b=e[e.length-1].length,v+=e.length-1):b+=t.length,y+=t}else t.start?t.end={row:v,column:b}:t.start={row:v,column:b}}));var w=t.getSelectionRange(),E=t.session.replace(w,y),C=new d(t),$=t.inVirtualSelectionMode&&t.selection.index;C.addTabstops(c,w.start,E,$)},this.insertSnippet=function(t,e){var n=this;if(t.inVirtualSelectionMode)return n.insertSnippetForSelection(t,e);t.forEachSelection((function(){n.insertSnippetForSelection(t,e)}),null,{keepOrder:!0}),t.tabstopManager&&t.tabstopManager.tabNext()},this.$getScope=function(t){var e=t.session.$mode.$id||"";if("html"===(e=e.split("/").pop())||"php"===e){"php"===e&&!t.session.$mode.inlinePhp&&(e="html");var n=t.getCursorPosition(),i=t.session.getState(n.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?e="javascript":"css-"==i.substring(0,4)?e="css":"php-"==i.substring(0,4)&&(e="php"))}return e},this.getActiveScopes=function(t){var e=this.$getScope(t),n=[e],i=this.snippetMap;return i[e]&&i[e].includeScopes&&n.push.apply(n,i[e].includeScopes),n.push("_"),n},this.expandWithTab=function(t,e){var n=this,i=t.forEachSelection((function(){return n.expandSnippetForSelection(t,e)}),null,{keepOrder:!0});return i&&t.tabstopManager&&t.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(t,e){var n,i=t.getCursorPosition(),r=t.session.getLine(i.row),o=r.substring(0,i.column),a=r.substr(i.column),s=this.snippetMap;return this.getActiveScopes(t).some((function(t){var e=s[t];return e&&(n=this.findMatchingSnippet(e,o,a)),!!n}),this),!!n&&(e&&e.dryRun||(t.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(t,n.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(t,e,n){for(var i=t.length;i--;){var r=t[i];if((!r.startRe||r.startRe.test(e))&&(!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(e):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(e)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(t,e){function n(t){return t&&!/^\^?\(.*\)\$?$|^\\b$/.test(t)&&(t="(?:"+t+")"),t||""}function i(t,e,i){return t=n(t),e=n(e),i?(t=e+t)&&"$"!=t[t.length-1]&&(t+="$"):(t+=e)&&"^"!=t[0]&&(t="^"+t),new RegExp(t)}function r(t){t.scope||(t.scope=e||"_"),e=t.scope,a[e]||(a[e]=[],s[e]={});var n=s[e];if(t.name){var r=n[t.name];r&&c.unregister(r),n[t.name]=t}a[e].push(t),t.tabTrigger&&!t.trigger&&(!t.guard&&/^\w/.test(t.tabTrigger)&&(t.guard="\\b"),t.trigger=o.escapeRegExp(t.tabTrigger)),(t.trigger||t.guard||t.endTrigger||t.endGuard)&&(t.startRe=i(t.trigger,t.guard,!0),t.triggerRe=new RegExp(t.trigger,"",!0),t.endRe=i(t.endTrigger,t.endGuard,!0),t.endTriggerRe=new RegExp(t.endTrigger,"",!0))}var a=this.snippetMap,s=this.snippetNameMap,c=this;t||(t=[]),t&&t.content?r(t):Array.isArray(t)&&t.forEach(r),this._signal("registerSnippets",{scope:e})},this.unregister=function(t,e){function n(t){var n=r[t.scope||e];if(n&&n[t.name]){delete n[t.name];var o=i[t.scope||e],a=o&&o.indexOf(t);a>=0&&o.splice(a,1)}}var i=this.snippetMap,r=this.snippetNameMap;t.content?n(t):Array.isArray(t)&&t.forEach(n)},this.parseSnippetFile=function(t){t=t.replace(/\r/g,"");for(var e,n=[],i={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;e=r.exec(t);){if(e[1])try{i=JSON.parse(e[1]),n.push(i)}catch(t){}if(e[4])i.content=e[4].replace(/^\t/gm,""),n.push(i),i={};else{var o=e[2],a=e[3];if("regex"==o){var s=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=s.exec(a)[1],i.trigger=s.exec(a)[1],i.endTrigger=s.exec(a)[1],i.endGuard=s.exec(a)[1]}else"snippet"==o?(i.tabTrigger=a.match(/^\S*/)[0],i.name||(i.name=a)):i[o]=a}}return n},this.getSnippetByName=function(t,e){var n,i=this.snippetNameMap;return this.getActiveScopes(e).some((function(e){var r=i[e];return r&&(n=r[t]),!!n}),this),n}}).call(h.prototype);var d=function(t){if(t.tabstopManager)return t.tabstopManager;t.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=o.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(t)};(function(){this.attach=function(t){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=t,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(t){var e="r"==t.action[0],n=t.start,i=t.end,r=n.row,o=i.row-r,a=i.column-n.column;if(e&&(o=-o,a=-a),!this.$inChange&&e){var s=this.selectedTabstop,c=s&&!s.some((function(t){return u(t.start,n)<=0&&u(t.end,i)>=0}));if(c)return this.detach()}for(var l=this.ranges,h=0;h<l.length;h++){var d=l[h];d.end.row<n.row||(e&&u(n,d.start)<0&&u(i,d.end)>0?(this.removeRange(d),h--):(d.start.row==r&&d.start.column>n.column&&(d.start.column+=a),d.end.row==r&&d.end.column>=n.column&&(d.end.column+=a),d.start.row>=r&&(d.start.row+=o),d.end.row>=r&&(d.end.row+=o),u(d.start,d.end)>0&&this.removeRange(d)))}l.length||this.detach()},this.updateLinkedFields=function(){var t=this.selectedTabstop;if(t&&t.hasLinkedRanges){this.$inChange=!0;for(var n=this.editor.session,i=n.getTextRange(t.firstNonLinked),r=t.length;r--;){var o=t[r];if(o.linked){var a=e.snippetManager.tmStrFormat(i,o.original);n.replace(o,a)}}this.$inChange=!1}},this.onAfterExec=function(t){t.command&&!t.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var t=this.editor.selection.lead,e=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var r=this.ranges[i].contains(t.row,t.column),o=n||this.ranges[i].contains(e.row,e.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(t){var e=this.tabstops.length,n=this.index+(t||1);(n=Math.min(Math.max(n,1),e))==e&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(t){this.$openTabstops=null;var e=this.tabstops[this.index];if(e&&this.addTabstopMarkers(e),this.index=t,(e=this.tabstops[this.index])&&e.length){if(this.selectedTabstop=e,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(e.firstNonLinked);else{var n=this.editor.multiSelect;n.toSingleRange(e.firstNonLinked.clone());for(var i=e.length;i--;)e.hasLinkedRanges&&e[i].linked||n.addRange(e[i].clone(),!0);n.ranges[0]&&n.addRange(n.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(t,e,n){if(this.$openTabstops||(this.$openTabstops=[]),!t[0]){var i=a.fromPoints(n,n);m(i.start,e),m(i.end,e),t[0]=[i],t[0].index=0}var r=[this.index+1,0],o=this.ranges;t.forEach((function(t,n){for(var i=this.$openTabstops[n]||t,s=t.length;s--;){var c=t[s],l=a.fromPoints(c.start,c.end||c.start);p(l.start,e),p(l.end,e),l.original=c,l.tabstop=i,o.push(l),i!=t?i.unshift(l):i[s]=l,c.fmtString?(l.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=l)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===t&&(r.push(i),this.$openTabstops[n]=i),this.addTabstopMarkers(i)}),this),r.length>2&&(this.tabstops.length&&r.push(r.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,r))},this.addTabstopMarkers=function(t){var e=this.editor.session;t.forEach((function(t){t.markerId||(t.markerId=e.addMarker(t,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(t){var e=this.editor.session;t.forEach((function(t){e.removeMarker(t.markerId),t.markerId=null}))},this.removeRange=function(t){var e=t.tabstop.indexOf(t);t.tabstop.splice(e,1),e=this.ranges.indexOf(t),this.ranges.splice(e,1),this.editor.session.removeMarker(t.markerId),t.tabstop.length||(-1!=(e=this.tabstops.indexOf(t.tabstop))&&this.tabstops.splice(e,1),this.tabstops.length||this.detach())},this.keyboardHandler=new c,this.keyboardHandler.bindKeys({Tab:function(t){e.snippetManager&&e.snippetManager.expandWithTab(t)||t.tabstopManager.tabNext(1)},"Shift-Tab":function(t){t.tabstopManager.tabNext(-1)},Esc:function(t){t.tabstopManager.detach()},Return:function(t){return!1}})}).call(d.prototype);var f={};f.onChange=s.prototype.onChange,f.setPosition=function(t,e){this.pos.row=t,this.pos.column=e},f.update=function(t,e,n){this.$insertRight=n,this.pos=t,this.onChange(e)};var p=function(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row},m=function(t,e){t.row==e.row&&(t.column-=e.column),t.row-=e.row};t("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),e.snippetManager=new h;var g=t("./editor").Editor;(function(){this.insertSnippet=function(t,n){return e.snippetManager.insertSnippet(this,t,n)},this.expandSnippet=function(t){return e.snippetManager.expandWithTab(this,t)}}).call(g.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(t,e,n){"use strict";var i=t("../virtual_renderer").VirtualRenderer,r=t("../editor").Editor,o=t("../range").Range,a=t("../lib/event"),s=t("../lib/lang"),c=t("../lib/dom"),l=function(t){var e=new i(t);e.$maxLines=4;var n=new r(e);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusWaitTimout=0,n.$highlightTagPending=!0,n};c.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),e.AcePopup=function(t){var e=c.createElement("div"),n=new l(e);t&&t.appendChild(e),e.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var i=function(){};n.focus=i,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=i,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(t){var e=t.getDocumentPosition();n.selection.moveToPosition(e),h.start.row=h.end.row=e.row,t.stop()}));var r,u=new o(-1,0,-1,1/0),h=new o(-1,0,-1,1/0);h.id=n.session.addMarker(h,"ace_active-line","fullLine"),n.setSelectOnHover=function(t){t?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(t){if(r){if(r.x!=t.x||r.y!=t.y){(r=t).scrollTop=n.renderer.scrollTop;var e=r.getDocumentPosition().row;u.start.row!=e&&(u.id||n.setRow(e),f(e))}}else r=t})),n.renderer.on("beforeRender",(function(){if(r&&-1!=u.start.row){r.$pos=null;var t=r.getDocumentPosition().row;u.id||n.setRow(t),f(t,!0)}})),n.renderer.on("afterRender",(function(){var t=n.getRow(),e=n.renderer.$textLayer,i=e.element.childNodes[t-e.config.firstRow];i!=e.selectedNode&&(e.selectedNode&&c.removeCssClass(e.selectedNode,"ace_selected"),e.selectedNode=i,i&&c.addCssClass(i,"ace_selected"))}));var d=function(){f(-1)},f=function(t,e){t!==u.start.row&&(u.start.row=u.end.row=t,e||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},a.addListener(n.container,"mouseout",d),n.on("hide",d),n.on("changeSelection",d),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(t){var e=n.data[t];return"string"==typeof e?e:e&&e.value||""};var p=n.session.bgTokenizer;return p.$tokenizeRow=function(t){var e=n.data[t],i=[];if(!e)return i;"string"==typeof e&&(e={value:e}),e.caption||(e.caption=e.value||e.name);for(var r,o,a=-1,s=0;s<e.caption.length;s++)o=e.caption[s],a!==(r=e.matchMask&1<<s?1:0)?(i.push({type:e.className||(r?"completion-highlight":""),value:o}),a=r):i[i.length-1].value+=o;if(e.meta){var c=n.renderer.$size.scrollerWidth/n.renderer.layerConfig.characterWidth,l=e.meta;l.length+e.caption.length>c-2&&(l=l.substr(0,c-e.caption.length-3)+"â¦"),i.push({type:"rightAlignedText",value:l})}return i},p.$updateOnChange=i,p.start=i,n.session.$computeWidth=function(){return this.screenWidth=0},n.$blockScrolling=1/0,n.isOpen=!1,n.isTopdown=!1,n.data=[],n.setData=function(t){n.setValue(s.stringRepeat("\n",t.length),-1),n.data=t||[],n.setRow(0)},n.getData=function(t){return n.data[t]},n.getRow=function(){return h.start.row},n.setRow=function(t){t=Math.max(0,Math.min(this.data.length,t)),h.start.row!=t&&(n.selection.clearSelection(),h.start.row=h.end.row=t||0,n.session._emit("changeBackMarker"),n.moveCursorTo(t||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(t,e,i){var o=this.container,a=window.innerHeight,s=window.innerWidth,c=this.renderer,l=c.$maxLines*e*1.4,u=t.top+this.$borderSize;u>a/2&&!i&&u+e+l>a?(c.$maxPixelHeight=u-2*this.$borderSize,o.style.top="",o.style.bottom=a-u+"px",n.isTopdown=!1):(u+=e,c.$maxPixelHeight=a-u-.2*e,o.style.top=u+"px",o.style.bottom="",n.isTopdown=!0),o.style.display="",this.renderer.$textLayer.checkForSizeChanges();var h=t.left;h+o.offsetWidth>s&&(h=s-o.offsetWidth),o.style.left=h+"px",this._signal("show"),r=null,n.isOpen=!0},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n}})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(t,e,n){"use strict";e.parForEach=function(t,e,n){var i=0,r=t.length;0===r&&n();for(var o=0;o<r;o++)e(t[o],(function(t,e){++i===r&&n(t,e)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;e.retrievePrecedingIdentifier=function(t,e,n){n=n||i;for(var r=[],o=e-1;o>=0&&n.test(t[o]);o--)r.push(t[o]);return r.reverse().join("")},e.retrieveFollowingIdentifier=function(t,e,n){n=n||i;for(var r=[],o=e;o<t.length&&n.test(t[o]);o++)r.push(t[o]);return r},e.getCompletionPrefix=function(t){var e,n=t.getCursorPosition(),i=t.session.getLine(n.row);return t.completers.forEach(function(t){t.identifierRegexps&&t.identifierRegexps.forEach(function(t){!e&&t&&(e=this.retrievePrecedingIdentifier(i,n.column,t))}.bind(this))}.bind(this)),e||this.retrievePrecedingIdentifier(i,n.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],(function(t,e,n){"use strict";var i=t("./keyboard/hash_handler").HashHandler,r=t("./autocomplete/popup").AcePopup,o=t("./autocomplete/util"),a=(t("./lib/event"),t("./lib/lang")),s=t("./lib/dom"),c=t("./snippets").snippetManager,l=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=a.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=a.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new r(document.body||document.documentElement),this.popup.on("click",function(t){this.insertMatch(),t.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(t,e,n){this.popup||this.$init(),this.popup.setData(this.completions.filtered),t.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=t.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!e&&this.detach();else{this.popup.setTheme(t.getTheme()),this.popup.setFontSize(t.getFontSize());var r=i.layerConfig.lineHeight,o=i.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var a=t.container.getBoundingClientRect();o.top+=a.top-i.layerConfig.offset,o.left+=a.left-t.renderer.scrollLeft,o.left+=i.gutterWidth,this.popup.show(o,r)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(t){var e=this.editor.selection.lead;(e.row!=this.base.row||e.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(t){t.relatedTarget&&"A"==t.relatedTarget.nodeName&&t.relatedTarget.href&&window.open(t.relatedTarget.href,"_blank");var e=document.activeElement,n=this.editor.textInput.getElement(),i=t.relatedTarget&&t.relatedTarget==this.tooltipNode,r=this.popup&&this.popup.container;e!=n&&e.parentNode!=r&&!i&&e!=this.tooltipNode&&t.relatedTarget!=n&&this.detach()},this.mousedownListener=function(t){this.detach()},this.mousewheelListener=function(t){this.detach()},this.goTo=function(t){var e=this.popup.getRow(),n=this.popup.session.getLength()-1;switch(t){case"up":e=e<=0?n:e-1;break;case"down":e=e>=n?-1:e+1;break;case"start":e=0;break;case"end":e=n}this.popup.setRow(e)},this.insertMatch=function(t,e){if(t||(t=this.popup.getData(this.popup.getRow())),!t)return!1;if(t.completer&&t.completer.insertMatch)t.completer.insertMatch(this.editor,t);else{if(this.completions.filterText)for(var n,i=this.editor.selection.getAllRanges(),r=0;n=i[r];r++)n.start.column-=this.completions.filterText.length,this.editor.session.remove(n);t.snippet?c.insertSnippet(this.editor,t.snippet):this.editor.execCommand("insertstring",t.value||t)}this.detach()},this.commands={Up:function(t){t.completer.goTo("up")},Down:function(t){t.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(t){t.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(t){t.completer.goTo("end")},Esc:function(t){t.completer.detach()},Return:function(t){return t.completer.insertMatch()},"Shift-Return":function(t){t.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(t){var e=t.completer.insertMatch();if(e||t.tabstopManager)return e;t.completer.goTo("down")},PageUp:function(t){t.completer.popup.gotoPageUp()},PageDown:function(t){t.completer.popup.gotoPageDown()}},this.gatherCompletions=function(t,e){var n=t.getSession(),i=t.getCursorPosition(),r=(n.getLine(i.row),o.getCompletionPrefix(t));this.base=n.doc.createAnchor(i.row,i.column-r.length),this.base.$insertRight=!0;var a=[],s=t.completers.length;return t.completers.forEach((function(o,c){o.getCompletions(t,n,i,r,(function(i,o){!i&&o&&(a=a.concat(o));var c=t.getCursorPosition();n.getLine(c.row),e(null,{prefix:r,matches:a,finished:0==--s})}))})),!0},this.showPopup=function(t){this.editor&&this.detach(),this.activated=!0,this.editor=t,t.completer!=this&&(t.completer&&t.completer.detach(),t.completer=this),t.on("changeSelection",this.changeListener),t.on("blur",this.blurListener),t.on("mousedown",this.mousedownListener),t.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(t){if(t&&this.base&&this.completions){var e=this.editor.getCursorPosition(),n=this.editor.session.getTextRange({start:this.base,end:e});if(n==this.completions.filterText)return;return this.completions.setFilter(n),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=n||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,n,t):this.detach()}var i=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(e,n){var r=function(){if(n.finished)return this.detach()}.bind(this),o=n.prefix,a=n&&n.matches;if(!a||!a.length)return r();if(0===o.indexOf(n.prefix)&&i==this.gatherCompletionsId){this.completions=new u(a),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(o);var s=this.completions.filtered;return s.length&&(1!=s.length||s[0].value!=o||s[0].snippet)?this.autoInsert&&1==s.length&&n.finished?this.insertMatch(s[0]):void this.openPopup(this.editor,o,t):r()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var t=this.popup,e=t.data,n=e&&(e[t.getHoveredRow()]||e[t.getRow()]),i=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(t){return t.getDocTooltip&&(i=t.getDocTooltip(n)),i})),i||(i=n),"string"==typeof i&&(i={docText:i}),i&&(i.docHTML||i.docText)?void this.showDocTooltip(i):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(t){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));var e=this.tooltipNode;t.docHTML?e.innerHTML=t.docHTML:t.docText&&(e.textContent=t.docText),e.parentNode||document.body.appendChild(e);var n=this.popup,i=n.container.getBoundingClientRect();e.style.top=n.container.style.top,e.style.bottom=n.container.style.bottom,window.innerWidth-i.right<320?(e.style.right=window.innerWidth-i.left+"px",e.style.left=""):(e.style.left=i.right+1+"px",e.style.right=""),e.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var t=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==t&&this.editor.focus(),this.tooltipNode=null,t.parentNode&&t.parentNode.removeChild(t)}}}).call(l.prototype),l.startCommand={name:"startAutocomplete",exec:function(t){t.completer||(t.completer=new l),t.completer.autoInsert=!1,t.completer.autoSelect=!0,t.completer.showPopup(t),t.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var u=function(t,e){this.all=t,this.filtered=t,this.filterText=e||"",this.exactMatch=!1};(function(){this.setFilter=function(t){if(t.length>this.filterText&&0===t.lastIndexOf(this.filterText,0))var e=this.filtered;else e=this.all;this.filterText=t,e=(e=this.filterCompletions(e,this.filterText)).sort((function(t,e){return e.exactMatch-t.exactMatch||e.score-t.score}));var n=null;e=e.filter((function(t){var e=t.snippet||t.caption||t.value;return e!==n&&(n=e,!0)})),this.filtered=e},this.filterCompletions=function(t,e){var n=[],i=e.toUpperCase(),r=e.toLowerCase();t:for(var o,a=0;o=t[a];a++){var s=o.value||o.caption||o.snippet;if(s){var c,l,u=-1,h=0,d=0;if(this.exactMatch){if(e!==s.substr(0,e.length))continue t}else for(var f=0;f<e.length;f++){var p=s.indexOf(r[f],u+1),m=s.indexOf(i[f],u+1);if((c=p>=0&&(m<0||p<m)?p:m)<0)continue t;(l=c-u-1)>0&&(-1===u&&(d+=10),d+=l),h|=1<<c,u=c}o.matchMask=h,o.exactMatch=d?0:1,o.score=(o.score||0)-d,n.push(o)}}return n}}).call(u.prototype),e.Autocomplete=l,e.FilteredList=u})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(t,e,n){function i(t,e){return t.getTextRange(o.fromPoints({row:0,column:0},e)).split(a).length-1}function r(t,e){var n=i(t,e),r=t.getValue().split(a),o=Object.create(null),s=r[n];return r.forEach((function(t,e){if(t&&t!==s){var i=Math.abs(n-e),a=r.length-i;o[t]?o[t]=Math.max(a,o[t]):o[t]=a}})),o}var o=t("../range").Range,a=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;e.getCompletions=function(t,e,n,i,o){var a=r(e,n);o(null,Object.keys(a).map((function(t){return{caption:t,value:t,score:a[t],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(t,e,n){"use strict";var i=t("../snippets").snippetManager,r=t("../autocomplete").Autocomplete,o=t("../config"),a=t("../lib/lang"),s=t("../autocomplete/util"),c=t("../autocomplete/text_completer"),l={getCompletions:function(t,e,n,i,r){if(e.$mode.completer)return e.$mode.completer.getCompletions(t,e,n,i,r);var o=t.session.getState(n.row);r(null,e.$mode.getCompletions(o,e,n,i))}},u={getCompletions:function(t,e,n,r,o){var a=i.snippetMap,s=[];i.getActiveScopes(t).forEach((function(t){for(var e=a[t]||[],n=e.length;n--;){var i=e[n],r=i.name||i.tabTrigger;r&&s.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+"â¥ ":"snippet",type:"snippet"})}}),this),o(null,s)},getDocTooltip:function(t){"snippet"==t.type&&!t.docHTML&&(t.docHTML=["<b>",a.escapeHTML(t.caption),"</b>","<hr></hr>",a.escapeHTML(t.snippet)].join(""))}},h=[u,c,l];e.setCompleters=function(t){h.length=0,t&&h.push.apply(h,t)},e.addCompleter=function(t){h.push(t)},e.textCompleter=c,e.keyWordCompleter=l,e.snippetCompleter=u;var d={name:"expandSnippet",exec:function(t){return i.expandWithTab(t)},bindKey:"Tab"},f=function(t,e){p(e.session.$mode)},p=function(t){var e=t.$id;i.files||(i.files={}),m(e),t.modes&&t.modes.forEach(p)},m=function(t){if(t&&!i.files[t]){var e=t.replace("mode","snippets");i.files[t]={},o.loadModule(e,(function(e){e&&(i.files[t]=e,!e.snippets&&e.snippetText&&(e.snippets=i.parseSnippetFile(e.snippetText)),i.register(e.snippets||[],e.scope),e.includeScopes&&(i.snippetMap[e.scope].includeScopes=e.includeScopes,e.includeScopes.forEach((function(t){m("ace/mode/"+t)}))))}))}},g=function(t){var e=t.editor,n=e.completer&&e.completer.activated;"backspace"===t.command.name?n&&!s.getCompletionPrefix(e)&&e.completer.detach():"insertstring"===t.command.name&&s.getCompletionPrefix(e)&&!n&&(e.completer||(e.completer=new r),e.completer.autoInsert=!1,e.completer.showPopup(e))},v=t("../editor").Editor;t("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:h),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:h),this.commands.on("afterExec",g)):this.commands.removeListener("afterExec",g)},value:!1},enableSnippets:{set:function(t){t?(this.commands.addCommand(d),this.on("changeMode",f),f(0,this)):(this.commands.removeCommand(d),this.off("changeMode",f))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(){})),angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(t){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");return{restrict:"EA",require:"?ngModel",link:function(e,n,i,r){var o,a,s=t.ace||{},c=angular.extend({},s,e.$eval(i.uiAce)),l=window.ace.edit(n[0]),u=l.getSession(),h=function(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);angular.isDefined(t)&&e.$evalAsync((function(){if(!angular.isFunction(t))throw new Error("ui-ace use a function as callback.");t(n)}))};i.$observe("readonly",(function(t){l.setReadOnly(!!t||""===t)})),r&&(r.$formatters.push((function(t){if(angular.isUndefined(t)||null===t)return"";if(angular.isObject(t)||angular.isArray(t))throw new Error("ui-ace cannot use an object or an array as a model");return t})),r.$render=function(){u.setValue(r.$viewValue)});var d=function(t,n){t!==n&&((c=angular.extend({},s,e.$eval(i.uiAce))).callbacks=[c.onLoad],c.onLoad!==s.onLoad&&c.callbacks.unshift(s.onLoad),u.removeListener("change",o),o=function(t){return function(n){var i=u.getValue();!r||i===r.$viewValue||e.$$phase||e.$root.$$phase||e.$evalAsync((function(){r.$setViewValue(i)})),h(t,n,l)}}(c.onChange),u.on("change",o),l.removeListener("blur",a),a=function(t){return function(){h(t,l)}}(c.onBlur),l.on("blur",a),function(t,e,n){var i,r;if(angular.isDefined(n.workerPath)&&window.ace.require("ace/config").set("workerPath",n.workerPath),angular.isDefined(n.require)&&n.require.forEach((function(t){window.ace.require(t)})),angular.isDefined(n.showGutter)&&t.renderer.setShowGutter(n.showGutter),angular.isDefined(n.useWrapMode)&&e.setUseWrapMode(n.useWrapMode),angular.isDefined(n.showInvisibles)&&t.renderer.setShowInvisibles(n.showInvisibles),angular.isDefined(n.showIndentGuides)&&t.renderer.setDisplayIndentGuides(n.showIndentGuides),angular.isDefined(n.useSoftTabs)&&e.setUseSoftTabs(n.useSoftTabs),angular.isDefined(n.showPrintMargin)&&t.setShowPrintMargin(n.showPrintMargin),angular.isDefined(n.disableSearch)&&n.disableSearch&&t.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(n.theme)&&t.setTheme("ace/theme/"+n.theme),angular.isString(n.mode)&&e.setMode("ace/mode/"+n.mode),angular.isDefined(n.firstLineNumber)&&(angular.isNumber(n.firstLineNumber)?e.setOption("firstLineNumber",n.firstLineNumber):angular.isFunction(n.firstLineNumber)&&e.setOption("firstLineNumber",n.firstLineNumber())),angular.isDefined(n.advanced))for(i in n.advanced)r={name:i,value:n.advanced[i]},t.setOption(r.name,r.value);if(angular.isDefined(n.rendererOptions))for(i in n.rendererOptions)r={name:i,value:n.rendererOptions[i]},t.renderer.setOption(r.name,r.value);angular.forEach(n.callbacks,(function(e){angular.isFunction(e)&&e(t)}))}(l,u,c))};e.$watch(i.uiAce,d,!0),d(s),n.on("$destroy",(function(){l.session.$stopWorker(),l.destroy()})),e.$watch((function(){return[n[0].offsetWidth,n[0].offsetHeight]}),(function(){l.resize(),l.renderer.updateFull()}),!0)}}}]),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module"],(function(t,e,n){var i=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,r),o.getTagRule=function(t){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(t){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:t}},o.getEndRule=function(t){return{token:"comment.doc",regex:"\\*\\/",next:t}},e.DocCommentHighlightRules=o})),ace.define("ace/mode/qdbdrules",["require","exports","module"],(function(t,e,n){var i=t("ace/lib/oop"),r=(t("./doc_comment_highlight_rules").DocCommentHighlightRules,t("./text").Mode),o=t("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){var t=/^\b([\w\-]+)\b|^\"(.*?)\"/,e={token:"tableLineKey",regex:t,next:"table"},n={token:"settingsLineKey",regex:t,next:"settings"},i={token:"layoutLineKey",regex:t,next:"layout"},r=[{token:"comment",regex:/(#(?=([^"]*"[^"]*")*[^"]*$)).*$/},{token:"tables",regex:/\[(tables)\]/,next:"start"},{token:"settings",regex:/\[(settings)\]/,next:"settings"},{token:"layout",regex:/\[(layout)\]/,next:"layout"},{caseInsensitive:!0}];this.$rules={start:[{token:"tablename",regex:t,next:"table"}].concat(r),table:[e,{token:"newLine",regex:/^\s*$/,next:"start"}].concat(r),settings:[n].concat(r),layout:[i].concat(r)}};i.inherits(a,o);var s=function(){this.HighlightRules=a};i.inherits(s,r),function(){this.lineCommentStart="#",this.$id="ace/mode/qdbdrules"}.call(s.prototype),e.Mode=s})),function(t,e){var n=e.isDefined,i=e.isUndefined,r=e.isNumber,o=e.isObject,a=e.isArray,s=e.isString,c=e.extend,l=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",(function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/",secure:!1},this.defaultToCookie=!0,this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setDefaultToCookie=function(t){return this.defaultToCookie=!!t,this},this.setStorageCookie=function(t,e,n){return this.cookie.expiry=t,this.cookie.path=e,this.cookie.secure=n,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse","$timeout",function(t,e,u,h,d){var f,p=this,m=p.prefix,g=p.cookie,v=p.notify,b=p.storageType;u?u[0]&&(u=u[0]):u=document,"."!==m.substr(-1)&&(m=m?m+".":"");var y=function(t){return m+t},w=function(t){return t.replace(new RegExp("^"+m,"g"),"")},E=function(){try{var n=b in e&&null!==e[b],i=y("__"+Math.round(1e7*Math.random()));return n&&((f=e[b]).setItem(i,""),f.removeItem(i)),n}catch(e){return p.defaultToCookie&&(b="cookie"),t.$broadcast("LocalStorageModule.notification.error",e.message),!1}},C=E(),$=function(e,n,r){var o=F();try{if(D(r),n=i(n)?null:l(n),!C&&p.defaultToCookie||"cookie"===p.storageType)return C||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),S(e,n);try{f&&f.setItem(y(e),n),v.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:p.storageType})}catch(i){return t.$broadcast("LocalStorageModule.notification.error",i.message),S(e,n)}return!0}finally{D(o)}},A=function(e,n){var i=F();try{if(D(n),!C&&p.defaultToCookie||"cookie"===p.storageType)return C||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),T(e);var r=f?f.getItem(y(e)):null;if(!r||"null"===r)return null;try{return JSON.parse(r)}catch(t){return r}}finally{D(i)}},x=function(){var e=F();try{var n,i,r=0;for(arguments.length>=1&&("localStorage"===arguments[arguments.length-1]||"sessionStorage"===arguments[arguments.length-1])&&(r=1,D(arguments[arguments.length-1])),n=0;n<arguments.length-r;n++)if(i=arguments[n],!C&&p.defaultToCookie||"cookie"===p.storageType)C||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:i,storageType:"cookie"}),_(i);else try{f.removeItem(y(i)),v.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:i,storageType:p.storageType})}catch(e){t.$broadcast("LocalStorageModule.notification.error",e.message),_(i)}}finally{D(e)}},k=function(){try{return e.navigator.cookieEnabled||"cookie"in u&&(u.cookie.length>0||(u.cookie="test").indexOf.call(u.cookie,"test")>-1)}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),S=function(e,n,s,c){if(i(n))return!1;if((a(n)||o(n))&&(n=l(n)),!k)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var h="",d=new Date,f="";if(null===n?(d.setTime(d.getTime()+-864e5),h="; expires="+d.toGMTString(),n=""):r(s)&&0!==s?(d.setTime(d.getTime()+24*s*60*60*1e3),h="; expires="+d.toGMTString()):0!==g.expiry&&(d.setTime(d.getTime()+24*g.expiry*60*60*1e3),h="; expires="+d.toGMTString()),e){var p="; path="+g.path;g.domain&&(f="; domain="+g.domain),"boolean"==typeof c?!0===c&&(f+="; secure"):!0===g.secure&&(f+="; secure"),u.cookie=y(e)+"="+encodeURIComponent(n)+h+p+f}}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),!1}return!0},T=function(e){if(!k)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=u.cookie&&u.cookie.split(";")||[],i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(y(e)+"=")){var o=decodeURIComponent(r.substring(m.length+e.length+1,r.length));try{var a=JSON.parse(o);return"number"==typeof a?o:a}catch(t){return o}}}return null},_=function(t){S(t,null)},M=function(){for(var t=null,e=m.length,n=u.cookie.split(";"),i=0;i<n.length;i++){for(t=n[i];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));_(r)}},F=function(){return b},D=function(t){return t&&b!==t&&(b=t,C=E()),C};function R(n){if(n||(n=e.event),v.setItem&&s(n.key)&&function(t){return 0===t.indexOf(m)}(n.key)){var i=w(n.key);d((function(){t.$broadcast("LocalStorageModule.notification.changed",{key:i,newvalue:n.newValue,storageType:p.storageType})}))}}return C&&(e.addEventListener?(e.addEventListener("storage",R,!1),t.$on("$destroy",(function(){e.removeEventListener("storage",R)}))):e.attachEvent&&(e.attachEvent("onstorage",R),t.$on("$destroy",(function(){e.detachEvent("onstorage",R)})))),{isSupported:C,getStorageType:F,setStorageType:D,set:$,add:$,get:A,keys:function(e){if(D(e),!C)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var n=m.length,i=[];for(var r in f)if(r.substr(0,n)===m)try{i.push(r.substr(n))}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return i},remove:x,clearAll:function(e,n){D(n);var i=m?new RegExp("^"+m):new RegExp,r=e?new RegExp(e):new RegExp;if(!C&&p.defaultToCookie||"cookie"===p.storageType)return C||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),M();if(!C&&!p.defaultToCookie)return!1;var o=m.length;for(var a in f)if(i.test(a)&&r.test(a.substr(o)))try{x(a.substr(o))}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),M()}return!0},bind:function(t,e,i,r,a){var s=A(r=r||e,a);return null===s&&n(i)?s=i:o(s)&&o(i)&&(s=c(s,i)),h(e).assign(t,s),t.$watch(e,(function(t){$(r,t,a)}),o(t[e]))},deriveKey:y,underiveKey:w,length:function(t){D(t);for(var n=0,i=e[b],r=0;r<i.length;r++)0===i.key(r).indexOf(m)&&n++;return n},defaultToCookie:this.defaultToCookie,cookie:{isSupported:k,set:S,add:S,get:T,remove:_,clearAll:M}}}]}))}(window,window.angular),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,(function(t,e){"use strict";function n(t){var e=[].slice.apply(arguments,[1]),n=t.length;return function e(i){return i.length>=n?t.apply(null,i):function(){return e(i.concat([].slice.apply(arguments)))}}(e)}function i(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(null,[].slice.call(arguments).reverse())}var o=function(t){return function(e){return e&&e[t]}},a=n((function(t,e,n){return n&&n[t]===e})),s=function(t){return r.apply(null,t.split(".").map(o))},c=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}};function l(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(null,n)&&e.apply(null,n)}}function u(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(null,n)||e.apply(null,n)}}var h=function(t){return function(e){return e.reduce((function(e,n){return e&&!!t(n)}),!0)}},d=function(t){return function(e){return e.reduce((function(e,n){return e||!!t(n)}),!1)}},f=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},p=function(t){return function(e){return t===e}},m=function(t){return function(){return t}};function g(t,e){return function(n){return n[t].apply(n,e)}}function v(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}var b=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map((function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t})).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),y=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=K(K(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:b.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=nt(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(dt(this.params)).filter((function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)}))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||lt(dt(this.params),a("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();y.isStateClass=function(t){return k(t)&&!0===t.__uiRouterState},y.isState=function(t){return _(t.__stateObjectCache)};var w=Object.prototype.toString,E=function(t){return function(e){return typeof e===t}},C=E("undefined"),$=c(C),A=function(t){return null===t},x=u(A,C),k=E("function"),S=E("number"),T=E("string"),_=function(t){return null!==t&&"object"==typeof t},M=Array.isArray,F=function(t){return"[object Date]"===w.call(t)},D=function(t){return"[object RegExp]"===w.call(t)},R=y.isState;function O(t){if(M(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(c(T)).length||n.filter(c(k)).length)}return k(t)}var L=l(_,r(o("then"),k)),I=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},N={$q:void 0,$injector:void 0},B=("undefined"==typeof window?{}:window).angular||{},P=B.fromJson||JSON.parse.bind(JSON),H=B.toJson||JSON.stringify.bind(JSON),j=B.copy||function(t,e){return e&&Object.keys(e).forEach((function(t){return delete e[t]})),e||(e={}),W(e,t)},U=B.forEach||function(t,e,n){if(M(t))return t.forEach(e,n);Object.keys(t).forEach((function(n){return e(t[n],n)}))},W=Object.assign||Tt,V=B.equals||function t(e,n){if(e===n)return!0;if(null===e||null===n)return!1;if(e!=e&&n!=n)return!0;var i=typeof e;if(i!==typeof n||"object"!==i)return!1;var r,o,a=[e,n];if(h(M)(a))return o=n,(r=e).length===o.length&&xt(r,o).reduce((function(e,n){return e&&t(n[0],n[1])}),!0);if(h(F)(a))return e.getTime()===n.getTime();if(h(D)(a))return e.toString()===n.toString();if(h(k)(a))return!0;if([k,M,F,D].map(d).reduce((function(t,e){return t||!!e(a)}),!1))return!1;var s,c={};for(s in e){if(!t(e[s],n[s]))return!1;c[s]=!0}for(s in n)if(!c[s])return!1;return!0};function z(t){return t}function q(){}function Y(t,e,n,i,r){void 0===r&&(r=!1);var o=function(e){return t()[e].bind(n())};return(i=i||Object.keys(t())).reduce((function(t,n){var i;return t[n]=r?(i=n,function(){return e[i]=o(i),e[i].apply(null,arguments)}):o(n),t}),e)}var K=function(t,e){return W(Object.create(t),e)},G=n(X);function X(t,e){return-1!==t.indexOf(e)}var Q=n(J);function J(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}var Z=n(tt);function tt(t,e){return t.push(e),e}var et=function(t){return t.slice().forEach((function(e){"function"==typeof e&&e(),Q(t,e)}))};function nt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e.concat({}).reverse(),r=W.apply(null,i);return W({},r,ot(t||{},Object.keys(r)))}var it=function(t,e){return W(t,e)};function rt(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function ot(t,e){var n={};for(var i in t)-1!==e.indexOf(i)&&(n[i]=t[i]);return n}function at(t,e){return Object.keys(t).filter(c(G(e))).reduce((function(e,n){return e[n]=t[n],e}),{})}function st(t,e){return ht(t,o(e))}function ct(t,e){var n=M(t),i=n?[]:{},r=n?function(t){return i.push(t)}:function(t,e){return i[e]=t};return U(t,(function(t,n){e(t,n)&&r(t,n)})),i}function lt(t,e){var n;return U(t,(function(t,i){n||e(t,i)&&(n=t)})),n}var ut=ht;function ht(t,e){var n=M(t)?[]:{};return U(t,(function(t,i){return n[i]=e(t,i)})),n}var dt=function(t){return Object.keys(t).map((function(e){return t[e]}))},ft=function(t,e){return t&&e},pt=function(t,e){return t||e},mt=function(t,e){return t.concat(e)},gt=function(t,e){return M(e)?t.concat(e.reduce(gt,[])):vt(t,e)};function vt(t,e){return t.push(e),t}var bt=function(t,e){return G(t,e)?t:vt(t,e)},yt=function(t){return t.reduce(mt,[])},wt=function(t){return t.reduce(gt,[])},Et=$t,Ct=$t;function $t(t,e){return void 0===e&&(e="assert failure"),function(n){var i=t(n);if(!i)throw new Error(k(e)?e(n):e);return i}}var At=function(t){return Object.keys(t).map((function(e){return[e,t[e]]}))};function xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var n,i=t.reduce((function(t,e){return Math.min(e.length,t)}),9007199254740991),r=[];for(n=0;n<i;n++)switch(t.length){case 1:r.push([t[0][n]]);break;case 2:r.push([t[0][n],t[1][n]]);break;case 3:r.push([t[0][n],t[1][n],t[2][n]]);break;case 4:r.push([t[0][n],t[1][n],t[2][n],t[3][n]]);break;default:r.push(t.map((function(t){return t[n]})))}return r}function kt(t,e){var n,i;if(M(e)&&(n=e[0],i=e[1]),!T(n))throw new Error("invalid parameters to applyPairs");return t[n]=i,t}function St(t){return t.length&&t[t.length-1]||void 0}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++)t[i[r]]=n[i[r]]}return t}var _t,Mt=function(t,e){return void 0===e&&(e=m(!0)),function(n,i){return e(n)&&e(i)?t(n)-t(i):0}},Ft=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){return t.reduce((function(t,i){return t||i(e,n)}),0)}},Dt=function(t){return t.catch((function(t){return 0}))&&t},Rt=function(t){return Dt(N.$q.reject(t))},Ot=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();(_t=t.RejectType||(t.RejectType={}))[_t.SUPERSEDED=2]="SUPERSEDED",_t[_t.ABORTED=3]="ABORTED",_t[_t.INVALID=4]="INVALID",_t[_t.IGNORED=5]="IGNORED",_t[_t.ERROR=6]="ERROR";var Lt,It=0,Nt=function(){function e(t,e,n){this.$id=It++,this.type=t,this.message=e,this.detail=n}return e.prototype.toString=function(){var t,e=(t=this.detail)&&t.toString!==Object.prototype.toString?t.toString():xe(t),n=this;return"Transition Rejection($id: "+n.$id+" type: "+n.type+", message: "+n.message+", detail: "+e+")"},e.prototype.toPromise=function(){return W(Rt(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&f(e)(t._transitionRejection)},e.superseded=function(n,i){var r=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return i&&i.redirected&&(r.redirected=!0),r},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(n){return new e(t.RejectType.INVALID,"This transition is invalid",n)},e.ignored=function(n){return new e(t.RejectType.IGNORED,"The transition was ignored",n)},e.aborted=function(n){return new e(t.RejectType.ABORTED,"The transition has been aborted",n)},e.errored=function(n){return new e(t.RejectType.ERROR,"The transition errored",n)},e.normalize=function(t){return f(e)(t)?t:e.errored(t)},e}();function Bt(t){return t?"[ui-view#"+t.id+" tag in template from '"+(t.creationContext&&t.creationContext.name||"(root)")+"' state]: fqn: '"+t.fqn+"', name: '"+t.name+"@"+t.creationContext+"')":"ui-view (defunct)"}function Pt(e){return S(e)?t.Category[e]:t.Category[t.Category[e]]}(Lt=t.Category||(t.Category={}))[Lt.RESOLVE=0]="RESOLVE",Lt[Lt.TRANSITION=1]="TRANSITION",Lt[Lt.HOOK=2]="HOOK",Lt[Lt.UIVIEW=3]="UIVIEW",Lt[Lt.VIEWCONFIG=4]="VIEWCONFIG";var Ht,jt,Ut=s("$id"),Wt=s("router.$id"),Vt=function(t){return"Transition #"+Ut(t)+"-"+Wt(t)},zt=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,n){var i=this;n.length||(n=Object.keys(t.Category).map((function(t){return parseInt(t,10)})).filter((function(t){return!isNaN(t)})).map((function(e){return t.Category[e]}))),n.map(Pt).forEach((function(t){return i._enabled[t]=e}))},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[Pt(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Vt(e)+": Started  -> "+xe(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Vt(e)+": Ignored  <> "+xe(e))},e.prototype.traceHookInvocation=function(e,n,i){if(this.enabled(t.Category.HOOK)){var r=s("traceData.hookType")(i)||"internal",o=s("traceData.context.state.name")(i)||s("traceData.context")(i)||"unknown",a=Ee(e.registeredHook.callback);console.log(Vt(n)+":   Hook -> "+r+" context: "+o+", "+be(200,a))}},e.prototype.traceHookResult=function(e,n,i){this.enabled(t.Category.HOOK)&&console.log(Vt(n)+":   <- Hook returned: "+be(200,xe(e)))},e.prototype.traceResolvePath=function(e,n,i){this.enabled(t.Category.RESOLVE)&&console.log(Vt(i)+":         Resolving "+e+" ("+n+")")},e.prototype.traceResolvableResolved=function(e,n){this.enabled(t.Category.RESOLVE)&&console.log(Vt(n)+":               <- Resolved  "+e+" to: "+be(200,xe(e.data)))},e.prototype.traceError=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(Vt(n)+": <- Rejected "+xe(n)+", reason: "+e)},e.prototype.traceSuccess=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(Vt(n)+": <- Success  "+xe(n)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,n,i){void 0===i&&(i=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+ye(30,e)+" "+Bt(n)+i)},e.prototype.traceUIViewConfigUpdated=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+n+"'")},e.prototype.traceUIViewFill=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+be(200,n))},e.prototype.traceViewServiceEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(t){return"[ViewConfig#"+t.$id+" from '"+(t.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"'"}(n))},e.prototype.traceViewServiceUIViewEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+Bt(n))},e}(),qt=new zt;(Ht=t.TransitionHookPhase||(t.TransitionHookPhase={}))[Ht.CREATE=0]="CREATE",Ht[Ht.BEFORE=1]="BEFORE",Ht[Ht.RUN=2]="RUN",Ht[Ht.SUCCESS=3]="SUCCESS",Ht[Ht.ERROR=4]="ERROR",(jt=t.TransitionHookScope||(t.TransitionHookScope={}))[jt.TRANSITION=0]="TRANSITION",jt[jt.STATE=1]="STATE";var Yt=function(){function t(t,e,n,i){void 0===i&&(i={}),this._identifier=t,this._definition=e,this._options=i,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+H(this.params())},t}();Yt.isDef=function(t){return t&&t.state&&(T(t.state)||T(t.state.name))};var Kt={current:q,transition:null,traceData:{},bind:null},Gt=function(){function e(e,n,i,r){var o=this;this.transition=e,this.stateContext=n,this.registeredHook=i,this.options=r,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=nt(r,Kt),this.type=i.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var i=this.options;qt.traceHookInvocation(this,this.transition,i);var r=function(n){return e.eventType.getErrorHandler(t)(n)},o=function(n){return e.eventType.getResultHandler(t)(n)};try{var a=e.callback.call(i.bind,t.transition,t.stateContext);return!this.type.synchronous&&L(a)?a.catch((function(t){return Nt.normalize(t).toPromise()})).then(o,r):o(a)}catch(t){return r(Nt.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this;return this.getNotCurrentRejection()||(L(t)?t.then((function(t){return e.handleHookResult(t)})):(qt.traceHookResult(t,this.transition,this.options),!1===t?Nt.aborted("Hook aborted transition").toPromise():f(Yt)(t)?Nt.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Nt.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Nt.aborted().toPromise():this.isSuperseded()?Nt.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this.options,e=this.registeredHook;return(s("traceData.hookType")(t)||"internal")+" context: "+(s("traceData.context.state.name")(t)||s("traceData.context")(t)||"unknown")+", "+be(200,Ce(e.callback))},e.chain=function(t,e){return t.reduce((function(t,e){return t.then((function(){return e.invokeHook()}))}),e||N.$q.when())},e.invokeHooks=function(t,n){for(var i=0;i<t.length;i++){var r=t[i].invokeHook();if(L(r)){var o=t.slice(i+1);return e.chain(o,r).then(n)}}return n()},e.runAllHooks=function(t){t.forEach((function(t){return t.invokeHook()}))},e}();function Xt(t,e){var n=T(e)?[e]:e;return!!(k(n)?n:function(t){for(var e=n,i=0;i<e.length;i++){var r=new b(e[i]);if(r&&r.matches(t.name)||!r&&e[i]===t.name)return!0}return!1})(t)}Gt.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},Gt.LOG_REJECTED_RESULT=function(t){return function(e){L(e)&&e.catch((function(e){return t.logError(Nt.normalize(e))}))}},Gt.LOG_ERROR=function(t){return function(e){return t.logError(e)}},Gt.REJECT_ERROR=function(t){return function(t){return Rt(t)}},Gt.THROW_ERROR=function(t){return function(t){throw t}};var Qt=function(){function e(t,e,n,i,r){void 0===r&&(r={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=i,this.priority=r.priority||0,this.bind=r.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var n=t.filter((function(t){return Xt(t.state,e)}));return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return ht(this.tranSvc._pluginapi._getPathTypes(),(function(){return!0}))},e.prototype._getMatchingNodes=function(e){var n=this,i=W(this._getDefaultMatchCriteria(),this.matchCriteria);return dt(this.tranSvc._pluginapi._getPathTypes()).reduce((function(r,o){var a=o.scope===t.TransitionHookScope.STATE,s=e[o.name]||[],c=a?s:[St(s)];return r[o.name]=n._matchingNodes(c,i[o.name]),r}),{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return dt(e).every(z)?e:null},e}();function Jt(t,e,n){var i=(t._registeredHooks=t._registeredHooks||{})[n.name]=[];function r(t,r,o){void 0===o&&(o={});var a=new Qt(e,n,r,t,o);return i.push(a),function(){a._deregistered=!0,Q(i)(a)}}return t[n.name]=r,r}var Zt=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map((function(t){return e.buildHooks(t)})).reduce(mt,[]).filter(z)},e.prototype.buildHooks=function(e){var n=this.transition,i=n.treeChanges(),r=this.getMatchingHooks(e,i);if(!r)return[];var o={transition:n,current:n.options().current};return r.map((function(r){return r.matches(i)[e.criteriaMatchPath.name].map((function(i){var a=W({bind:r.bind,traceData:{hookType:e.name,context:i}},o),s=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?i.state.self:null,c=new Gt(n,s,r,a);return{hook:r,node:i,transitionHook:c}}))})).reduce(mt,[]).sort(function(t){return void 0===t&&(t=!1),function(e,n){var i=t?-1:1,r=(e.node.state.path.length-n.node.state.path.length)*i;return 0!==r?r:n.hook.priority-e.hook.priority}}(e.reverseSort)).map((function(t){return t.transitionHook}))},e.prototype.getMatchingHooks=function(e,n){var i=e.hookPhase===t.TransitionHookPhase.CREATE,r=this.transition.router.transitionService;return(i?[r]:[this.transition,r]).map((function(t){return t.getHooks(e.name)})).filter(Et(M,"broken event named: "+e.name)).reduce(mt,[]).filter((function(t){return t.matches(n)}))},e}(),te=function(){function t(t){this.pattern=/.*/,this.inherit=!0,W(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new ee(this,t)},t}();function ee(t,e){var n=this;function i(t){return M(t)?t:$(t)?[t]:[]}function r(t,n){return function(r){if(M(r)&&0===r.length)return r;var o=ht(i(r),t);return!0===n?0===ct(o,(function(t){return!t})).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}(o)}}function o(t){return function(e,n){var r=i(e),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach((function(e){var i=t[e].bind(t),a="equals"===e?o:r;n[e]=a(i)})),W(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:r(t.is.bind(t),!0),$arrayMode:e})}var ne,ie=Object.prototype.hasOwnProperty;(ne=t.DefType||(t.DefType={}))[ne.PATH=0]="PATH",ne[ne.SEARCH=1]="SEARCH",ne[ne.CONFIG=2]="CONFIG";var re=function(){function e(e,n,i,r,a){n=function(e,n,i,r,o){if(e.type&&n&&"string"!==n.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&n&&"string"===n.name&&o.type(e.type))return o.type(e.type);if(n)return n;if(!e.type){var a=i===t.DefType.CONFIG?"any":i===t.DefType.PATH?"path":i===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof te?e.type:o.type(e.type)}(i=function(t){function e(){return t.value}return t=function(t){return 0===["value","type","squash","array","dynamic"].filter(ie.bind(t||{})).length}(t)&&{value:t}||t,e.__cacheable=!0,W(t,{$$fn:O(t.value)?t.value:e})}(i),n,r,e,a.paramTypes);var s,c,l=(s={array:r===t.DefType.SEARCH&&"auto"},c=e.match(/\[\]$/)?{array:!0}:{},W(s,c,i).array);n=l?n.$asArray(l,r===t.DefType.SEARCH):n;var u=void 0!==i.value||r===t.DefType.SEARCH,h=$(i.dynamic)?!!i.dynamic:!!n.dynamic,d=$(i.raw)?!!i.raw:!!n.raw,f=function(t,e,n){var i=t.squash;if(!e||!1===i)return!1;if(!$(i)||null==i)return n;if(!0===i||T(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}(i,u,a.defaultSquashPolicy()),p=function(t,e,n,i){var r,a,s=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return r=M(t.replace)?t.replace:[],T(i)&&r.push({from:i,to:void 0}),a=ht(r,o("from")),ct(s,(function(t){return-1===a.indexOf(t.from)})).concat(r)}(i,l,u,f),m=$(i.inherit)?!!i.inherit:!!n.inherit;W(this,{id:e,type:n,location:r,isOptional:u,dynamic:h,raw:d,squash:f,replace:p,inherit:m,array:l,config:i})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,i=e.replace;n<i.length;n++){var r=i[n];if(r.from===t)return r.to}return t}(t),C(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!N.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=N.$injector.invoke(e.config.$$fn);if(null!=t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((C(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(T(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];n[o.id]=o.value(e[o.id])}return n},e.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter((function(t){return!t.type.equals(e[t.id],n[t.id])}))},e.equals=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),0===e.changed(t,n,i).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map((function(t){return t.validates(e[t.id])})).reduce(ft,!0)},e}(),oe=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=W({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var i=e;this.state=i,this.paramSchema=i.parameters({inherit:!1}),this.paramValues={},this.resolvables=i.resolvables.map((function(t){return t.clone()}))}}return t.prototype.applyRawParams=function(t){return this.paramValues=this.paramSchema.reduce((function(e,n){return kt(e,[(i=n).id,i.value(t[i.id])]);var i}),{}),this},t.prototype.parameter=function(t){return lt(this.paramSchema,a("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return re.changed(n,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),ae=function(){function t(){}return t.makeTargetState=function(t){var e=St(t).state;return new Yt(e,e,t.map(o("paramValues")).reduce(it,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map((function(t){return new oe(t).applyRawParams(e)}))},t.buildToPath=function(e,n){var i=t.buildPath(n);return n.options().inherit?t.inheritParams(e,i,Object.keys(n.params())):i},t.applyViewConfigs=function(e,n,i){n.filter((function(t){return G(i,t.state)})).forEach((function(i){var r=dt(i.state.views||{}),o=t.subPath(n,(function(t){return t===i})),a=r.map((function(t){return e.createViewConfig(o,t)}));i.views=a.reduce(mt,[])}))},t.inheritParams=function(t,e,n){void 0===n&&(n=[]);var i=t.map((function(t){return t.paramSchema})).reduce(mt,[]).filter((function(t){return!t.inherit})).map(o("id"));return e.map((function(e){var r=W({},e&&e.paramValues),o=ot(r,n);r=at(r,n);var s,c,l,u=at((s=t,c=e.state,l=lt(s,a("state",c)),W({},l&&l.paramValues)||{}),i),h=W(r,u,o);return new oe(e.state).applyRawParams(h)}))},t.treeChanges=function(e,n,i){for(var r,o,a,s,c,l,u=0,h=Math.min(e.length,n.length);u<h&&e[u].state!==i&&(r=e[u],o=n[u],r.equals(o,t.nonDynamicParams));)u++;s=(a=e).slice(0,u),c=a.slice(u);var d=s.map((function(t,e){var i=oe.clone(t);return i.paramValues=n[e].paramValues,i}));return l=n.slice(u),{from:a,to:d.concat(l),retained:s,exiting:c,entering:l}},t.matching=function(t,e,n){var i=!1;return xt(t,e).reduce((function(t,e){var r=e[0],o=e[1];return(i=i||!r.equals(o,n))?t:t.concat(r)}),[])},t.equals=function(e,n,i){return e.length===n.length&&t.matching(e,n,i).length===e.length},t.subPath=function(t,e){var n=lt(t,e),i=t.indexOf(n);return-1===i?void 0:t.slice(0,i+1)},t}();ae.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter((function(t){return!t.dynamic}))},ae.paramValues=function(t){return t.reduce((function(t,e){return W(t,e.paramValues)}),{})};var se={when:"LAZY",async:"WAIT"},ce=function(){function t(e,n,i,r,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)W(this,e);else if(k(n)){if(null==e||null==e)throw new Error("new Resolvable(): token argument is required");if(!k(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=n,this.deps=i||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?N.$q.when(this.data):void 0}else if(_(e)&&e.token&&k(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||se.when,async:e.async||n.async||se.async}},t.prototype.resolve=function(t,e){var n=this,i=N.$q,r=t.findNode(this),o=r&&r.state,a="RXWAIT"===this.getPolicy(o).async?function(t){var e=t.cache(1);return e.take(1).toPromise().then((function(){return e}))}:z;return this.promise=i.when().then((function(){return i.all(t.getDependencies(n).map((function(n){return n.get(t,e)})))})).then((function(t){return n.resolveFn.apply(null,t)})).then(a).then((function(t){return n.data=t,n.resolved=!0,qt.traceResolvableResolved(n,e),n.data}))},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+xe(this.token)+", requires: ["+this.deps.map(xe)+"])"},t.prototype.clone=function(){return new t(this)},t}();ce.fromData=function(t,e){return new ce(t,(function(){return e}),null,null,e)};var le={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},ue=le.when,he=[ue.EAGER,ue.LAZY],de=[ue.EAGER],fe="Native Injector",pe=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce((function(t,e){return t.concat(e.resolvables.map((function(t){return t.token})))}),[]).reduce(bt,[])},t.prototype.getResolvable=function(t){return St(this._path.map((function(t){return t.resolvables})).reduce(mt,[]).filter((function(e){return e.token===t})))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(ae.subPath(this._path,(function(t){return t.state===e})))},t.prototype.addResolvables=function(t,e){var n=lt(this._path,a("state",e)),i=t.map((function(t){return t.token}));n.resolvables=n.resolvables.filter((function(t){return-1===i.indexOf(t.token)})).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var i=(G(he,t)?t:"LAZY")===le.when.EAGER?de:he;qt.traceResolvePath(this._path,t,e);var r=function(t,e){return function(i){return G(t,n.getPolicy(i)[e])}},o=this._path.reduce((function(t,o){var a=o.resolvables.filter(r(i,"when")),s=a.filter(r(["NOWAIT"],"async")),l=a.filter(c(r(["NOWAIT"],"async"))),u=n.subContext(o.state),h=function(t){return t.get(u,e).then((function(e){return{token:t.token,value:e}}))};return s.forEach(h),t.concat(l.map(h))}),[]);return N.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new me(this))},t.prototype.findNode=function(t){return lt(this._path,(function(e){return G(e.resolvables,t)}))},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),i=(ae.subPath(this._path,(function(t){return t===n}))||this._path).reduce((function(t,e){return t.concat(e.resolvables)}),[]).filter((function(e){return e!==t}));return t.deps.map((function(t){var n=i.filter((function(e){return e.token===t}));if(n.length)return St(n);var r=e.injector().getNative(t);if(!r)throw new Error("Could not find Dependency Injection token: "+xe(t));return new ce(t,(function(){return r}),[],r)}))},t}(),me=function(){function t(t){this.context=t,this.native=this.get(fe)||N.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+xe(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):N.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),ge=o("self"),ve=function(){function e(e,n,i){var r=this;if(this._deferred=N.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Zt(this),this.isActive=function(){return r.router.globals.transition===r},this.router=i,this._targetState=n,!n.valid())throw new Error(n.error());this._options=W({current:m(this)},n.options()),this.$id=i.transitionService._transitionCount++;var o=ae.buildToPath(e,n);this._treeChanges=ae.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Gt.invokeHooks(a,(function(){return null})),this.applyViewConfigs(i)}return e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter((function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE})).forEach((function(t){return Jt(e,e.router.transitionService,t)}))},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map((function(t){return t.state}));ae.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return St(this._treeChanges.from).state},e.prototype.$to=function(){return St(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!Xt(this.$to(),t.to)||t.from&&!Xt(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(o("paramValues")).reduce(it,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=ae.subPath(n,(function(e){return e.state===t||e.state.name===t}))),new pe(n).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new pe(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=f(ce)(t)?t:new ce(t);var n="string"==typeof e?e:e.name,i=this._treeChanges.to,r=lt(i,(function(t){return t.state.name===n}));new pe(i).addResolvables([t],r.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return ht(this._treeChanges.entering,o("state")).map(ge)},e.prototype.exiting=function(){return ht(this._treeChanges.exiting,o("state")).map(ge).reverse()},e.prototype.retained=function(){return ht(this._treeChanges.retained,o("state")).map(ge)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(a("state",e)):n).map(o("views")).filter(z).reduce(mt,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var i={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(i.location="replace");var r=W({},this.options(),t.options(),i);t=new Yt(t.identifier(),t.$state(),t.params(),r);var o,a=this.router.transitionService.create(this._treeChanges.from,t),s=this._treeChanges.entering,l=a._treeChanges.entering;return ae.matching(l,s,ae.nonDynamicParams).filter(c((o=t.options().reloadState,function(t){return o&&t.state.includes[o.name]}))).forEach((function(t,e){t.resolvables=s[e].resolvables})),a},e.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||xt(t.to,t.from).map((function(t){return t[0].state!==t[1].state})).reduce(pt,!1))){var e=t.to.map((function(t){return t.paramSchema})),n=[t.to,t.from].map((function(t){return t.map((function(t){return t.paramValues}))}));return xt(e,n[0],n[1]).map((function(t){var e=t[0],n=t[1],i=t[2];return re.changed(e,n,i)})).reduce(mt,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map((function(t){return t.dynamic})).reduce(pt,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var i=ae.matching(t,n);return t.length===i.filter((function(t){return!e||!t.state.includes[e.name]})).length},i=this.treeChanges(),r=t&&t.treeChanges();return r&&n(r.to,i.to)&&n(r.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&n(i.from,i.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,n=Gt.runAllHooks,i=function(t){return e._hookBuilder.buildHooksForPhase(t)},r=i(t.TransitionHookPhase.BEFORE);return Gt.invokeHooks(r,(function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),qt.traceTransitionStart(e),N.$q.when(void 0)})).then((function(){var e=i(t.TransitionHookPhase.RUN);return Gt.invokeHooks(e,(function(){return N.$q.when(void 0)}))})).then((function(){qt.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),n(i(t.TransitionHookPhase.SUCCESS))}),(function(r){qt.traceError(r,e),e.success=!1,e._deferred.reject(r),e._error=r,n(i(t.TransitionHookPhase.ERROR))})),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){C(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();return t.self.abstract?"Cannot transition to abstract state '"+t.name+"'":re.validates(t.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+t.name+"'"},e.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:at(t,["#"])};return"Transition#"+this.$id+"( '"+(_(t)?t.name:t)+"'"+H(n(this._treeChanges.from.map(o("paramValues")).reduce(it,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(_(e)?e.name:e)+"'"+H(n(this.params()))+" )"},e}();function be(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function ye(t,e){for(;e.length<t;)e+=" ";return e}function we(t){return t.replace(/^([A-Z])/,(function(t){return t.toLowerCase()})).replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}function Ee(t){var e=Ce(t),n=e.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:e,r=t.name||"";return r&&i.match(/function \(/)?"function "+r+i.substr(9):i}function Ce(t){var e=M(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}ve.diToken=ve;var $e=null,Ae=function(t){var e=Nt.isRejectionPromise;return($e=$e||v([[c($),m("undefined")],[A,m("null")],[L,m("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[f(Nt),g("toString")],[f(ve),g("toString")],[f(ce),g("toString")],[O,Ee],[m(!0),z]]))(t)};function xe(t){var e=[];return JSON.stringify(t,(function(t,n){return function(t){if(_(t)){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return Ae(t)}(n)})).replace(/\\"/g,'"')}var ke=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}};function Se(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(z)}}function Te(t,e){return T(St(t))&&T(e)?t.slice(0,-1).concat(St(t)+e):vt(t,e)}var _e,Me=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=ot(t.prototype,["hash","string","query","path","int","bool","date","json","any"]),this.types=K(ht(this.defaultTypes,(function(t,e){return new te(W({name:e},t))})),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!$(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new te(W({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");W(this.types[t.name],N.$injector.invoke(t.def))}},t}();_e=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:f(String),pattern:/.*/,equals:function(t,e){return t==e}};return W({},n,t)},W(Me.prototype,{string:_e({}),path:_e({pattern:/[^/]*/}),query:_e({}),hash:_e({inherit:!1}),int:_e({decode:function(t){return parseInt(t,10)},is:function(t){return!x(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:_e({encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:f(Boolean),pattern:/0|1/}),date:_e({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce((function(n,i){return n&&t[i]()===e[i]()}),!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:_e({encode:H,decode:P,is:f(Object),equals:V,pattern:/[^/]*/}),any:_e({encode:z,decode:z,is:function(){return!0},equals:V})});var Fe=function(){function t(t){void 0===t&&(t={}),W(this,t)}return t.prototype.$inherit=function(t,e,n){var i,r=rt(e,n),o={},a=[];for(var s in r)if(r[s]&&r[s].params&&(i=Object.keys(r[s].params)).length)for(var c in i)a.indexOf(i[c])>=0||(a.push(i[c]),o[i[c]]=this[i[c]]);return W({},o,t)},t}();function De(t){return t.name}function Re(t){return t.self.$$state=function(){return t},t.self}function Oe(t){return t.parent&&t.parent.data&&(t.data=t.self.data=K(t.parent.data,t.data)),t.data}var Le=function(t,e){return function(n){var i=n;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var r=function(t){if(!T(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(i.url),o=n.parent,a=r?t.compile(r.val,{params:n.params||{},paramMap:function(t,e){return!1===i.reloadOnSearch&&e&&(t=W(t||{},{dynamic:!0})),t}}):i.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return r&&r.root?a:(o&&o.navigable||e()).url.append(a)}},Ie=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}};function Ne(t){return t.parent?t.parent.path.concat(t):[t]}function Be(t){var e=t.parent?W({},t.parent.includes):{};return e[t.name]=!0,e}function Pe(t){var e=function(t){return t.provide||t.token},n=v([[o("resolveFn"),function(t){return new ce(e(t),t.resolveFn,t.deps,t.policy)}],[o("useFactory"),function(t){return new ce(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[o("useClass"),function(t){return new ce(e(t),(function(){return new t.useClass}),[],t.policy)}],[o("useValue"),function(t){return new ce(e(t),(function(){return t.useValue}),[],t.policy,t.useValue)}],[o("useExisting"),function(t){return new ce(e(t),z,[t.useExisting],t.policy)}]]),i=v([[r(o("val"),T),function(t){return new ce(t.token,z,[t.val],t.policy)}],[r(o("val"),M),function(t){return new ce(t.token,St(t.val),t.val.slice(0,-1),t.policy)}],[r(o("val"),k),function(t){return new ce(t.token,t.val,function(t){var e=N.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"}(t.val),t.policy)}]]),a=v([[f(ce),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},n],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},n],[function(t){return!!(t&&t.val&&(T(t.val)||M(t.val)||k(t.val)))},i],[m(!0),function(t){throw new Error("Invalid resolve value: "+xe(t))}]]),s=t.resolve,c=M(s)?s:function(t,e){return Object.keys(t||{}).map((function(n){return{token:n,val:t[n],deps:void 0,policy:e[n]}}))}(s,t.resolvePolicy||{});return c.map(a)}var He=function(){function t(t,e){this.matcher=t;var n,i=this,r=function(){return t.find("")},a=function(t){return""===t.name};this.builders={name:[De],self:[Re],parent:[function(e){return a(e)?null:t.find(i.parentName(e))||r()}],data:[Oe],url:[Le(e,r)],navigable:[Ie(a)],params:[(n=e.paramFactory,function(t){var e=t.url&&t.url.parameters({inherit:!1})||[],i=dt(ut(at(t.params||{},e.map(o("id"))),(function(t,e){return n.fromConfig(e,null,t)})));return e.concat(i).map((function(t){return[t.id,t]})).reduce(kt,{})})],views:[],path:[Ne],includes:[Be],resolvables:[Pe]}}return t.prototype.builder=function(t,e){var n=this.builders,i=n[t]||[];return T(t)&&!$(e)?i.length>1?i:i[0]:T(t)&&k(e)?(n[t]=i,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this.matcher,n=this.builders,i=this.parentName(t);if(i&&!e.find(i,void 0,!1))return null;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r].reduce((function(t,e){return function(n){return e(n,t)}}),q);t[r]=o(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if(n.length>1){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return"**"===n.pop()&&n.pop(),n.join(".")}return t.parent?T(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=T(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),je=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var i=T(t),r=i?t:t.name;this.isRelative(r)&&(r=this.resolvePath(r,e));var o=this._states[r];if(o&&(i||!(i||o!==t&&o.self!==t)))return o;if(i&&n){var a=dt(this._states).filter((function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(r)}));return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+r+" using glob: ",a.map((function(t){return t.name}))),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),i=t.split("."),r=0,o=i.length,a=n;r<o;r++)if(""!==i[r]||0!==r){if("^"!==i[r])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=i.slice(r).join(".");return a.name+(a.name&&s?".":"")+s},t}(),Ue=function(){function t(t,e,n,i,r){this.$registry=t,this.$urlRouter=e,this.states=n,this.builder=i,this.listeners=r,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=y.create(t),i=n.name;if(!T(i))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(i)||G(e.map(o("name")),i))throw new Error("State '"+i+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this,n=e.queue,i=e.states,r=e.builder,o=[],a=[],s={},c=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};n.length>0;){var l=n.shift(),u=l.name,h=r.build(l),d=a.indexOf(l);if(h){var f=c(u);if(f&&f.name===u)throw new Error("State '"+u+"' is already defined");var p=c(u+".**");p&&this.$registry.deregister(p),i[u]=l,this.attachRoute(l),d>=0&&a.splice(d,1),o.push(l)}else{var m=s[u];if(s[u]=n.length,d>=0&&m===n.length)return n.push(l),i;d<0&&a.push(l),n.push(l)}}return o.length&&this.listeners.forEach((function(t){return t("registered",o.map((function(t){return t.self})))})),i},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),We=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new je(this.states),this.builder=new He(this.matcher,t.urlMatcherFactory),this.stateQueue=new Ue(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach((function(e){return t.get(e)&&t.deregister(e)}))},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){Q(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map((function(t){return t.$$state()})),i=function(t){var e=n.filter((function(e){return-1!==t.indexOf(e.parent)}));return 0===e.length?e:e.concat(i(e))},r=i([t]),o=[t].concat(r).reverse();return o.forEach((function(t){var n=e._router.urlRouter;n.rules().filter(a("state",t)).forEach(n.removeRule.bind(n)),delete e.states[t.name]})),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach((function(t){return t("deregistered",n.map((function(t){return t.self})))})),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map((function(t){return n.states[t].self}));var i=this.matcher.find(t,e);return i&&i.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();function Ve(t,e){var n=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return i;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return i+n[0]+e.type.pattern.source+n[1]}var ze=Se("/"),qe=function(){function e(t,n,i,r){var o=this;this.config=r,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=nt(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:z});for(var s,c,l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=0,f=[],p=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(lt(o._params,a("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},m=function(e,i){var r=e[2]||e[3],a=i?e[4]:e[4]||("*"===e[1]?".*":null);return{id:r,regexp:a,cfg:o.config.params[r],segment:t.substring(d,e.index),type:a?n.type(a)||function(t){return K(n.type(i?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(s=u.exec(t))&&!((c=m(s,!1)).segment.indexOf("?")>=0);)p(c.id),this._params.push(i.fromPath(c.id,c.type,this.config.paramMap(c.cfg,!1))),this._segments.push(c.segment),f.push([c.segment,St(this._params)]),d=u.lastIndex;var g=(l=t.substring(d)).indexOf("?");if(g>=0){var v=l.substring(g);if(l=l.substring(0,g),v.length>0)for(d=0;s=h.exec(v);)p((c=m(s,!0)).id),this._params.push(i.fromSearch(c.id,c.type,this.config.paramMap(c.cfg,!0))),d=u.lastIndex}this._segments.push(l),this._compiled=f.map((function(t){return Ve.apply(null,t)})).concat(Ve(l))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,n,i){var r=this;void 0===e&&(e={}),void 0===i&&(i={});var a,s,c,l=(a=this._cache,s="pattern",c=function(){return new RegExp(["^",yt(r._cache.path.map(o("_compiled"))).join(""),!1===r.config.strict?"/?":"","$"].join(""),r.config.caseInsensitive?"i":void 0)},a[s]=a[s]||c()).exec(t);if(!l)return null;var u,h,d=this.parameters(),f=d.filter((function(t){return!t.isSearch()})),p=d.filter((function(t){return t.isSearch()})),m=this._cache.path.map((function(t){return t._segments.length-1})).reduce((function(t,e){return t+e})),g={};if(m!==l.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var v=0;v<m;v++){for(var b=f[v],y=l[v+1],w=0;w<b.replace.length;w++)b.replace[w].from===y&&(y=b.replace[w].to);y&&!0===b.array&&(void 0,void 0,h=ht((u=function(t){return t.split("").reverse().join("")})(y).split(/-(?!\\)/),u),y=ht(h,(function(t){return t.replace(/\\-/g,"-")})).reverse()),$(y)&&(y=b.type.decode(y)),g[b.id]=b.value(y)}return p.forEach((function(t){for(var n=e[t.id],i=0;i<t.replace.length;i++)t.replace[i].from===n&&(n=t.replace[i].to);$(n)&&(n=t.type.decode(n)),g[t.id]=t.value(n)})),n&&(g["#"]=n),g},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:yt(this._cache.path.map((function(t){return t._params})))},e.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var i=this._cache.parent;return function(){for(var e=0,i=n._params;e<i.length;e++){var r=i[e];if(r.id===t)return r}}()||!1!==e.inherit&&i&&i.parameter(t,e)||null},e.prototype.validates=function(t){return t=t||{},this.parameters().filter((function(e){return t.hasOwnProperty(e.id)})).map((function(e){return n=e,i=t[e.id],!n||n.validates(i);var n,i})).reduce(ft,!0)},e.prototype.format=function(t){void 0===t&&(t={});var n=this._cache.path,i=n.map(e.pathSegmentsAndParams).reduce(mt,[]).map((function(t){return T(t)?t:o(t)})),r=n.map(e.queryParams).reduce(mt,[]).map(o);if(i.concat(r).filter((function(t){return!1===t.isValid})).length)return null;function o(e){var n=e.value(t[e.id]),i=e.validates(n),r=e.isDefaultValue(n),o=!!r&&e.squash,a=e.type.encode(n);return{param:e,value:n,isValid:i,isDefaultValue:r,squash:o,encoded:a}}var a=i.reduce((function(t,n){if(T(n))return t+n;var i=n.squash,r=n.encoded,o=n.param;return!0===i?t.match(/\/$/)?t.slice(0,-1):t:T(i)?t+i:!1!==i||null==r?t:M(r)?t+ht(r,e.encodeDashes).join("-"):o.raw?t+r:t+encodeURIComponent(r)}),""),s=r.map((function(t){var e=t.param,n=t.squash,i=t.encoded,r=t.isDefaultValue;if(!(null==i||r&&!1!==n)&&(M(i)||(i=[i]),0!==i.length))return e.raw||(i=ht(i,encodeURIComponent)),i.map((function(t){return e.id+"="+t}))})).filter(z).reduce(mt,[]).join("&");return a+(s?"?"+s:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,(function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()}))},e.pathSegmentsAndParams=function(e){return xt(e._segments,e._params.filter((function(e){return e.location===t.DefType.PATH})).concat(void 0)).reduce(mt,[]).filter((function(t){return""!==t&&$(t)}))},e.queryParams=function(e){return e._params.filter((function(e){return e.location===t.DefType.SEARCH}))},e.compare=function(t,n){var i,r,o=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(mt,[]).reduce(Te,[]).map((function(t){return T(t)?ze(t):t})).reduce(mt,[])}(t).map((function(t){return"/"===t?1:T(t)?2:t instanceof re?3:void 0}))},a=xt(o(t),o(n));for(r=0;r<a.length;r++)if(0!=(i=a[r][0]-a[r][1]))return i;return 0},e}();qe.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;var Ye=function(){function e(){var e=this;this.paramTypes=new Me,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return W({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(n,i,r){return new re(n,i,r,t.DefType.CONFIG,e)},fromPath:function(n,i,r){return new re(n,i,r,t.DefType.PATH,e)},fromSearch:function(n,i,r){return new re(n,i,r,t.DefType.SEARCH,e)}},W(this,{UrlMatcher:qe,Param:re})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=$(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=$(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if($(t)&&!0!==t&&!1!==t&&!T(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=$(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new qe(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!_(t))return!1;var e=!0;return U(qe.prototype,(function(n,i){k(n)&&(e=e&&$(t[i])&&k(t[i]))})),e},e.prototype.type=function(t,e,n){var i=this.paramTypes.type(t,e,n);return $(e)?this:i},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),Ke=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,i=v([[T,function(t){return i(n.compile(t))}],[f(qe),function(t){return n.fromUrlMatcher(t,e)}],[R,function(t){return n.fromState(t,n.router)}],[f(RegExp),function(t){return n.fromRegExp(t,e)}],[k,function(t){return new Xe(t,e)}]]),r=i(t);if(!r)throw new Error("invalid 'what' in when()");return r},t.prototype.fromUrlMatcher=function(t,e){var n=e;T(e)&&(e=this.router.urlMatcherFactory.compile(e)),f(qe)(e)&&(n=function(t){return e.format(t)});var i={urlMatcher:t,matchPriority:function(e){var n=t.parameters().filter((function(t){return t.isOptional}));return n.length?n.filter((function(t){return e[t.id]})).length/n.length:1e-6},type:"URLMATCHER"};return W(new Xe((function(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n}),n),i)},t.prototype.fromState=function(t,e){var n={state:t,type:"STATE"};return W(this.fromUrlMatcher(t.url,(function(n){var i=e.stateService,r=e.globals;i.href(t,n)!==i.href(r.current,r.params)&&i.transitionTo(t,n,{inherit:!0,source:"url"})})),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=T(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,(function(e,n){return t["$"===n?0:Number(n)]}))}:e,i={regexp:t,type:"REGEXP"};return W(new Xe((function(e){return t.exec(e.path)}),n),i)},t}();Ke.isUrlRule=function(t){return t&&["type","match","handler"].every((function(e){return $(t[e])}))};var Ge,Xe=function(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||z},Qe=o("urlMatcher");Ge=Ft(Mt(r(o("priority"),(function(t){return-t}))),Mt(r(o("type"),(function(t){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[t]}))),(function(t,e){return Qe(t)&&Qe(e)?qe.compare(Qe(t),Qe(e)):0}),Mt(o("$id"),G(["REGEXP","RAW","OTHER"])));var Je=function(){function t(e){this._sortFn=Ge,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new Ke(e),Y(m(t.prototype),this,m(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules.sort(this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.match=function(t){this.ensureSorted(),t=W({path:"",search:{},hash:""},t);var e=this.rules();this._otherwiseFn&&e.push(this._otherwiseFn);for(var n,i,r,o=0;o<e.length&&(!n||0===this._sortFn(e[o],n.rule));o++){var a=(void 0,(r=(i=e[o]).match(t,this._router))&&{match:r,rule:i,weight:i.matchPriority(r)});n=!n||a&&a.weight>n.weight?a:n}return n},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,n=e.urlService,i=e.stateService,r={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(r);v([[T,function(t){return n.url(t,!0)}],[Yt.isDef,function(t){return i.go(t.state,t.params,t.options)}],[f(Yt),function(t){return i.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,r,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange((function(t){return e.sync(t)}));this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;t?this.location=e.path():e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var i=n&&!!n.replace;this._router.urlService.url(t.format(e||{}),i)},t.prototype.href=function(t,e,n){var i=t.format(e);if(null==i)return null;n=n||{absolute:!1};var r=this._router.urlService.config,o=r.html5Mode();if(o||null===i||(i="#"+r.hashPrefix()+i),i=function(t,e,n,i){return"/"===i?t:e?i.slice(0,-1)+t:n?i.slice(1)+t:t}(i,o,n.absolute,r.baseHref()),!n.absolute||!i)return i;var a=!o&&i?"/":"",s=r.port();return s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,a,i].join("")},t.prototype.rule=function(t){var e=this;if(!Ke.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){Q(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=Ze(t);this._otherwiseFn=this.urlRuleFactory.create(m(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=Ze(t);this.rule(this.urlRuleFactory.create((function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)}),e))},t.prototype.when=function(t,e,n){var i=this.urlRuleFactory.create(t,e);return $(n&&n.priority)&&(i.priority=n.priority),this.rule(i),i},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}();function Ze(t){if(!(k(t)||T(t)||f(Yt)(t)||Yt.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return k(t)?t:m(t)}var tn=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var i=n(t,e);return M(i)?i:[i]},t.prototype.deactivateViewConfig=function(t){qt.traceViewServiceEvent("<- Removing",t),Q(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){qt.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){var e=this,i=this._uiViews.map((function(t){return[t.fqn,t]})).reduce(kt,{});function r(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var o=n((function(t,e,n,i){return e*(t(n)-t(i))}));this._uiViews.sort(o((function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)}),1)).map((function(n){var a=e._viewConfigs.filter(t.matches(i,n));return a.length>1&&a.sort(o(r,-1)),[n,a[0]]})).forEach((function(t){var n=t[0],i=t[1];-1!==e._uiViews.indexOf(n)&&n.configUpdated(i)}))},t.prototype.registerUIView=function(t){qt.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter((function(e){return e.fqn===t.fqn})).length&&qt.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(qt.traceViewServiceUIViewEvent("<- Deregistering",t),Q(e)(t)):qt.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(o("fqn"))},t.prototype.active=function(){return this._uiViews.filter(o("$config")).map(o("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),i=n[0]||"$default",r=T(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);if(o&&(r=o[1],i=o[2]),"!"===i.charAt(0)&&(i=i.substr(1),r=""),/^(\^(?:\.\^)*)$/.exec(r)){var a=r.split(".").reduce((function(t,e){return t.parent}),t);r=a.name}else"."===r&&(r=t.name);return{uiViewName:i,uiViewContextAnchor:r}},t}();tn.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var i=n.viewDecl,r=i.$uiViewName.split("."),o=e.fqn.split(".");if(!V(r,o.slice(0-r.length)))return!1;var a=1-r.length||void 0,s=o.slice(0,a).join("."),c=t[s].creationContext;return i.$uiViewContextAnchor===(c&&c.name)}};var en=function(){function t(){this.params=new Fe,this.lastStartedTransitionId=-1,this.transitionHistory=new Ot([],1),this.successfulTransitions=new Ot([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),nn=function(t){return t.reduce((function(t,e){return t[e]=I(e),t}),{dispose:q})},rn=["url","path","search","hash","onChange"],on=["port","protocol","host","baseHref","html5Mode","hashPrefix"],an=["type","caseInsensitive","strictMode","defaultSquashPolicy"],sn=["sort","when","initial","otherwise","rules","rule","removeRule"],cn=["deferIntercept","listen","sync","match"],ln=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var n=function(){return t.locationService};Y(n,this,n,rn,e);var i=function(){return t.locationConfig};Y(i,this.config,i,on,e);var r=function(){return t.urlMatcherFactory};Y(r,this.config,r,an);var o=function(){return t.urlRouter};Y(o,this.rules,o,sn),Y(o,this,o,cn)}return t.prototype.url=function(t,e,n){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t}();ln.locationServiceStub=nn(rn),ln.locationConfigStub=nn(on);var un=0,hn=function(){function t(t,e){void 0===t&&(t=ln.locationServiceStub),void 0===e&&(e=ln.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=un++,this._disposed=!1,this._disposables=[],this.trace=qt,this.viewService=new tn,this.transitionService=new Mn(this),this.globals=new en,this.urlMatcherFactory=new Ye,this.urlRouter=new Je(this),this.stateRegistry=new We(this),this.stateService=new Fn(this),this.urlService=new ln(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&k(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach((function(t){try{"function"==typeof t.dispose&&t.dispose(e),Q(e._disposables,t)}catch(t){}})))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:dt(this._plugins)},t}();function dn(t){t.addResolvable({token:hn,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:ve,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach((function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)}))}var fn=function(t){var e=t.to().redirectTo;if(e){var n=t.router.stateService;return k(e)?N.$q.when(e(t)).then(i):i(e)}function i(e){if(e)return e instanceof Yt?e:T(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}};function pn(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}var mn=pn("onExit"),gn=pn("onRetain"),vn=pn("onEnter"),bn=function(t){return new pe(t.treeChanges().to).resolvePath("EAGER",t).then(q)},yn=function(t,e){return new pe(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(q)},wn=function(t){var e=N.$q,n=t.views("entering");if(n.length)return e.all(n.map((function(t){return e.when(t.load())}))).then(q)},En=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var i=t.router.viewService;n.forEach((function(t){return i.deactivateViewConfig(t)})),e.forEach((function(t){return i.activateViewConfig(t)})),i.sync()}},Cn=function(t){var e=t.router.globals,n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},(function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,j(t.params(),e.params)}),{priority:1e4}),t.promise.then(n,n)},$n=function(t){var e=t.options(),n=t.router.stateService,i=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var r={replace:"replace"===e.location};i.push(n.$current.navigable.url,n.params,r)}i.update(!0)},An=function(t){var e=t.router,n=t.entering().filter((function(t){return!!t.$$state().lazyLoad})).map((function(e){return xn(t,e)}));return N.$q.all(n).then((function(){if("url"!==t.originalTransition().options().source){var n=t.targetState();return e.stateService.target(n.identifier(),n.params(),n.options())}var i=e.urlService,r=i.match(i.parts()),o=r&&r.rule;if(o&&"STATE"===o.type){var a=o.state,s=r.match;return e.stateService.target(a,s,t.options())}e.urlService.sync()}))};function xn(t,e){var n=e.$$state().lazyLoad,i=n._promise;return i||(i=n._promise=N.$q.when(n(t,e)).then((function(e){return e&&Array.isArray(e.states)&&e.states.forEach((function(e){return t.router.stateRegistry.register(e)})),e})).then((function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t}),(function(t){return delete n._promise,N.$q.reject(t)}))),i}var kn=function(t,e,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=Gt.HANDLE_RESULT),void 0===a&&(a=Gt.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=i,this.reverseSort=r,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};function Sn(t){var e=t._ignoredReason();if(e){qt.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),Nt.ignored().toPromise()}}function Tn(t){if(!t.valid())throw new Error(t.error())}var _n={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Mn=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=Y(m(this),{},m(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,n){},e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.dispose=function(t){dt(this._registeredHooks).forEach((function(t){return t.forEach((function(e){e._deregistered=!0,Q(t,e)}))}))},e.prototype.create=function(t,e){return new ve(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,n=Gt,i=this._criteriaPaths,r=!1,o=!0;this._defineEvent("onCreate",e.CREATE,0,i.to,r,n.LOG_REJECTED_RESULT,n.THROW_ERROR,o),this._defineEvent("onBefore",e.BEFORE,0,i.to),this._defineEvent("onStart",e.RUN,0,i.to),this._defineEvent("onExit",e.RUN,100,i.exiting,!0),this._defineEvent("onRetain",e.RUN,200,i.retained),this._defineEvent("onEnter",e.RUN,300,i.entering),this._defineEvent("onFinish",e.RUN,400,i.to),this._defineEvent("onSuccess",e.SUCCESS,0,i.to,r,n.LOG_REJECTED_RESULT,n.LOG_ERROR,o),this._defineEvent("onError",e.ERROR,0,i.to,r,n.LOG_REJECTED_RESULT,n.LOG_ERROR,o)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,n=t.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=Gt.HANDLE_RESULT),void 0===a&&(a=Gt.REJECT_ERROR),void 0===s&&(s=!1);var c=new kn(t,e,n,i,r,o,a,s);this._eventTypes.push(c),Jt(this,this,c)},e.prototype._getEvents=function(t){return($(t)?this._eventTypes.filter((function(e){return e.hookPhase===t})):this._eventTypes.slice()).sort((function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n}))},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=this.onCreate({},dn),t.ignored=function(t){return t.onBefore({},Sn,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},Tn,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},fn)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},mn)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},gn)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},vn)}(this),t.eagerResolve=function(t){return t.onStart({},bn,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:m(!0)},yn,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},wn)}(this),t.activateViews=function(t){return t.onSuccess({},En)}(this),t.updateGlobals=function(t){return t.onCreate({},Cn)}(this),t.updateUrl=function(t){return t.onSuccess({},$n,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},An)}(this)},e}(),Fn=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof Nt?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=Object.keys(e.prototype).filter(c(G(["current","$current","params","transition"])));Y(m(e.prototype),this,m(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(q),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){var n=this,i=ae.makeTargetState(t),r=this.router.globals,o=function(){return r.transitionHistory.peekTail()},a=o(),s=new Ot(this.invalidCallbacks.slice()),c=new pe(t).injector(),l=function(t){if(t instanceof Yt){var e=t;return(e=n.target(e.identifier(),e.params(),e.options())).valid()?o()!==a?Nt.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):Nt.invalid(e.error()).toPromise()}};return function t(){var n=s.dequeue();return void 0===n?Nt.invalid(e.error()).toPromise():N.$q.when(n(e,i,c)).then(l).then((function(e){return e||t()}))}()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){Q(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!$(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,n){var i=nt(n,{relative:this.$current,inherit:!0},_n);return this.transitionTo(t,e,i)},e.prototype.target=function(t,e,n){if(void 0===n&&(n={}),_(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(T(n.reload)?n.reload:n.reload.name)+"'");var r=i.matcher.find(t,n.relative);return new Yt(t,r,e,n)},e.prototype.getCurrentPath=function(){var t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new oe(this.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,n,i){var r=this;void 0===n&&(n={}),void 0===i&&(i={});var o=this.router,a=o.globals;i=nt(i,_n),i=W(i,{current:function(){return a.transition}});var s=this.target(e,n,i),c=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(c,s);if(!s.valid())return Rt(s.error());var l=function(e){return function(n){if(n instanceof Nt){var i=o.globals.lastStartedTransitionId===e.$id;if(n.type===t.RejectType.IGNORED)return i&&o.urlRouter.update(),N.$q.when(a.current);var s=n.detail;if(n.type===t.RejectType.SUPERSEDED&&n.redirected&&s instanceof Yt){var c=e.redirect(s);return c.run().catch(l(c))}if(n.type===t.RejectType.ABORTED)return i&&o.urlRouter.update(),N.$q.reject(n)}return r.defaultErrorHandler()(n),N.$q.reject(n)}},u=this.router.transitionService.create(c,s),h=u.run().catch(l(u));return Dt(h),W(h,{transition:u})},e.prototype.is=function(t,e,n){n=nt(n,{relative:this.$current});var i=this.router.stateRegistry.matcher.find(t,n.relative);if($(i)){if(this.$current!==i)return!1;if(!e)return!0;var r=i.parameters({inherit:!0,matchingKeys:e});return re.equals(r,re.values(r,e),this.params)}},e.prototype.includes=function(t,e,n){n=nt(n,{relative:this.$current});var i=T(t)&&b.fromString(t);if(i){if(!i.matches(this.$current.name))return!1;t=this.$current.name}var r=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if($(r)){if(!$(o[r.name]))return!1;if(!e)return!0;var a=r.parameters({inherit:!0,matchingKeys:e});return re.equals(a,re.values(a,e),this.params)}},e.prototype.href=function(t,e,n){n=nt(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var i=this.router.stateRegistry.matcher.find(t,n.relative);if(!$(i))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,i));var r=i&&n.lossy?i.navigable:i;return r&&void 0!==r.url&&null!==r.url?this.router.urlRouter.href(r.url,e,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var i=this.getCurrentPath(),r=ae.makeTargetState(i);return xn(e=e||this.router.transitionService.create(i,r),n)},e}(),Dn={when:function(t){return new Promise((function(e,n){return e(t)}))},reject:function(t){return new Promise((function(e,n){n(t)}))},defer:function(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t},all:function(t){if(M(t))return Promise.all(t);if(_(t)){var e=Object.keys(t).map((function(e){return t[e].then((function(t){return{key:e,val:t}}))}));return Dn.all(e).then((function(t){return t.reduce((function(t,e){return t[e.key]=e.val,t}),{})}))}}},Rn={},On=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ln=/([^\s,]+)/g,In={get:function(t){return Rn[t]},has:function(t){return null!=In.get(t)},invoke:function(t,e,n){var i=W({},Rn,n||{}),r=In.annotate(t),o=Et((function(t){return i.hasOwnProperty(t)}),(function(t){return"DI can't find injectable: '"+t+"'"})),a=r.filter(o).map((function(t){return i[t]}));return k(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!O(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(M(t))return t.slice(0,-1);var e=t.toString().replace(On,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(Ln)||[]}},Nn=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},Bn=Nn("#"),Pn=Nn("?"),Hn=Nn("="),jn=function(t){return t?t.replace(/^#/,""):""},Un=function(t,e){var n=e[0],i=e[1];return t.hasOwnProperty(n)?M(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i,t},Wn=function(t){return t.split("&").filter(z).map(Hn).reduce(Un,{})};function Vn(t){var e=function(t){return t||""},n=Bn(t).map(e),i=n[0],r=n[1],o=Pn(i).map(e);return{path:o[0],search:o[1],hash:r,url:t}}var zn=function(t){var e=t.path(),n=t.search(),i=t.hash(),r=Object.keys(n).map((function(t){var e=n[t];return(M(e)?e:[e]).map((function(e){return t+"="+e}))})).reduce(mt,[]).join("&");return e+(r?"?"+r:"")+(i?"#"+i:"")};function qn(t,e,n,i){return function(r){var o=r.locationService=new n(r),a=r.locationConfig=new i(r,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}var Yn,Kn=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listener=function(t){return n._listeners.forEach((function(e){return e(t)}))},this._listeners=[],this.hash=function(){return Vn(n._get()).hash},this.path=function(){return Vn(n._get()).path},this.search=function(){return Wn(Vn(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),$(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var n=W(new Event("locationchange"),{url:t});this._listeners.forEach((function(t){return t(n)}))}return zn(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return Q(e._listeners,t)}},t.prototype.dispose=function(t){et(this._listeners)},t}(),Gn=(Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}Yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xn=function(t){function e(e){var n=t.call(this,e,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return Gn(e,t),e.prototype._get=function(){return jn(this._location.hash)},e.prototype._set=function(t,e,n,i){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(Kn),Qn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jn=function(t){function e(e){return t.call(this,e,!0)||this}return Qn(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,i){this._url=n},e}(Kn),Zn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ti=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return Zn(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,i=t.search;return e+((i=Pn(i)[1])?"?"+i:"")+((n=Bn(n)[1])?"$"+i:"")},e.prototype._set=function(t,e,n,i){var r=this._config,o=this._history,a=r.baseHref()+n;i?o.replaceState(t,e,a):o.pushState(t,e,a)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(Kn),ei=function(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return $(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=q},ni=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.host},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return $(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return $(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}();function ii(t){return N.$injector=In,N.$q=Dn,{name:"vanilla.services",$q:Dn,$injector:In,dispose:function(){return null}}}var ri=qn("vanilla.hashBangLocation",!1,Xn,ni),oi=qn("vanilla.pushStateLocation",!0,ti,ni),ai=qn("vanilla.memoryLocation",!1,Jn,ei),si=function(){function t(){}return t.prototype.dispose=function(t){},t}(),ci=Object.freeze({fromJson:P,toJson:H,copy:j,forEach:U,extend:W,equals:V,identity:z,noop:q,createProxyFunctions:Y,inherit:K,inArray:G,_inArray:X,removeFrom:Q,_removeFrom:J,pushTo:Z,_pushTo:tt,deregAll:et,defaults:nt,mergeR:it,ancestors:rt,pick:ot,omit:at,pluck:st,filter:ct,find:lt,mapObj:ut,map:ht,values:dt,allTrueR:ft,anyTrueR:pt,unnestR:mt,flattenR:gt,pushR:vt,uniqR:bt,unnest:yt,flatten:wt,assertPredicate:Et,assertMap:Ct,assertFn:$t,pairs:At,arrayTuples:xt,applyPairs:kt,tail:St,_extend:Tt,sortBy:Mt,composeSort:Ft,silenceUncaughtInPromise:Dt,silentRejection:Rt,notImplemented:I,services:N,Glob:b,curry:n,compose:i,pipe:r,prop:o,propEq:a,parse:s,not:c,and:l,or:u,all:h,any:d,is:f,eq:p,val:m,invoke:g,pattern:v,isUndefined:C,isDefined:$,isNull:A,isNullOrUndefined:x,isFunction:k,isNumber:S,isString:T,isObject:_,isArray:M,isDate:F,isRegExp:D,isState:R,isInjectable:O,isPromise:L,Queue:Ot,maxLength:be,padString:ye,kebobString:we,functionToString:Ee,fnToString:Ce,stringify:xe,beforeAfterSubstr:ke,splitOnDelim:Se,joinNeighborsR:Te,get Category(){return t.Category},Trace:zt,trace:qt,get DefType(){return t.DefType},Param:re,ParamTypes:Me,StateParams:Fe,ParamType:te,PathNode:oe,PathUtils:ae,resolvePolicies:le,defaultResolvePolicy:se,Resolvable:ce,NATIVE_INJECTOR_TOKEN:fe,ResolveContext:pe,resolvablesBuilder:Pe,StateBuilder:He,StateObject:y,StateMatcher:je,StateQueueManager:Ue,StateRegistry:We,StateService:Fn,TargetState:Yt,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Zt,matchState:Xt,RegisteredHook:Qt,makeEvent:Jt,get RejectType(){return t.RejectType},Rejection:Nt,Transition:ve,TransitionHook:Gt,TransitionEventType:kn,defaultTransOpts:_n,TransitionService:Mn,UrlMatcher:qe,UrlMatcherFactory:Ye,UrlRouter:Je,UrlRuleFactory:Ke,BaseUrlRule:Xe,UrlService:ln,ViewService:tn,UIRouterGlobals:en,UIRouter:hn,$q:Dn,$injector:In,BaseLocationServices:Kn,HashLocationService:Xn,MemoryLocationService:Jn,PushStateLocationService:ti,MemoryLocationConfig:ei,BrowserLocationConfig:ni,splitHash:Bn,splitQuery:Pn,splitEqual:Hn,trimHashVal:jn,keyValsToObjectR:Un,getParams:Wn,parseUrl:Vn,buildUrl:zn,locationPluginFactory:qn,servicesPlugin:ii,hashLocationPlugin:ri,pushStateLocationPlugin:oi,memoryLocationPlugin:ai,UIRouterPluginBase:si}),li=angular,ui=e&&e.module?e:li;function hi(){var t=null;return function(e,n){return t=t||N.$injector.get("$templateFactory"),[new mi(e,n,t)]}}var di=function(t,e){return t.reduce((function(t,n){return t||$(e[n])}),!1)};function fi(t){if(!t.parent)return{};var e=["component","bindings","componentProvider"],n=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),i=e.concat(n);if($(t.views)&&di(i,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+i.filter((function(e){return $(t[e])})).join(", "));var r={},o=t.views||{$default:ot(t,i)};return U(o,(function(i,o){if(o=o||"$default",T(i)&&(i={component:i}),i=W({},i),di(e,i)&&di(n,i))throw new Error("Cannot combine: "+e.join("|")+" with: "+n.join("|")+" in stateview: '"+o+"@"+t.name+"'");i.resolveAs=i.resolveAs||"$resolve",i.$type="ng1",i.$context=t,i.$name=o;var a=tn.normalizeUIViewTarget(i.$context,i.$name);i.$uiViewName=a.uiViewName,i.$uiViewContextAnchor=a.uiViewContextAnchor,r[o]=i})),r}var pi=0,mi=function(){function t(t,e,n){var i=this;this.path=t,this.viewDecl=e,this.factory=n,this.$id=pi++,this.loaded=!1,this.getTemplate=function(t,e){return i.component?i.factory.makeComponentTemplate(t,e,i.component,i.viewDecl.bindings):i.template}}return t.prototype.load=function(){var t=this,e=N.$q,n=new pe(this.path),i=this.path.reduce((function(t,e){return W(t,e.paramValues)}),{}),r={template:e.when(this.factory.fromConfig(this.viewDecl,i,n)),controller:e.when(this.getController(n))};return e.all(r).then((function(e){return qt.traceViewServiceEvent("Loaded",t),t.controller=e.controller,W(t,e.template),t}))},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!O(e))return this.viewDecl.controller;var n=N.$injector.annotate(e),i=M(e)?St(e):e;return new ce("",i,n).get(t)},t}(),gi=function(){function t(){var t=this;this._useHttp=ui.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,n,i){return t.$templateRequest=i.has&&i.has("$templateRequest")&&i.get("$templateRequest"),t.$http=e,t.$templateCache=n,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,n){var i=function(t){return N.$q.when(t).then((function(t){return{template:t}}))},r=function(t){return N.$q.when(t).then((function(t){return{component:t}}))};return $(t.template)?i(this.fromString(t.template,e)):$(t.templateUrl)?i(this.fromUrl(t.templateUrl,e)):$(t.templateProvider)?i(this.fromProvider(t.templateProvider,e,n)):$(t.component)?r(t.component):$(t.componentProvider)?r(this.fromComponentProvider(t.componentProvider,e,n)):i("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return k(t)?t(e):t},t.prototype.fromUrl=function(t,e){return k(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then((function(t){return t.data})):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,n){var i=N.$injector.annotate(t),r=M(t)?St(t):t;return new ce("",r,i).get(n)},t.prototype.fromComponentProvider=function(t,e,n){var i=N.$injector.annotate(t),r=M(t)?St(t):t;return new ce("",r,i).get(n)},t.prototype.makeComponentTemplate=function(t,e,n,i){i=i||{};var r=ui.version.minor>=3?"::":"",o=function(t){var e=we(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=function(t){var e=N.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(vi).reduce(mt,[])}(n).map((function(n){var a=n.name,s=n.type,c=o(a);if(t.attr(c)&&!i[a])return c+"='"+t.attr(c)+"'";var l=i[a]||a;if("@"===s)return c+"='{{"+r+"$resolve."+l+"}}'";if("&"===s){var u=e.getResolvable(l),h=u&&u.data,d=h&&N.$injector.annotate(h)||[];return c+"='$resolve."+l+(M(h)?"["+(h.length-1)+"]":"")+"("+d.join(",")+")'"}return c+"='"+r+"$resolve."+l+"'"})).join(" "),s=o(n);return"<"+s+" "+a+"></"+s+">"},t}(),vi=function(t){return _(t.bindToController)?bi(t.bindToController):bi(t.scope)},bi=function(t){return Object.keys(t||{}).map((function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]})).filter((function(t){return $(t)&&M(t[1])})).map((function(t){return{name:t[1][2]||t[0],type:t[1][1]}}))},yi=function(){function t(e,n){this.stateRegistry=e,this.stateService=n,Y(m(t.prototype),this,m(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return _(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),wi=function(t){return function(e,n){var i=e[t],r="onExit"===t?"from":"to";return i?function(t,e){var n=new pe(t.treeChanges(r)),o=W(Ni(n),{$state$:e,$transition$:t});return N.$injector.invoke(i,this,o)}:void 0}},Ei=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=m(t);Y(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return Q(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=_(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,n){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},t.prototype._runtimeServices=function(t,e,n,i){var r=this;this.$location=e,this.$sniffer=n,t.$on("$locationChangeSuccess",(function(t){return r._urlListeners.forEach((function(e){return e(t)}))}));var o=m(e),a=m(i);Y(o,this,o,["replace","path","search","hash"]),Y(o,this,o,["port","protocol","host"]),Y(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,(function(t){return{"~":"~~","/":"~2F"}[t]})):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,(function(t){return{"~~":"~","~2F":"/"}[t]})):t}},t}(),Ci=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!k(t))throw new Error("'rule' must be a function");var n=new Xe((function(){return t(N.$injector,e._router.locationService)}),z);return this._urlRouter.rule(n),this},t.prototype.otherwise=function(t){var e=this,n=this._urlRouter;if(T(t))n.otherwise(t);else{if(!k(t))throw new Error("'rule' must be a string or function");n.otherwise((function(){return t(N.$injector,e._router.locationService)}))}return this},t.prototype.when=function(e,n){return(M(n)||k(n))&&(n=t.injectableHandler(this._router,n)),this._urlRouter.when(e,n),this},t.injectableHandler=function(t,e){return function(n){return N.$injector.invoke(e,null,{$match:n,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();ui.module("ui.router.angular1",[]);var $i=ui.module("ui.router.init",[]),Ai=ui.module("ui.router.util",["ng","ui.router.init"]),xi=ui.module("ui.router.router",["ui.router.util"]),ki=ui.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),Si=ui.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Ti=(ui.module("ui.router.compat",["ui.router"]),null);function _i(t){(Ti=this.router=new hn).stateProvider=new yi(Ti.stateRegistry,Ti.stateService),Ti.stateRegistry.decorator("views",fi),Ti.stateRegistry.decorator("onExit",wi("onExit")),Ti.stateRegistry.decorator("onRetain",wi("onRetain")),Ti.stateRegistry.decorator("onEnter",wi("onEnter")),Ti.viewService._pluginapi._viewConfigFactory("ng1",hi());var e=Ti.locationService=Ti.locationConfig=new Ei(t);function n(t,n,i,r,o,a){return e._runtimeServices(r,t,i,n),delete Ti.router,delete Ti.$get,Ti}return Ei.monkeyPatchPathParameterType(Ti),Ti.router=Ti,Ti.$get=n,n.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],Ti}_i.$inject=["$locationProvider"];var Mi=function(t){return["$uiRouterProvider",function(e){var n=e.router[t];return n.$get=function(){return n},n}]};function Fi(t,e,n){N.$injector=t,N.$q=e,n.stateRegistry.get().map((function(t){return t.$$state().resolvables})).reduce(mt,[]).filter((function(t){return"deferred"===t.deps})).forEach((function(e){return e.deps=t.annotate(e.resolveFn)}))}function Di(t){t.$watch((function(){qt.approximateDigests++}))}Fi.$inject=["$injector","$q","$uiRouter"],Di.$inject=["$rootScope"],$i.provider("$uiRouter",_i),xi.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new Ci(t)}]),Ai.provider("$urlService",Mi("urlService")),Ai.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Ti.urlMatcherFactory}]),Ai.provider("$templateFactory",(function(){return new gi})),ki.provider("$stateRegistry",Mi("stateRegistry")),ki.provider("$uiRouterGlobals",Mi("globals")),ki.provider("$transitions",Mi("transitionService")),ki.provider("$state",["$uiRouterProvider",function(){return W(Ti.stateProvider,{$get:function(){return Ti.stateService}})}]),ki.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),Si.factory("$view",(function(){return Ti.viewService})),Si.service("$trace",(function(){return qt})),Si.run(Di),Ai.run(["$urlMatcherFactory",function(t){}]),ki.run(["$state",function(t){}]),xi.run(["$urlRouter",function(t){}]),$i.run(Fi);var Ri,Oi,Li,Ii,Ni=function(t){return t.getTokens().filter(T).map((function(e){var n=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(n).async?n.promise:n.data]})).reduce(kt,{})};function Bi(t){var e,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t="("+n[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function Pi(t){var e=t.parent().inheritedData("$uiView"),n=s("$cfg.path")(e);return n?St(n).state.name:void 0}function Hi(t,e,n){var i=n.uiState||t.current.name,r=W(function(t,e){return{relative:Pi(t)||e.$current,inherit:!0,source:"sref"}}(e,t),n.uiStateOpts||{}),o=t.href(i,n.uiStateParams,r);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:r,href:o}}function ji(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function Ui(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var c=n((function(){e.go(s.uiState,s.uiStateParams,s.uiStateOpts)}));o.preventDefault();var l=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(c)}}}}function Wi(t,e,n,i){var r;i&&(r=i.events),M(r)||(r=["click"]);for(var o=t.on?"on":"bind",a=0,s=r;a<s.length;a++){var c=s[a];t[o](c,n)}e.$on("$destroy",(function(){for(var e=t.off?"off":"unbind",i=0,o=r;i<o.length;i++){var a=o[i];t[e](a,n)}}))}function Vi(t){var e=function(e,n,i){return t.is(e,n,i)};return e.$stateful=!0,e}function zi(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}function qi(t,n,i,r,o,a){var c=s("viewDecl.controllerAs"),l=s("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(r){var a=r.html();return r.empty(),function(r,s){var u=s.data("$uiView");if(!u)return s.html(a),void t(s.contents())(r);var h=u.$cfg||{viewDecl:{},getTemplate:e.noop},d=h.path&&new pe(h.path);s.html(h.getTemplate(s,d)||a),qt.traceUIViewFill(u.$uiView,s.html());var f=t(s.contents()),p=h.controller,m=c(h),g=l(h),v=d&&Ni(d);if(r[g]=v,p){var b=n(p,W({},v,{$scope:r,$element:s}));m&&(r[m]=b,r[m][g]=v),s.data("$ngControllerController",b),s.children().data("$ngControllerController",b),Gi(o,i,b,r,h)}if(T(h.viewDecl.component))var y=h.viewDecl.component,w=we(y),E=new RegExp("^(x-|data-)?"+w+"$","i"),C=r.$watch((function(){var t=[].slice.call(s[0].children).filter((function(t){return t&&t.tagName&&E.exec(t.tagName)}));return t&&ui.element(t).data("$"+y+"Controller")}),(function(t){t&&(Gi(o,i,t,r,h),C())}));f(r)}}}}Ri=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,c=ji(r),l=a[1]||a[0],u=null,h={},d=function(){return Hi(n,r,h)},f=Bi(o.uiSref);function p(){var t=d();u&&u(),l&&(u=l.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}h.uiState=f.state,h.uiStateOpts=o.uiSrefOpts?i.$eval(o.uiSrefOpts):{},f.paramExpr&&(i.$watch(f.paramExpr,(function(t){h.uiStateParams=W({},t),p()}),!0),h.uiStateParams=W({},i.$eval(f.paramExpr))),p(),i.$on("$destroy",t.stateRegistry.onStatesChanged(p)),i.$on("$destroy",t.transitionService.onSuccess({},p)),c.clickable&&(s=Ui(r,n,e,c,d),Wi(r,i,s,h.uiStateOpts))}}}],Oi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,c=ji(r),l=a[1]||a[0],u=null,h={},d=function(){return Hi(n,r,h)},f=["uiState","uiStateParams","uiStateOpts"],p=f.reduce((function(t,e){return t[e]=q,t}),{});function m(){var t=d();u&&u(),l&&(u=l.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}f.forEach((function(t){h[t]=o[t]?i.$eval(o[t]):null,o.$observe(t,(function(e){p[t](),p[t]=i.$watch(e,(function(e){h[t]=e,m()}),!0)}))})),m(),i.$on("$destroy",t.stateRegistry.onStatesChanged(m)),i.$on("$destroy",t.transitionService.onSuccess({},m)),c.clickable&&(s=Ui(r,n,e,c,d),Wi(r,i,s,h.uiStateOpts))}}}],Li=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,n,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,o){var a,s,c=[];a=n(o.uiSrefActiveEq||"",!1)(e);try{s=e.$eval(o.uiSrefActive)}catch(t){}function l(t){t.promise.then(h)}function u(e,n,i){var o={state:t.get(e,Pi(r))||{name:e},params:n,activeClass:i};return c.push(o),function(){Q(c)(o)}}function h(){var n=function(t){return t.split(/\s/).filter(z)},i=function(t){return t.map((function(t){return t.activeClass})).map(n).reduce(mt,[])},o=i(c).concat(n(a)).reduce(bt,[]),s=i(c.filter((function(e){return t.includes(e.state.name,e.params)}))),l=c.filter((function(e){return t.is(e.state.name,e.params)})).length?n(a):[],u=s.concat(l).reduce(bt,[]),h=o.filter((function(t){return!G(u,t)}));e.$evalAsync((function(){u.forEach((function(t){return r.addClass(t)})),h.forEach((function(t){return r.removeClass(t)}))}))}s=s||n(o.uiSrefActive||"",!1)(e),_(s)&&U(s,(function(t,n){if(T(t)){var i=Bi(t);u(i.state,e.$eval(i.paramExpr),n)}})),this.$$addStateInfo=function(t,e){if(!(_(s)&&c.length>0)){var n=u(t,e,s);return h(),n}},e.$on("$stateChangeSuccess",h),e.$on("$destroy",i.transitionService.onStart({},l)),i.globals.transition&&l(i.globals.transition),h()}]}}],ui.module("ui.router.state").directive("uiSref",Ri).directive("uiSrefActive",Li).directive("uiSrefActiveEq",Li).directive("uiState",Oi),Vi.$inject=["$state"],zi.$inject=["$state"],ui.module("ui.router.state").filter("isState",Vi).filter("includedByState",zi),Ii=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,i,r){var o={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},a={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,l,u){return function(c,l,h){var d,f,p,m,g=h.onload||"",v=h.autoscroll,b=function(t,n,i){ui.version.minor>2?e.enter(t,null,n).then(i):e.enter(t,null,n,i)},y=function(t,n){ui.version.minor>2?e.leave(t).then(n):e.leave(t,n)},w=void 0,E=l.inheritedData("$uiView")||o,C=i(h.uiView||h.name||"")(c)||"$default",A={$type:"ng1",id:a.count++,name:C,fqn:E.$uiView.fqn?E.$uiView.fqn+"."+C:C,config:null,configUpdated:function(t){(!t||t instanceof mi)&&(w!==t&&(qt.traceUIViewConfigUpdated(A,t&&t.viewDecl&&t.viewDecl.$context),w=t,x(t)))},get creationContext(){var t=s("$cfg.viewDecl.$context")(E),e=s("$uiView.creationContext")(E);return t||e}};function x(t){var e=c.$new(),i=r.defer(),o=r.defer(),a={$cfg:t,$uiView:A},s={$animEnter:i.promise,$animLeave:o.promise,$$animLeave:o};e.$emit("$viewContentLoading",C);var h=u(e,(function(t){t.data("$uiViewAnim",s),t.data("$uiView",a),b(t,l,(function(){i.resolve(),p&&p.$emit("$viewContentAnimationEnded"),($(v)&&!v||c.$eval(v))&&n(t)})),function(){if(d&&(qt.traceUIViewEvent("Removing (previous) el",d.data("$uiView")),d.remove(),d=null),p&&(qt.traceUIViewEvent("Destroying scope",A),p.$destroy(),p=null),f){var t=f.data("$uiViewAnim");qt.traceUIViewEvent("Animate out",t),y(f,(function(){t.$$animLeave.resolve(),d=null})),d=f,f=null}}()}));f=h,(p=e).$emit("$viewContentLoaded",t||w),p.$eval(g)}qt.traceUIViewEvent("Linking",A),l.data("$uiView",{$uiView:A}),x(),m=t.registerUIView(A),c.$on("$destroy",(function(){qt.traceUIViewEvent("Destroying/Unregistering",A),m()}))}}};return a}],qi.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var Yi="function"==typeof ui.module("ui.router").component,Ki=0;function Gi(t,e,n,i,r){!k(n.$onInit)||r.viewDecl.component&&Yi||n.$onInit();var o=St(r.path).state.self,a={bind:n};if(k(n.uiOnParamsChanged)){var s=new pe(r.path).getResolvable("$transition$").data;i.$on("$destroy",e.onSuccess({},(function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),i=t.params("from"),r=t.treeChanges().to.map((function(t){return t.paramSchema})).reduce(mt,[]),a=t.treeChanges().from.map((function(t){return t.paramSchema})).reduce(mt,[]),c=r.filter((function(t){var n=a.indexOf(t);return-1===n||!a[n].type.equals(e[t.id],i[t.id])}));if(c.length){var l=c.map((function(t){return t.id})),u=ct(e,(function(t,e){return-1!==l.indexOf(e)}));n.uiOnParamsChanged(u,t)}}}),a))}if(k(n.uiCanExit)){var c=Ki++,l="_uiCanExitIds",u=function(t){return!!t&&(t[l]&&!0===t[l][c]||u(t.redirectedFrom()))},h={exiting:o.name};i.$on("$destroy",e.onBefore(h,(function(e){var i,r=e[l]=e[l]||{};return u(e)||(i=t.when(n.uiCanExit(e))).then((function(t){return r[c]=!1!==t})),i}),a))}}ui.module("ui.router.state").directive("uiView",Ii),ui.module("ui.router.state").directive("uiView",qi),ui.module("ui.router.state").provider("$uiViewScroll",(function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n((function(){t[0].scrollIntoView()}),0,!1)}}]})),t.core=ci,t.default="ui.router",t.fromJson=P,t.toJson=H,t.copy=j,t.forEach=U,t.extend=W,t.equals=V,t.identity=z,t.noop=q,t.createProxyFunctions=Y,t.inherit=K,t.inArray=G,t._inArray=X,t.removeFrom=Q,t._removeFrom=J,t.pushTo=Z,t._pushTo=tt,t.deregAll=et,t.defaults=nt,t.mergeR=it,t.ancestors=rt,t.pick=ot,t.omit=at,t.pluck=st,t.filter=ct,t.find=lt,t.mapObj=ut,t.map=ht,t.values=dt,t.allTrueR=ft,t.anyTrueR=pt,t.unnestR=mt,t.flattenR=gt,t.pushR=vt,t.uniqR=bt,t.unnest=yt,t.flatten=wt,t.assertPredicate=Et,t.assertMap=Ct,t.assertFn=$t,t.pairs=At,t.arrayTuples=xt,t.applyPairs=kt,t.tail=St,t._extend=Tt,t.sortBy=Mt,t.composeSort=Ft,t.silenceUncaughtInPromise=Dt,t.silentRejection=Rt,t.notImplemented=I,t.services=N,t.Glob=b,t.curry=n,t.compose=i,t.pipe=r,t.prop=o,t.propEq=a,t.parse=s,t.not=c,t.and=l,t.or=u,t.all=h,t.any=d,t.is=f,t.eq=p,t.val=m,t.invoke=g,t.pattern=v,t.isUndefined=C,t.isDefined=$,t.isNull=A,t.isNullOrUndefined=x,t.isFunction=k,t.isNumber=S,t.isString=T,t.isObject=_,t.isArray=M,t.isDate=F,t.isRegExp=D,t.isState=R,t.isInjectable=O,t.isPromise=L,t.Queue=Ot,t.maxLength=be,t.padString=ye,t.kebobString=we,t.functionToString=Ee,t.fnToString=Ce,t.stringify=xe,t.beforeAfterSubstr=ke,t.splitOnDelim=Se,t.joinNeighborsR=Te,t.Trace=zt,t.trace=qt,t.Param=re,t.ParamTypes=Me,t.StateParams=Fe,t.ParamType=te,t.PathNode=oe,t.PathUtils=ae,t.resolvePolicies=le,t.defaultResolvePolicy=se,t.Resolvable=ce,t.NATIVE_INJECTOR_TOKEN=fe,t.ResolveContext=pe,t.resolvablesBuilder=Pe,t.StateBuilder=He,t.StateObject=y,t.StateMatcher=je,t.StateQueueManager=Ue,t.StateRegistry=We,t.StateService=Fn,t.TargetState=Yt,t.HookBuilder=Zt,t.matchState=Xt,t.RegisteredHook=Qt,t.makeEvent=Jt,t.Rejection=Nt,t.Transition=ve,t.TransitionHook=Gt,t.TransitionEventType=kn,t.defaultTransOpts=_n,t.TransitionService=Mn,t.UrlMatcher=qe,t.UrlMatcherFactory=Ye,t.UrlRouter=Je,t.UrlRuleFactory=Ke,t.BaseUrlRule=Xe,t.UrlService=ln,t.ViewService=tn,t.UIRouterGlobals=en,t.UIRouter=hn,t.$q=Dn,t.$injector=In,t.BaseLocationServices=Kn,t.HashLocationService=Xn,t.MemoryLocationService=Jn,t.PushStateLocationService=ti,t.MemoryLocationConfig=ei,t.BrowserLocationConfig=ni,t.splitHash=Bn,t.splitQuery=Pn,t.splitEqual=Hn,t.trimHashVal=jn,t.keyValsToObjectR=Un,t.getParams=Wn,t.parseUrl=Vn,t.buildUrl=zn,t.locationPluginFactory=qn,t.servicesPlugin=ii,t.hashLocationPlugin=ri,t.pushStateLocationPlugin=oi,t.memoryLocationPlugin=ai,t.UIRouterPluginBase=si,t.watchDigests=Di,t.getLocals=Ni,t.getNg1ViewConfigFactory=hi,t.ng1ViewsBuilder=fi,t.Ng1ViewConfig=mi,t.StateProvider=yi,t.UrlRouterProvider=Ci,Object.defineProperty(t,"__esModule",{value:!0})})),function(t,e){"use strict";function n(t,n,i){var r=i.baseHref(),o=t[0];return function(t,i,a){o.cookie=function(t,i,o){var a,s;s=(o=o||{}).expires,a=e.isDefined(o.path)?o.path:r,e.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(s)&&(s=new Date(s));var c=encodeURIComponent(t)+"="+encodeURIComponent(i);c+=a?";path="+a:"",c+=o.domain?";domain="+o.domain:"",c+=s?";expires="+s.toUTCString():"";var l=(c+=o.secure?";secure":"").length+1;return l>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),c}(t,i,a)}}e.module("ngCookies",["ng"]).info({angularVersion:"1.6.4"}).provider("$cookies",[function(){var t=this.defaults={};function n(n){return n?e.extend({},t,n):t}this.$get=["$$cookieReader","$$cookieWriter",function(t,i){return{get:function(e){return t()[e]},getObject:function(t){var n=this.get(t);return n?e.fromJson(n):n},getAll:function(){return t()},put:function(t,e,r){i(t,e,n(r))},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(t,e){i(t,void 0,n(e))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),n.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=n}))}(window,window.angular),function(t,e){"use strict";var n,i,r,o;function a(){return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(e,n,r,o,a){var s,c,l,u=n[0],h=r.ngMessage||r.when,d=r.ngMessageExp||r.whenExp,f=function(t){s=t?i(t)?t:t.split(/[\s,]+/):null,o.reRender()};d?(f(e.$eval(d)),e.$watchCollection(d,f)):f(h),o.register(u,l={test:function(t){return function(t,e){if(t)return i(t)?t.indexOf(e)>=0:t.hasOwnProperty(e)}(s,t)},attach:function(){c||a((function(e,i){t.enter(e,null,n);var r=(c=e).$$attachId=o.getAttachId();c.on("$destroy",(function(){c&&c.$$attachId===r&&(o.deregister(u),l.detach()),i.$destroy()}))}))},detach:function(){if(c){var e=c;c=null,t.leave(e)}}})}}}]}e.module("ngMessages",[],(function(){n=e.forEach,i=e.isArray,r=e.isString,o=e.element})).info({angularVersion:"1.6.4"}).directive("ngMessages",["$animate",function(t){var e="ng-active",i="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,s,c){var l=this,u=0,h=0;this.getAttachId=function(){return h++};var d,f,p=this.messages={};function m(t,e){for(var n=e,i=[];n&&n!==t;){var r=n.$$ngMessageNode;if(r&&r.length)return p[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}this.render=function(u){d=!1,f=u=u||{};for(var h=o(s,c.ngMessagesMultiple)||o(s,c.multiple),p=[],m={},g=l.head,v=!1,b=0;null!=g;){b++;var y=g.message,w=!1;v||n(u,(function(t,e){if(!w&&a(t)&&y.test(e)){if(m[e])return;m[e]=!0,w=!0,y.attach()}})),w?v=!h:p.push(y),g=g.next}n(p,(function(t){t.detach()})),p.length!==b?t.setClass(r,e,i):t.setClass(r,i,e)},s.$watchCollection(c.ngMessages||c.for,l.render),r.on("$destroy",(function(){n(p,(function(t){t.message.detach()}))})),this.reRender=function(){d||(d=!0,s.$evalAsync((function(){d&&f&&l.render(f)})))},this.register=function(t,e){var n=u.toString();p[n]={message:e},function(t,e,n){var i=p[n];if(l.head){var r=m(t,e);r?(i.next=r.next,r.next=i):(i.next=l.head,l.head=i)}else l.head=i}(r[0],t,n),t.$$ngMessageNode=n,u++,l.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,function(t,e,n){var i=p[n],r=m(t,e);r?r.next=i.next:l.head=i.next}(r[0],t,e),delete p[e],l.reRender()}}]};function o(t,e){return r(e)&&0===e.length||a(t.$eval(e))}function a(t){return r(t)?t.length:!!t}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){return{restrict:"AE",require:"^^ngMessages",link:function(e,o,a){var s=a.ngMessagesInclude||a.src;t(s).then((function(t){e.$$destroyed||(r(t)&&!t.trim()?i(o,s):n(t)(e,(function(t){o.after(t),i(o,s)})))}))}};function i(t,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):e[0].createComment(" ngMessagesInclude: "+i+" "),a=o(r);t.after(a),t.remove()}}]).directive("ngMessage",a()).directive("ngMessageExp",a())}(window,window.angular),function(t,e){"use strict";var n,i,r,o,a=1,s="-add",c="-remove",l="ng-animate",u="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(n="WebkitTransition",i="webkitTransitionEnd transitionend"):(n="transition",i="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(r="WebkitAnimation",o="webkitAnimationEnd animationend"):(r="animation",o="animationend");var h="Duration",d="Property",f="Delay",p="TimingFunction",m=r+f,g=r+h,v=n+f,b=n+h,y=e.$$minErr("ng");function w(t,e,n){if(!t)throw y("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function E(t,e){return t||e?t?e?(X(t)&&(t=t.join(" ")),X(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function C(t,e,n){var i="";return t=X(t)?t:t&&et(t)&&t.length?t.split(/\s+/):[],G(t,(function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)})),i}function $(t){if(t instanceof it)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===a)return t;break;default:return it(A(t))}if(t.nodeType===a)return it(t)}function A(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===a)return n}}function x(t){return function(e,n){n.addClass&&(function(t,e,n){G(e,(function(e){t.addClass(e,n)}))}(t,e,n.addClass),n.addClass=null),n.removeClass&&(function(t,e,n){G(e,(function(e){t.removeClass(e,n)}))}(t,e,n.removeClass),n.removeClass=null)}}function k(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||rt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=rt},t.$$prepared=!0}return t}function S(t,e){T(t,e),_(t,e)}function T(t,e){e.from&&(t.css(e.from),e.from=null)}function _(t,e){e.to&&(t.css(e.to),e.to=null)}function M(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),l=function(t,e,n){var i={};t=o(t),e=o(e),G(e,(function(t,e){i[e]=1})),n=o(n),G(n,(function(t,e){i[e]=1===i[e]?null:-1}));var r={addClass:"",removeClass:""};function o(t){et(t)&&(t=t.split(" "));var e={};return G(t,(function(t){t.length&&(e[t]=!0)})),e}return G(i,(function(e,n){var i,o;1===e?(i="addClass",o=!t[n]||t[n+c]):-1===e&&(i="removeClass",o=t[n]||t[n+s]),o&&(r[i].length&&(r[i]+=" "),r[i]+=n)})),r}(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=L(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==rt?i.domOperation:null;return K(i,r),u&&(i.domOperation=u),l.addClass?i.addClass=l.addClass:i.addClass=null,l.removeClass?i.removeClass=l.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function F(t){return t instanceof it?t[0]:t}function D(t,e){var n=e?"-"+e+"s":"";return O(t,[v,n]),[v,n]}function R(t,e){var n=e?"paused":"",i=r+"PlayState";return O(t,[i,n]),[i,n]}function O(t,e){var n=e[0],i=e[1];t.style[n]=i}function L(t,e){return t?e?t+" "+e:t:e}var I=["$interpolate",function(t){return{link:function(e,n,i){var r=i.ngAnimateChildren;function o(t){t="on"===t||"true"===t,n.data(u,t)}et(r)&&0===r.length?n.data(u,!0):(o(t(r)(e)),i.$observe("ngAnimateChildren",o))}}}],N="$$animateCss",B=1e3,P={transitionDuration:b,transitionDelay:v,transitionProperty:n+d,animationDuration:g,animationDelay:m,animationIterationCount:r+"IterationCount"},H={transitionDuration:b,transitionDelay:v,animationDuration:g,animationDelay:m};function j(t,e){return[e?m:v,t+"s"]}function U(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return G(n,(function(t,e){var n,o,a=r[t];if(a){var s=a.charAt(0);("-"===s||"+"===s||s>=0)&&(n=0,o=a.split(/\s*,\s*/),G(o,(function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t})),a=n),0===a&&(a=null),i[e]=a}})),i}function W(t){return 0===t||null!=t}function V(t,e){var i=n,r=t+"s";return e?i+=h:r+=" linear all",[i,r]}function z(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function q(t,e,n){G(n,(function(n){t[n]=Q(t[n])?t[n]:e.style.getPropertyValue(n)}))}var Y,K,G,X,Q,J,Z,tt,et,nt,it,rt,ot=["$animateProvider",function(t){var e=z(),a=z();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,l,u,h,f,m,v,b){var y=x(l),w=0;function E(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++w))+"-"+t.getAttribute("class")+"-"+e}var $=[];function A(t){$.push(t),v.waitUntilQuiet((function(){e.flush(),a.flush();for(var t=f(),n=0;n<$.length;n++)$[n](t);$.length=0}))}function M(n,i,r){var o=function(n,i,r,o){var a=e.get(r);return a||"infinite"===(a=U(t,n,o)).animationIterationCount&&(a.animationIterationCount=1),e.put(r,a),a}(n,0,r,P),a=o.animationDelay,s=o.transitionDelay;return o.maxDelay=a&&s?Math.max(a,s):a||s,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(f,v){var w=v||{};w.$$prepared||(w=k(Y(w)));var $={},x=F(f);if(!x||!x.parentNode||!b.enabled())return Ft();var L,I,P,z,K,Q,J,Z,tt,et,nt=[],it=f.attr("class"),ot=function(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}(w),at=[];if(0===w.duration||!m.animations&&!m.transitions)return Ft();var st=w.event&&X(w.event)?w.event.join(" "):w.event,ct="",lt="";st&&w.structural?ct=C(st,"ng-",!0):st&&(ct=st),w.addClass&&(lt+=C(w.addClass,s)),w.removeClass&&(lt.length&&(lt+=" "),lt+=C(w.removeClass,c)),w.applyClassesEarly&&lt.length&&y(f,w);var ut,ht,dt,ft=[ct,lt].join(" ").trim(),pt=it+" "+ft,mt=C(ft,"-active"),gt=ot.to&&Object.keys(ot.to).length>0;if(!((w.keyframeStyle||"").length>0||gt||ft))return Ft();if(w.stagger>0){var vt=parseFloat(w.stagger);ht={transitionDelay:vt,animationDelay:vt,transitionDuration:0,animationDuration:0}}else ut=E(x,pt),ht=function(n,i,r,o){var s;if(e.count(r)>0&&!(s=a.get(r))){var c=C(i,"-stagger");l.addClass(n,c),(s=U(t,n,o)).animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),l.removeClass(n,c),a.put(r,s)}return s||{}}(x,ft,ut,H);if(w.$$skipPreparationClasses||l.addClass(f,ft),w.transitionStyle){var bt=[n,w.transitionStyle];O(x,bt),nt.push(bt)}if(w.duration>=0){dt=x.style[n].length>0;var yt=V(w.duration,dt);O(x,yt),nt.push(yt)}if(w.keyframeStyle){var wt=[r,w.keyframeStyle];O(x,wt),nt.push(wt)}var Et=ht?w.staggerIndex>=0?w.staggerIndex:e.count(ut):0,Ct=0===Et;Ct&&!w.skipBlocking&&D(x,9999);var $t=M(x,0,ut),At=$t.maxDelay;Q=Math.max(At,0),Z=$t.maxDuration;var xt,kt={};return kt.hasTransitions=$t.transitionDuration>0,kt.hasAnimations=$t.animationDuration>0,kt.hasTransitionAll=kt.hasTransitions&&"all"===$t.transitionProperty,kt.applyTransitionDuration=gt&&(kt.hasTransitions&&!kt.hasTransitionAll||kt.hasAnimations&&!kt.hasTransitions),kt.applyAnimationDuration=w.duration&&kt.hasAnimations,kt.applyTransitionDelay=W(w.delay)&&(kt.applyTransitionDuration||kt.hasTransitions),kt.applyAnimationDelay=W(w.delay)&&kt.hasAnimations,kt.recalculateTimingStyles=lt.length>0,(kt.applyTransitionDuration||kt.applyAnimationDuration)&&(Z=w.duration?parseFloat(w.duration):Z,kt.applyTransitionDuration&&(kt.hasTransitions=!0,$t.transitionDuration=Z,dt=x.style[n+d].length>0,nt.push(V(Z,dt))),kt.applyAnimationDuration&&(kt.hasAnimations=!0,$t.animationDuration=Z,nt.push([g,Z+"s"]))),0!==Z||kt.recalculateTimingStyles?(null!=w.delay&&("boolean"!=typeof w.delay&&(xt=parseFloat(w.delay),Q=Math.max(xt,0)),kt.applyTransitionDelay&&nt.push(j(xt)),kt.applyAnimationDelay&&nt.push(j(xt,!0))),null==w.duration&&$t.transitionDuration>0&&(kt.recalculateTimingStyles=kt.recalculateTimingStyles||Ct),J=Q*B,tt=Z*B,w.skipBlocking||(kt.blockTransition=$t.transitionDuration>0,kt.blockKeyframeAnimation=$t.animationDuration>0&&ht.animationDelay>0&&0===ht.animationDuration),w.from&&(w.cleanupStyles&&q($,x,Object.keys(w.from)),T(f,w)),kt.blockTransition||kt.blockKeyframeAnimation?Mt(Z):w.skipBlocking||D(x,!1),{$$willAnimate:!0,end:St,start:function(){if(!L)return z=new u(K={end:St,cancel:Tt,resume:null,pause:null}),A(Rt),z}}):Ft();function St(){_t()}function Tt(){_t(!0)}function _t(t){if(!(L||P&&I)){L=!0,I=!1,w.$$skipPreparationClasses||l.removeClass(f,ft),l.removeClass(f,mt),R(x,!1),D(x,!1),G(nt,(function(t){x.style[t[0]]=""})),y(f,w),S(f,w),Object.keys($).length&&G($,(function(t,e){t?x.style.setProperty(e,t):x.style.removeProperty(e)})),w.onDone&&w.onDone(),at&&at.length&&f.off(at.join(" "),Dt);var e=f.data(N);e&&(h.cancel(e[0].timer),f.removeData(N)),z&&z.complete(!t)}}function Mt(t){kt.blockTransition&&D(x,t),kt.blockKeyframeAnimation&&R(x,!!t)}function Ft(){return z=new u({end:St,cancel:Tt}),A(rt),_t(),{$$willAnimate:!1,start:function(){return z},end:St}}function Dt(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-et,0)>=J&&i>=Z&&(P=!0,_t())}function Rt(){if(!L)if(x.parentNode){var t=function(t){if(P)I&&t&&(I=!1,_t());else if(I=!t,$t.animationDuration){var e=R(x,I);I?nt.push(e):(i=e,r=(n=nt).indexOf(i),i>=0&&n.splice(r,1))}var n,i,r},e=Et>0&&($t.transitionDuration&&0===ht.transitionDuration||$t.animationDuration&&0===ht.animationDuration)&&Math.max(ht.animationDelay,ht.transitionDelay);e?h(a,Math.floor(e*Et*B),!1):a(),K.resume=function(){t(!0)},K.pause=function(){t(!1)}}else _t();function a(){if(!L){if(Mt(!1),G(nt,(function(t){var e=t[0],n=t[1];x.style[e]=n})),y(f,w),l.addClass(f,mt),kt.recalculateTimingStyles){if(pt=x.getAttribute("class")+" "+ft,ut=E(x,pt),$t=M(x,0,ut),At=$t.maxDelay,Q=Math.max(At,0),0===(Z=$t.maxDuration))return void _t();kt.hasTransitions=$t.transitionDuration>0,kt.hasAnimations=$t.animationDuration>0}if(kt.applyAnimationDelay&&(At="boolean"!=typeof w.delay&&W(w.delay)?parseFloat(w.delay):At,Q=Math.max(At,0),$t.animationDelay=At,xt=j(At,!0),nt.push(xt),x.style[xt[0]]=xt[1]),J=Q*B,tt=Z*B,w.easing){var t,e=w.easing;kt.hasTransitions&&(t=n+p,nt.push([t,e]),x.style[t]=e),kt.hasAnimations&&(t=r+p,nt.push([t,e]),x.style[t]=e)}$t.transitionDuration&&at.push(i),$t.animationDuration&&at.push(o),et=Date.now();var a=J+1.5*tt,c=et+a,u=f.data(N)||[],d=!0;if(u.length){var m=u[0];(d=c>m.expectedEndTime)?h.cancel(m.timer):u.push(_t)}if(d){var g=h(s,a,!1);u[0]={timer:g,expectedEndTime:c},u.push(_t),f.data(N,u)}at.length&&f.on(at.join(" "),Dt),w.to&&(w.cleanupStyles&&q($,x,Object.keys(w.to)),_(f,w))}}function s(){var t=f.data(N);if(t){for(var e=1;e<t.length;e++)t[e]();f.removeData(N)}}}}}]}],at=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,i,r,o,a,s,c){if(!a.animations&&!a.transitions)return rt;var l,u=c[0].body,h=F(o),d=it((l=h).parentNode&&11===l.parentNode.nodeType||u.contains(h)?h:u);return function(i){return i.from&&i.to?function(i,o,a,s){var c=m(i),l=m(o),h=[];if(G(s,(function(i){var o=function(i,o,a){var s=it(F(o).cloneNode(!0)),c=f(v(s));o.addClass(e),a.addClass(e),s.addClass("ng-anchor"),d.append(s);var l,h=function(){var e=t(s,{addClass:n,delay:!0,from:g(o)});return e.$$willAnimate?e:null}();if(!h&&!(l=b()))return y();var m=h||l;return{start:function(){var t,e=m.start();return e.done((function(){if(e=null,!l&&(l=b()))return(e=l.start()).done((function(){e=null,y(),t.complete()})),e;y(),t.complete()})),t=new r({end:n,cancel:n});function n(){e&&e.end()}}};function g(t){var e={},n=F(t).getBoundingClientRect();return G(["width","height","top","left"],(function(t){var i=n[t];switch(t){case"top":i+=u.scrollTop;break;case"left":i+=u.scrollLeft}e[t]=Math.floor(i)+"px"})),e}function v(t){return t.attr("class")||""}function b(){var e=f(v(a)),i=p(e,c),r=p(c,e),o=t(s,{to:g(a),addClass:"ng-anchor-in "+i,removeClass:n+" "+r,delay:!0});return o.$$willAnimate?o:null}function y(){s.remove(),o.removeClass(e),a.removeClass(e)}}(0,i.out,i.in);o&&h.push(o)})),c||l||0!==h.length)return{start:function(){var t=[];c&&t.push(c.start()),l&&t.push(l.start()),G(h,(function(e){t.push(e.start())}));var e=new r({end:n,cancel:n});return r.all(t,(function(t){e.complete(t)})),e;function n(){G(t,(function(t){t.end()}))}}}}(i.from,i.to,i.classes,i.anchors):m(i)};function f(t){return t.replace(/\bng-\S+\b/g,"")}function p(t,e){return et(t)&&(t=t.split(" ")),et(e)&&(e=e.split(" ")),t.filter((function(t){return-1===e.indexOf(t)})).join(" ")}function m(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=L(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}}]}],st=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){var r=x(i);return function(i,o,a,s){var c=!1;3===arguments.length&&tt(a)&&(s=a,a=null),s=k(s),a||(a=i.attr("class")||"",s.addClass&&(a+=" "+s.addClass),s.removeClass&&(a+=" "+s.removeClass));var l,u,h,d,f,p=s.addClass,m=s.removeClass,g=function(n){n=X(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}(a);if(g.length&&("leave"===o?(d="leave",h="afterLeave"):(d="before"+o.charAt(0).toUpperCase()+o.substr(1),h=o),"enter"!==o&&"move"!==o&&(l=w(i,o,s,g,d)),u=w(i,o,s,g,h)),l||u)return{$$willAnimate:!0,end:function(){return f?f.end():(b(),(f=new n).complete(!0)),f},start:function(){if(f)return f;var t;f=new n;var e=[];return l&&e.push((function(e){t=l(e)})),e.length?e.push((function(t){v(),t(!0)})):v(),u&&e.push((function(e){t=u(e)})),f.setHost({end:function(){r()},cancel:function(){r(!0)}}),n.chain(e,i),f;function i(t){b(),f.complete(t)}function r(e){c||((t||rt)(e),i(e))}}};function v(){s.domOperation(),r(i,s)}function b(){c=!0,v(),S(i,s)}function y(t,e,i,r,o){var a=[];return G(r,(function(r){var s=r[o];s&&a.push((function(){var r,o,a=!1,c=function(t){a||(a=!0,(o||rt)(t),r.complete(!t))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=function(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,p,m,o];break;case"addClass":a=[e,p,o];break;case"removeClass":a=[e,m,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(Z(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Z(s))return s;return rt}(s,t,e,i,(function(t){c(!1===t)})),r}))})),a}function w(t,e,i,r,o){var a,s,c=y(t,e,i,r,o);if(0===c.length&&("beforeSetClass"===o?(a=y(t,"removeClass",i,r,"beforeRemoveClass"),s=y(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(a=y(t,"removeClass",i,r,"removeClass"),s=y(t,"addClass",i,r,"addClass")),a&&(c=c.concat(a)),s&&(c=c.concat(s))),0!==c.length)return function(t){var e=[];return c.length&&G(c,(function(t){e.push(t())})),e.length?n.all(e,t):t(),function(t){G(e,(function(e){t?e.cancel():e.end()}))}}}}}]}],ct=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){var t=[];i&&t.push(i.start()),r&&t.push(r.start()),e.all(t,(function(t){n.complete(t)}));var n=new e({end:o(),cancel:o()});return n;function o(){return function(){G(t,(function(t){t.end()}))}}}}}return n(t)};function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}}]}],lt="data-ng-animate",ut="$ngAnimatePin",ht=["$animateProvider",function(e){var n=this.rules={skip:[],cancel:[],join:[]};function i(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(" "),n=Object.create(null);return G(e,(function(t){n[t]=!0})),n}(e);return t.split(" ").some((function(t){return n[t]}))}}function r(t,e,i){return n[t].some((function(t){return t(e,i)}))}function o(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}n.join.push((function(t,e){return!t.structural&&o(t)})),n.skip.push((function(t,e){return!t.structural&&!o(t)})),n.skip.push((function(t,e){return"leave"===e.event&&t.structural})),n.skip.push((function(t,e){return e.structural&&2===e.state&&!t.structural})),n.cancel.push((function(t,e){return e.structural&&t.structural})),n.cancel.push((function(t,e){return 2===e.state&&t.structural})),n.cancel.push((function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,o=e.addClass,a=e.removeClass;return!(nt(n)&&nt(r)||nt(o)&&nt(a))&&(i(n,a)||i(r,o))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,i,l,h,d,f,p,m,g,v,b){var y=new d,E=new d,T=null,_=i.$watch((function(){return 0===m.totalPendingRequests}),(function(t){t&&(_(),i.$$postDigest((function(){i.$$postDigest((function(){null===T&&(T=!0)}))})))})),D=Object.create(null),R=e.classNameFilter(),O=R?function(t){return R.test(t)}:function(){return!0},I=x(g);function N(t,e){return M(t,e,{})}var B=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function P(t,e,n){var i=A(e);return t.filter((function(t){return!(t.node===i&&(!n||t.callback===n))}))}function H(t,e){"close"!==t||e.parentNode||j.off(e)}var j={on:function(t,e,n){var i=A(e);D[t]=D[t]||[],D[t].push({node:i,callback:n}),it(e).on("$destroy",(function(){y.get(i)||j.off(t,e,n)}))},off:function(t,e,n){if(1!==arguments.length||et(arguments[0])){var i=D[t];i&&(D[t]=1===arguments.length?null:P(i,e,n))}else for(var r in e=arguments[0],D)D[r]=P(D[r],e)},pin:function(t,e){w(J(t),"element","not an element"),w(J(e),"parentElement","not an element"),t.data(ut,e)},push:function(t,e,d,m){return(d=d||{}).domOperation=m,function(t,e,d){var m=Y(d),g=$(t),v=F(g),w=v&&v.parentNode;m=k(m);var A,x=new p,_=(A=!1,function(t){A?t():i.$$postDigest((function(){A=!0,t()}))});if(X(m.addClass)&&(m.addClass=m.addClass.join(" ")),m.addClass&&!et(m.addClass)&&(m.addClass=null),X(m.removeClass)&&(m.removeClass=m.removeClass.join(" ")),m.removeClass&&!et(m.removeClass)&&(m.removeClass=null),m.from&&!tt(m.from)&&(m.from=null),m.to&&!tt(m.to)&&(m.to=null),!v)return ot(),x;var R=[v.getAttribute("class"),m.addClass,m.removeClass].join(" ");if(!O(R))return ot(),x;var P=["enter","move","leave"].indexOf(e)>=0,j=b(),V=!T||j||E.get(v),z=!V&&y.get(v)||{},q=!!z.state;if(V||q&&1===z.state||(V=!function(t,e,n){var i,r=h[0].body,o=F(l),s=t===r||"HTML"===t.nodeName,c=t===o,d=!1,f=E.get(t),p=it.data(t,ut);for(p&&(e=F(p));e&&(c||(c=e===o),e.nodeType===a);){var m=y.get(e)||{};if(!d){var g=E.get(e);if(!0===g&&!1!==f){f=!0;break}!1===g&&(f=!1),d=m.structural}if(nt(i)||!0===i){var v=it.data(e,u);Q(v)&&(i=v)}if(d&&!1===i)break;if(s||(s=e===r),s&&c)break;e=c||!(p=it.data(e,ut))?e.parentNode:F(p)}return(!d||i)&&!0!==f&&c&&s}(v,w)),V)return j&&rt(x,e,"start"),ot(),j&&rt(x,e,"close"),x;P&&function(t){var e=t.querySelectorAll("["+lt+"]");G(e,(function(t){var e=parseInt(t.getAttribute(lt),10),n=y.get(t);if(n)switch(e){case 2:n.runner.end();case 1:y.delete(t)}}))}(v);var K={structural:P,element:g,event:e,addClass:m.addClass,removeClass:m.removeClass,close:ot,options:m,runner:x};if(q){if(r("skip",K,z))return 2===z.state?(ot(),x):(M(g,z,K),z.runner);if(r("cancel",K,z))if(2===z.state)z.runner.end();else{if(!z.structural)return M(g,z,K),z.runner;z.close()}else if(r("join",K,z)){if(2!==z.state)return function(t,e,n){var i="";e&&(i=C(e,"ng-",!0)),n.addClass&&(i=L(i,C(n.addClass,s))),n.removeClass&&(i=L(i,C(n.removeClass,c))),i.length&&(n.preparationClasses=i,t.addClass(i))}(g,P?e:null,m),e=K.event=z.event,m=M(g,z,K),z.runner;N(g,K)}}else N(g,K);var J=K.structural;if(J||(J="animate"===K.event&&Object.keys(K.options.to||{}).length>0||o(K)),!J)return ot(),U(v),x;var Z=(z.counter||0)+1;return K.counter=Z,W(v,1,K),i.$$postDigest((function(){g=$(t);var n=y.get(v),i=!n;n=n||{};var r=(g.parent()||[]).length>0&&("animate"===n.event||n.structural||o(n));if(i||n.counter!==Z||!r)return i&&(I(g,m),S(g,m)),(i||P&&n.event!==e)&&(m.domOperation(),x.end()),void(r||U(v));e=!n.structural&&o(n,!0)?"setClass":n.event,W(v,2);var a=f(g,e,n.options);x.setHost(a),rt(x,e,"start",{}),a.done((function(t){ot(!t);var n=y.get(v);n&&n.counter===Z&&U(v),rt(x,e,"close",{})}))})),x;function rt(t,e,i,r){_((function(){var t=function(t,e,n){var i=[],r=D[n];return r&&G(r,(function(r){(B.call(r.node,e)||"leave"===n&&B.call(r.node,t))&&i.push(r.callback)})),i}(w,v,e);t.length?n((function(){G(t,(function(t){t(g,i,r)})),H(i,v)})):H(i,v)})),t.progress(e,i,r)}function ot(t){!function(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}(g,m),I(g,m),S(g,m),m.domOperation(),x.complete(!t)}}(t,e,d)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!T;else if(J(t)){var i=F(t);1===n?e=!E.get(i):E.set(i,!e)}else e=T=!!t;return e}};return j;function U(t){t.removeAttribute(lt),y.delete(t)}function W(t,e,n){(n=n||{}).state=e,t.setAttribute(lt,e);var i=y.get(t),r=i?K(i,n):n;y.set(t,r)}}]}],dt=["$animateProvider",function(t){var e="ng-animate-ref",n=this.drivers=[],i="$$animationRunner";function r(t){return t.data(i)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,o,a,s,c,u){var h=[],d=x(t);return function(f,p,m){m=k(m);var g=["enter","move","leave"].indexOf(p)>=0,v=new s({end:function(){A()},cancel:function(){A(!0)}});if(!n.length)return A(),v;!function(t,e){t.data(i,e)}(f,v);var b,y=E(f.attr("class"),E(m.addClass,m.removeClass)),w=m.tempClasses;return w&&(y+=" "+w,m.tempClasses=null),g&&(b="ng-"+p+"-prepare",t.addClass(f,b)),h.push({element:f,classes:y,event:p,structural:g,options:m,beforeStart:function(){f.addClass(l),w&&t.addClass(f,w),b&&(t.removeClass(f,b),b=null)},close:A}),f.on("$destroy",$),h.length>1||o.$$postDigest((function(){var t=[];G(h,(function(e){r(e.element)?t.push(e):e.close()})),h.length=0;var i=function(t){var n=[],i={};G(t,(function(t,r){var o=F(t.element),a=t.event,s=["enter","move"].indexOf(a)>=0,c=t.structural?function(t){var n="["+e+"]",i=t.hasAttribute(e)?[t]:t.querySelectorAll(n),r=[];return G(i,(function(t){var n=t.getAttribute(e);n&&n.length&&r.push(t)})),r}(o):[];if(c.length){var l=s?"to":"from";G(c,(function(t){var n=t.getAttribute(e);i[n]=i[n]||{},i[n][l]={animationID:r,element:it(t)}}))}else n.push(t)}));var r={},o={};return G(i,(function(e,i){var a=e.from,s=e.to;if(a&&s){var c=t[a.animationID],l=t[s.animationID],u=a.animationID.toString();if(!o[u]){var h=o[u]={structural:!0,beforeStart:function(){c.beforeStart(),l.beforeStart()},close:function(){c.close(),l.close()},classes:C(c.classes,l.classes),from:c,to:l,anchors:[]};h.classes.length?n.push(h):(n.push(c),n.push(l))}o[u].anchors.push({out:a.element,in:s.element})}else{var d=a?a.animationID:s.animationID,f=d.toString();r[f]||(r[f]=!0,n.push(t[d]))}})),n}(t),o=[];G(i,(function(t){o.push({domNode:F(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,i=t.close;if(r(t.anchors?t.from.element||t.to.element:t.element)){var o=function(t){for(var e=n.length-1;e>=0;e--){var i=n[e],r=a.get(i)(t);if(r)return r}}(t);o&&(e=o.start)}if(e){var s=e();s.done((function(t){i(!t)})),function(t,e){function n(t){var n=r(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}(t,s)}else i()}})})),u(function(t){var e,n={children:[]},i=new c;for(e=0;e<t.length;e++){var r=t[e];i.set(r.domNode,t[e]={domNode:r.domNode,fn:r.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach((function(t){o++,i.push(t)})),r--}return a.length&&n.push(a),n}(n);function o(t){if(t.processed)return t;t.processed=!0;var e,r=t.domNode,a=r.parentNode;for(i.set(r,t);a;){if(e=i.get(a)){e.processed||(e=o(e));break}a=a.parentNode}return(e||n).children.push(t),t}}(o))})),v;function C(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function $(){var t=r(f);!t||"leave"===p&&m.$$domOperationFired||t.end()}function A(e){f.off("$destroy",$),function(t){t.removeData(i)}(f),d(f,m),S(f,m),m.domOperation(),w&&t.removeClass(f,w),f.removeClass(l),v.complete(!e)}}}]}];e.module("ngAnimate",[],(function(){rt=e.noop,Y=e.copy,K=e.extend,it=e.element,G=e.forEach,X=e.isArray,et=e.isString,tt=e.isObject,nt=e.isUndefined,Q=e.isDefined,Z=e.isFunction,J=e.isElement})).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i.for,(function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,(function(e){a=e,t.enter(e,null,n)})))}))}}}]).directive("ngAnimateChildren",I).factory("$$rAFScheduler",["$$rAF",function(t){var e,n;function i(t){e=e.concat(t),r()}return e=i.queue=[],i.waitUntilQuiet=function(e){n&&n(),n=t((function(){n=null,e(),r()}))},i;function r(){if(e.length){for(var i=e.shift(),o=0;o<i.length;o++)i[o]();n||t((function(){n||r()}))}}}]).provider("$$animateQueue",ht).provider("$$animation",dt).provider("$animateCss",ot).provider("$$animateCssDriver",at).provider("$$animateJs",st).provider("$$animateJsDriver",ct)}(window,window.angular),function(t,e){"use strict";var n=e.module("ngAria",["ng"]).info({angularVersion:"1.6.4"}).provider("$aria",(function(){var t={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};function n(e,n,i,o){return function(a,s,c){var l=c.$normalize(n);!t[l]||r(s,i)||c[l]||a.$watch(c[e],(function(t){t=o?!t:!!t,s.attr(n,t)}))}}this.config=function(n){t=e.extend(t,n)},this.$get=function(){return{config:function(e){return t[e]},$$watchExpr:n}}})),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],r=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};n.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,o,a){return t.config(n)&&!o.attr(e)&&(a||!r(o,i))}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&!r(e,i)}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,r){var o=function(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}(r);return{post:function(i,r,a,s){var c=e("tabindex","tabindex",r,!1);function l(){return s.$modelValue}switch(o){case"radio":case"checkbox":n(o,r)&&r.attr("role",o),e("aria-checked","ariaChecked",r,!1)&&i.$watch(l,"radio"===o?function(t){var e=a.value==s.$viewValue;r.attr("aria-checked",e)}:function(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),c&&r.attr("tabindex",0);break;case"range":if(n(o,r)&&r.attr("role","slider"),t.config("ariaValue")){var u=!r.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),h=!r.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),d=!r.attr("aria-valuenow");u&&a.$observe("min",(function(t){r.attr("aria-valuemin",t)})),h&&a.$observe("max",(function(t){r.attr("aria-valuemax",t)})),d&&i.$watch(l,(function(t){r.attr("aria-valuenow",t)}))}c&&r.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",r,!1)&&a.$observe("required",(function(){r.attr("aria-required",!!a.required)})),e("aria-invalid","ariaInvalid",r,!0)&&i.$watch((function(){return s.$invalid}),(function(t){r.attr("aria-invalid",!!t)}))}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",(function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}})).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,o){var a=e(o.ngClick);return function(e,n,o){r(n,i)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!t.config("bindKeydown")||o.ngKeydown||o.ngKeypress||o.ngKeyup||n.on("keydown",(function(t){var n=t.which||t.keyCode;32!==n&&13!==n||e.$apply((function(){a(e,{$event:t})}))})))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,o){!t.config("tabindex")||n.attr("tabindex")||r(n,i)||n.attr("tabindex",0)}}])}(window,window.angular),function(t,e){"use strict";var n,i,r,o,a,s,c,l,u,h=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",(function(){var d=!1;this.$get=["$$sanitizeUri",function(t){return d&&i(A,C),function(e){var n=[];return l(e,u(n,(function(e,n){return!/^unsafe:/.test(t(e,n))}))),n.join("")}}],this.enableSvg=function(t){return o(t)?(d=t,this):d},n=e.bind,i=e.extend,r=e.forEach,o=e.isDefined,a=e.lowercase,s=e.noop,l=function(e,n){null==e?e="":"string"!=typeof e&&(e=""+e),f.innerHTML=e;var i=5;do{if(0===i)throw h("uinput","Failed to sanitize html because the input is unstable");i--,t.document.documentMode&&D(f),e=f.innerHTML,f.innerHTML=e}while(e!==f.innerHTML);for(var r=f.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),M(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&n.end(r.nodeName.toLowerCase()),o=R("nextSibling",r))))for(;null==o&&(r=R("parentNode",r))!==f;)o=R("nextSibling",r),1===r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=f.firstChild;)f.removeChild(r)},u=function(t,e){var i=!1,o=n(t,t.push);return{start:function(t,n){t=a(t),!i&&$[t]&&(i=t),i||!0!==A[t]||(o("<"),o(t),r(n,(function(n,i){var r=a(i),s="img"===t&&"src"===r||"background"===r;!0!==T[r]||!0===x[r]&&!e(n,s)||(o(" "),o(i),o('="'),o(F(n)),o('"'))})),o(">"))},end:function(t){t=a(t),i||!0!==A[t]||!0===g[t]||(o("</"),o(t),o(">")),t==i&&(i=!1)},chars:function(t){i||o(F(t))}}},c=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var f,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g,g=_("area,br,col,hr,img,wbr"),v=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=_("rp,rt"),y=i({},b,v),w=i({},v,_("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),E=i({},b,_("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=_("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),$=_("script,style"),A=i({},g,w,E,y),x=_("background,cite,href,longdesc,src,xlink:href"),k=_("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),S=_("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),T=i({},x,S,k);function _(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?a(r[n]):r[n]]=!0;return i}function M(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}function F(t){return t.replace(/&/g,"&amp;").replace(p,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(m,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function D(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&D(s),e=R("nextSibling",e)}}function R(t,e){var n=e[t];if(n&&c.call(e,n))throw h("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}!function(t){var e;if(!t.document||!t.document.implementation)throw h("noinert","Can't create an inert html document");var n=((e=t.document.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).getElementsByTagName("body");if(1===n.length)f=n[0];else{var i=e.createElement("html");f=e.createElement("body"),i.appendChild(f),e.appendChild(i)}}(t)})).info({angularVersion:"1.6.4"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=e.$$minErr("linky"),o=e.isDefined,a=e.isFunction,c=e.isObject,l=e.isString;return function(e,h,d){if(null==e||""===e)return e;if(!l(e))throw r("notstring","Expected string but received: {0}",e);for(var f,p,m,g=a(d)?d:c(d)?function(){return d}:function(){return{}},v=e,b=[];f=v.match(n);)p=f[0],f[2]||f[4]||(p=(f[3]?"http://":"mailto:")+p),m=f.index,y(v.substr(0,m)),w(p,f[0].replace(i,"")),v=v.substring(m+f[0].length);return y(v),t(b.join(""));function y(t){var e,n;t&&b.push((e=t,u(n=[],s).chars(e),n.join("")))}function w(t,e){var n,i=g(t);for(n in b.push("<a "),i)b.push(n+'="'+i[n]+'" ');o(h)&&!("target"in i)&&b.push('target="',h,'" '),b.push('href="',t.replace(/"/g,"&quot;"),'">'),y(e),b.push("</a>")}}}])}(window,window.angular),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.satellizer=e()}(this,(function(){"use strict";var t=function(){function t(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(t,"getConstant",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),e=function(){function t(t){this.SatellizerConfig=t}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(t){this.SatellizerConfig.baseUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(t){this.SatellizerConfig.loginUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(t){this.SatellizerConfig.signupUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(t){this.SatellizerConfig.unlinkUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(t){this.SatellizerConfig.tokenRoot=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(t){this.SatellizerConfig.tokenName=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(t){this.SatellizerConfig.tokenPrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(t){this.SatellizerConfig.tokenHeader=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(t){this.SatellizerConfig.tokenType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(t){this.SatellizerConfig.withCredentials=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(t){this.SatellizerConfig.storageType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(t){this.SatellizerConfig.httpInterceptor="function"==typeof t?t:function(){return t}},enumerable:!0,configurable:!0}),t.prototype.facebook=function(t){angular.extend(this.SatellizerConfig.providers.facebook,t)},t.prototype.google=function(t){angular.extend(this.SatellizerConfig.providers.google,t)},t.prototype.github=function(t){angular.extend(this.SatellizerConfig.providers.github,t)},t.prototype.instagram=function(t){angular.extend(this.SatellizerConfig.providers.instagram,t)},t.prototype.linkedin=function(t){angular.extend(this.SatellizerConfig.providers.linkedin,t)},t.prototype.twitter=function(t){angular.extend(this.SatellizerConfig.providers.twitter,t)},t.prototype.twitch=function(t){angular.extend(this.SatellizerConfig.providers.twitch,t)},t.prototype.live=function(t){angular.extend(this.SatellizerConfig.providers.live,t)},t.prototype.yahoo=function(t){angular.extend(this.SatellizerConfig.providers.yahoo,t)},t.prototype.bitbucket=function(t){angular.extend(this.SatellizerConfig.providers.bitbucket,t)},t.prototype.spotify=function(t){angular.extend(this.SatellizerConfig.providers.spotify,t)},t.prototype.oauth1=function(t){this.SatellizerConfig.providers[t.name]=angular.extend(t,{oauthType:"1.0"})},t.prototype.oauth2=function(t){this.SatellizerConfig.providers[t.name]=angular.extend(t,{oauthType:"2.0"})},t.prototype.$get=function(t,e,n){return{login:function(t,n){return e.login(t,n)},signup:function(t,n){return e.signup(t,n)},logout:function(){return t.logout()},authenticate:function(t,e){return n.authenticate(t,e)},link:function(t,e){return n.authenticate(t,e)},unlink:function(t,e){return n.unlink(t,e)},isAuthenticated:function(){return t.isAuthenticated()},getPayload:function(){return t.getPayload()},getToken:function(){return t.getToken()},setToken:function(e){return t.setToken({access_token:e})},removeToken:function(){return t.removeToken()},setStorageType:function(e){return t.setStorageType(e)}}},t.$inject=["SatellizerConfig"],t}();function n(t,e){return/^(?:[a-z]+:)?\/\//i.test(e)?e:[t,e].join("/").replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}function i(t){var e="https:"===t.protocol;return t.protocol+"//"+t.hostname+":"+(t.port||(e?"443":"80"))+(/^\//.test(t.pathname)?t.pathname:"/"+t.pathname)}function r(t){var e,n,i={};return angular.forEach((t||"").split("&"),(function(t){t&&(n=t.split("="),e=decodeURIComponent(n[0]),i[e]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))})),i}e.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var o=function(){function t(t,e,n,i){this.$q=t,this.$window=e,this.SatellizerConfig=n,this.SatellizerStorage=i;var r=this.SatellizerConfig,o=r.tokenName,a=r.tokenPrefix;this.prefixedTokenName=a?[a,o].join("_"):o}return t.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},t.prototype.getPayload=function(){var t=this.SatellizerStorage.get(this.prefixedTokenName);if(t&&3===t.split(".").length)try{var e=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(function(t){var e;if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(t){}var n=String.fromCharCode,i=new RegExp(["[Ã-Ã][Â-Â¿]","[Ã -Ã¯][Â-Â¿]{2}","[Ã°-Ã·][Â-Â¿]{3}"].join("|"),"g"),r=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return n(55296+(e>>>10))+n(56320+(1023&e));case 3:return n((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return n((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}};return(e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return atob(t).replace(i,r)})(String(t).replace(/[-_]/g,(function(t){return"-"===t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))}(e))}catch(t){}},t.prototype.setToken=function(t){var e,n=this.SatellizerConfig.tokenRoot,i=this.SatellizerConfig.tokenName,r=t&&t.access_token;if(r&&(angular.isObject(r)&&angular.isObject(r.data)?t=r:angular.isString(r)&&(e=r)),!e&&t){var o=n&&n.split(".").reduce((function(t,e){return t[e]}),t.data);e=o?o[i]:t.data&&t.data[i]}e&&this.SatellizerStorage.set(this.prefixedTokenName,e)},t.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},t.prototype.isAuthenticated=function(){var t=this.SatellizerStorage.get(this.prefixedTokenName);if(t){if(3===t.split(".").length)try{var e=t.split(".")[1].replace("-","+").replace("_","/"),n=JSON.parse(this.$window.atob(e)).exp;if("number"==typeof n)return Math.round((new Date).getTime()/1e3)<n}catch(t){return!0}return!0}return!1},t.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},t.prototype.setStorageType=function(t){this.SatellizerConfig.storageType=t},t.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],t}(),a=function(){function t(t,e,n){this.$http=t,this.SatellizerConfig=e,this.SatellizerShared=n}return t.prototype.login=function(t,e){var i=this;return void 0===e&&(e={}),e.url=e.url?e.url:n(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),e.data=t||e.data,e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.SatellizerConfig.withCredentials,this.$http(e).then((function(t){return i.SatellizerShared.setToken(t),t}))},t.prototype.signup=function(t,e){return void 0===e&&(e={}),e.url=e.url?e.url:n(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),e.data=t||e.data,e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.SatellizerConfig.withCredentials,this.$http(e)},t.$inject=["$http","SatellizerConfig","SatellizerShared"],t}(),s=function(){function t(t,e,n){this.$interval=t,this.$window=e,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}return t.prototype.stringifyOptions=function(t){var e=[];return angular.forEach(t,(function(t,n){e.push(n+"="+t)})),e.join(",")},t.prototype.open=function(t,e,n,i,r){var o=n.width||500,a=n.height||500,s=this.stringifyOptions({width:o,height:a,top:this.$window.screenY+(this.$window.outerHeight-a)/2.5,left:this.$window.screenX+(this.$window.outerWidth-o)/2}),c=this.$window.cordova||this.$window.navigator.userAgent.indexOf("CriOS")>-1?"_blank":e;if(this.popup=this.$window.open(t,c,s),this.popup&&this.popup.focus&&this.popup.focus(),!r)return this.$window.cordova?this.eventListener(i):("about:blank"===t&&(this.popup.location=t),this.polling(i))},t.prototype.polling=function(t){var e=this;return this.$q((function(n,o){var a=document.createElement("a");a.href=t;var s=i(a),c=e.$interval((function(){e.popup&&!e.popup.closed&&void 0!==e.popup.closed||(e.$interval.cancel(c),o(new Error("The popup window was closed")));try{if(i(e.popup.location)===s){if(e.popup.location.search||e.popup.location.hash){var t=r(e.popup.location.search.substring(1).replace(/\/$/,"")),a=r(e.popup.location.hash.substring(1).replace(/[\/$]/,"")),l=angular.extend({},t,a);l.error?o(new Error(l.error)):n(l)}else o(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removedâtypically by a routing libraryâbefore Satellizer could read it."));e.$interval.cancel(c),e.popup.close()}}catch(t){}}),500)}))},t.prototype.eventListener=function(t){var e=this;return this.$q((function(n,i){e.popup.addEventListener("loadstart",(function(o){if(0===o.url.indexOf(t)){var a=document.createElement("a");if(a.href=o.url,a.search||a.hash){var s=r(a.search.substring(1).replace(/\/$/,"")),c=r(a.hash.substring(1).replace(/[\/$]/,"")),l=angular.extend({},s,c);l.error?i(new Error(l.error)):n(l),e.popup.close()}}})),e.popup.addEventListener("loaderror",(function(){i(new Error("Authorization failed"))})),e.popup.addEventListener("exit",(function(){i(new Error("The popup window was closed"))}))}))},t.$inject=["$interval","$window","$q"],t}(),c=function(){function t(t,e,n,i){this.$http=t,this.$window=e,this.SatellizerConfig=n,this.SatellizerPopup=i,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return t.prototype.init=function(t,e){var n=this;angular.extend(this.defaults,t);var i=t.name,r=t.popupOptions,o=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",i,r,o,!0),this.getRequestToken().then((function(i){return n.openPopup(t,i).then((function(t){return n.exchangeForToken(t,e)}))}))},t.prototype.openPopup=function(t,e){var n=[t.authorizationEndpoint,this.buildQueryString(e.data)].join("?"),i=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(n,t.name,t.popupOptions,i):(this.SatellizerPopup.popup.location=n,this.SatellizerPopup.polling(i))},t.prototype.getRequestToken=function(){var t=this.SatellizerConfig.baseUrl?n(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(t,this.defaults)},t.prototype.exchangeForToken=function(t,e){var i=angular.extend({},e,t),r=this.SatellizerConfig.baseUrl?n(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(r,i,{withCredentials:this.SatellizerConfig.withCredentials})},t.prototype.buildQueryString=function(t){var e=[];return angular.forEach(t,(function(t,n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})),e.join("&")},t.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],t}(),l=function(){function t(t,e,n,i,r,o,a){this.$http=t,this.$window=e,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return t.camelCase=function(t){return t.replace(/([\:\-\_]+(.))/g,(function(t,e,n,i){return i?n.toUpperCase():n}))},t.prototype.init=function(t,e){var n=this;return this.$q((function(i,r){angular.extend(n.defaults,t);var o=n.defaults.name+"_state",a=n.defaults,s=a.name,c=a.state,l=a.popupOptions,u=a.redirectUri,h=a.responseType;"function"==typeof c?n.SatellizerStorage.set(o,c()):"string"==typeof c&&n.SatellizerStorage.set(o,c);var d=[n.defaults.authorizationEndpoint,n.buildQueryString()].join("?");n.SatellizerPopup.open(d,s,l,u).then((function(t){return"token"!==h&&d?t.state&&t.state!==n.SatellizerStorage.get(o)?r(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void i(n.exchangeForToken(t,e)):i(t)})).catch((function(t){return r(t)}))}))},t.prototype.exchangeForToken=function(t,e){var i=this,r=angular.extend({},e);angular.forEach(this.defaults.responseParams,(function(e,n){switch(n){case"code":r[e]=t.code;break;case"clientId":r[e]=i.defaults.clientId;break;case"redirectUri":r[e]=i.defaults.redirectUri;break;default:r[e]=t[n]}})),t.state&&(r.state=t.state);var o=this.SatellizerConfig.baseUrl?n(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(o,r,{withCredentials:this.SatellizerConfig.withCredentials})},t.prototype.buildQueryString=function(){var e=this,n=[];return angular.forEach(["defaultUrlParams","requiredUrlParams","optionalUrlParams"],(function(i){angular.forEach(e.defaults[i],(function(i){var r=t.camelCase(i),o=angular.isFunction(e.defaults[i])?e.defaults[i]():e.defaults[r];if("redirect_uri"!==i||o){if("state"===i){var a=e.defaults.name+"_state";o=encodeURIComponent(e.SatellizerStorage.get(a))}"scope"===i&&Array.isArray(o)&&(o=o.join(e.defaults.scopeDelimiter),e.defaults.scopePrefix&&(o=[e.defaults.scopePrefix,o].join(e.defaults.scopeDelimiter))),n.push([i,o])}}))})),n.map((function(t){return t.join("=")})).join("&")},t.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],t}(),u=function(){function t(t,e,n,i,r,o,a,s,c,l){this.$http=t,this.$window=e,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.SatellizerShared=s,this.SatellizerOAuth1=c,this.SatellizerOAuth2=l}return t.prototype.authenticate=function(t,e){var n=this;return this.$q((function(i,r){var o=n.SatellizerConfig.providers[t],a=null;switch(o.oauthType){case"1.0":a=new c(n.$http,n.$window,n.SatellizerConfig,n.SatellizerPopup);break;case"2.0":a=new l(n.$http,n.$window,n.$timeout,n.$q,n.SatellizerConfig,n.SatellizerPopup,n.SatellizerStorage);break;default:return r(new Error("Invalid OAuth Type"))}return a.init(o,e).then((function(t){o.url&&n.SatellizerShared.setToken(t),i(t)})).catch((function(t){r(t)}))}))},t.prototype.unlink=function(t,e){return void 0===e&&(e={}),e.url=e.url?e.url:n(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),e.data={provider:t}||e.data,e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.SatellizerConfig.withCredentials,this.$http(e)},t.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],t}(),h=function(){function t(t,e){this.$window=t,this.SatellizerConfig=e,this.memoryStore={}}return t.prototype.get=function(t){try{return this.$window[this.SatellizerConfig.storageType].getItem(t)}catch(e){return this.memoryStore[t]}},t.prototype.set=function(t,e){try{this.$window[this.SatellizerConfig.storageType].setItem(t,e)}catch(n){this.memoryStore[t]=e}},t.prototype.remove=function(t){try{this.$window[this.SatellizerConfig.storageType].removeItem(t)}catch(e){delete this.memoryStore[t]}},t.$inject=["$window","SatellizerConfig"],t}(),d=function(){function t(t,e,n){var i=this;this.SatellizerConfig=t,this.SatellizerShared=e,this.SatellizerStorage=n,this.request=function(t){if(t.skipAuthorization)return t;if(i.SatellizerShared.isAuthenticated()&&i.SatellizerConfig.httpInterceptor()){var e=i.SatellizerConfig.tokenPrefix?[i.SatellizerConfig.tokenPrefix,i.SatellizerConfig.tokenName].join("_"):i.SatellizerConfig.tokenName,n=i.SatellizerStorage.get(e);i.SatellizerConfig.tokenHeader&&i.SatellizerConfig.tokenType&&(n=i.SatellizerConfig.tokenType+" "+n),t.headers[i.SatellizerConfig.tokenHeader]=n}return t}}return t.Factory=function(e,n,i){return new t(e,n,i)},t.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],t}();d.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var f=function(){function t(t){this.$httpProvider=t,t.interceptors.push(d.Factory)}return t.$inject=["$httpProvider"],t}();return angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(t){return new e(t)}]).constant("SatellizerConfig",t.getConstant).service("SatellizerShared",o).service("SatellizerLocal",a).service("SatellizerPopup",s).service("SatellizerOAuth",u).service("SatellizerOAuth2",l).service("SatellizerOAuth1",c).service("SatellizerStorage",h).service("SatellizerInterceptor",d).config(["$httpProvider",function(t){return new f(t)}]),"satellizer"})),
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */
function(){var t,e,n,i=32,r=128,o=200,a="Expected a function",s="__lodash_placeholder__",c="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",b="[object Set]",y="[object String]",w="[object WeakMap]",E="[object ArrayBuffer]",C="[object Float32Array]",$="[object Float64Array]",A="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",_="[object Uint16Array]",M="[object Uint32Array]",F=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/&(?:amp|lt|gt|quot|#39|#96);/g,L=/[&<>"'`]/g,I=RegExp(O.source),N=RegExp(L.source),B=/<%-([\s\S]+?)%>/g,P=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,U=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,V=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,z=RegExp(V.source),q=/[\u0300-\u036f\ufe20-\ufe23]/g,Y=/\\(\\)?/g,K=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,G=/\w*$/,X=/^0[xX]/,Q=/^\[object .+?Constructor\]$/,J=/^\d+$/,Z=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,tt=/($^)/,et=/['\n\r\u2028\u2029\\]/g,nt=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+n+")|"+e+"?"+n+"|"+e+"+|[0-9]+","g")),it=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],rt=-1,ot={};ot[C]=ot[$]=ot[A]=ot[x]=ot[k]=ot[S]=ot[T]=ot[_]=ot[M]=!0,ot[c]=ot[l]=ot[E]=ot[u]=ot[h]=ot[d]=ot[f]=ot[p]=ot[m]=ot[g]=ot[v]=ot[b]=ot[y]=ot[w]=!1;var at={};at[c]=at[l]=at[E]=at[u]=at[h]=at[C]=at[$]=at[A]=at[x]=at[k]=at[m]=at[g]=at[v]=at[y]=at[S]=at[T]=at[_]=at[M]=!0,at[d]=at[f]=at[p]=at[b]=at[w]=!1;var st={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss"},ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},lt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},ut={function:!0,object:!0},ht={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=ut[typeof exports]&&exports&&!exports.nodeType&&exports,pt=ut[typeof module]&&module&&!module.nodeType&&module,mt=ft&&pt&&"object"==typeof global&&global&&global.Object&&global,gt=ut[typeof self]&&self&&self.Object&&self,vt=ut[typeof window]&&window&&window.Object&&window,bt=pt&&pt.exports===ft&&ft,yt=mt||vt!==(this&&this.window)&&vt||gt||this;function wt(e,n){if(e!==n){var i=null===e,r=e===t,o=e==e,a=null===n,s=n===t,c=n==n;if(e>n&&!a||!o||i&&!s&&c||r&&c)return 1;if(e<n&&!i||!c||a&&!r&&o||s&&o)return-1}return 0}function Et(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function Ct(t,e,n){if(e!=e)return Dt(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function $t(t){return"function"==typeof t||!1}function At(t){return null==t?"":t+""}function xt(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function kt(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function St(t,e){return wt(t.criteria,e.criteria)||t.index-e.index}function Tt(t){return st[t]}function _t(t){return ct[t]}function Mt(t,e,n){return e?t=ht[t]:n&&(t=dt[t]),"\\"+t}function Ft(t){return"\\"+dt[t]}function Dt(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!=o)return r}return-1}function Rt(t){return!!t&&"object"==typeof t}function Ot(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Lt(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=s,o[++r]=n);return o}function It(t){for(var e=-1,n=t.length;++e<n&&Ot(t.charCodeAt(e)););return e}function Nt(t){for(var e=t.length;e--&&Ot(t.charCodeAt(e)););return e}function Bt(t){return lt[t]}var Pt=function e(n){var p=(n=n?Pt.defaults(yt.Object(),n,Pt.pick(yt,it)):yt).Array,b=n.Date,w=n.Error,st=n.Function,ct=n.Math,lt=n.Number,ut=n.Object,ht=n.RegExp,dt=n.String,ft=n.TypeError,pt=p.prototype,mt=ut.prototype,gt=dt.prototype,vt=st.prototype.toString,bt=mt.hasOwnProperty,Ot=0,Ht=mt.toString,jt=yt._,Ut=ht("^"+vt.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=n.ArrayBuffer,Vt=n.clearTimeout,zt=n.parseFloat,qt=ct.pow,Yt=mt.propertyIsEnumerable,Kt=si(n,"Set"),Gt=n.setTimeout,Xt=pt.splice,Qt=n.Uint8Array,Jt=si(n,"WeakMap"),Zt=ct.ceil,te=si(ut,"create"),ee=ct.floor,ne=si(p,"isArray"),ie=n.isFinite,re=si(ut,"keys"),oe=ct.max,ae=ct.min,se=si(b,"now"),ce=n.parseInt,le=ct.random,ue=lt.NEGATIVE_INFINITY,he=lt.POSITIVE_INFINITY,de=4294967295,fe=4294967294,pe=2147483647,me=9007199254740991,ge=Jt&&new Jt,ve={};function be(t){if(Rt(t)&&!Lr(t)&&!(t instanceof Ee)){if(t instanceof we)return t;if(bt.call(t,"__chain__")&&bt.call(t,"__wrapped__"))return xi(t)}return new we(t)}function ye(){}function we(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Ee(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function Ce(){this.__data__={}}function $e(t){var e=t?t.length:0;for(this.data={hash:te(null),set:new Kt};e--;)this.push(t[e])}function Ae(t,e){var n=t.data;return("string"==typeof e||Pr(e)?n.set.has(e):n.hash[e])?0:-1}function xe(t,e){var n=-1,i=t.length;for(e||(e=p(i));++n<i;)e[n]=t[n];return e}function ke(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Te(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[++r]=a)}return o}function _e(t,e){for(var n=-1,i=t.length,r=p(i);++n<i;)r[n]=e(t[n],n,t);return r}function Me(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Fe(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function De(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Re(e,n,i,r){return e!==t&&bt.call(r,i)?e:n}function Oe(e,n,i){for(var r=-1,o=ao(n),a=o.length;++r<a;){var s=o[r],c=e[s],l=i(c,n[s],s,e,n);((l==l?l!==c:c==c)||c===t&&!(s in e))&&(e[s]=l)}return e}function Le(t,e){return null==e?t:Ne(e,ao(e),t)}function Ie(e,n){for(var i=-1,r=null==e,o=!r&&li(e),a=o?e.length:0,s=n.length,c=p(s);++i<s;){var l=n[i];c[i]=o?ui(l,a)?e[l]:t:r?t:e[l]}return c}function Ne(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function Be(e,n,i){var r=typeof e;return"function"==r?n===t?e:Cn(e,n,i):null==e?So:"object"==r?an(e):n===t?Ro(e):sn(e,n)}function Pe(e,n,i,r,o,a,s){var l;if(i&&(l=o?i(e,r,o):i(e)),l!==t)return l;if(!Pr(e))return e;var d=Lr(e);if(d){if(l=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&bt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!n)return xe(e,l)}else{var p=Ht.call(e),b=p==f;if(p!=g&&p!=c&&(!b||o))return at[p]?function(t,e,n){var i=t.constructor;switch(e){case E:return $n(t);case u:case h:return new i(+t);case C:case $:case A:case x:case k:case S:case T:case _:case M:var r=t.buffer;return new i(n?$n(r):r,t.byteOffset,t.length);case m:case y:return new i(t);case v:var o=new i(t.source,G.exec(t));o.lastIndex=t.lastIndex}return o}(e,p,n):o?e:{};if(l=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=ut),new e}(b?{}:e),!n)return Le(l,e)}a||(a=[]),s||(s=[]);for(var w=a.length;w--;)if(a[w]==e)return s[w];return a.push(e),s.push(l),(d?ke:Je)(e,(function(t,r){l[r]=Pe(t,n,i,r,e,a,s)})),l}be.support={},be.templateSettings={escape:B,evaluate:P,interpolate:H,variable:"",imports:{_:be}};var He=function(){function e(){}return function(n){if(Pr(n)){e.prototype=n;var i=new e;e.prototype=t}return i||{}}}();function je(e,n,i){if("function"!=typeof e)throw new ft(a);return Gt((function(){e.apply(t,i)}),n)}function Ue(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,a=ri(),s=a===Ct,c=s&&e.length>=o?Mn(e):null,l=e.length;c&&(a=Ae,s=!1,e=c);t:for(;++r<n;){var u=t[r];if(s&&u==u){for(var h=l;h--;)if(e[h]===u)continue t;i.push(u)}else a(e,u,0)<0&&i.push(u)}return i}var We=Tn(Je),Ve=Tn(Ze,!0);function ze(t,e){var n=!0;return We(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function qe(t,e){var n=[];return We(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Ye(t,e,n,i){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=i?n:t,!1})),r}function Ke(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var a=t[r];Rt(a)&&li(a)&&(n||Lr(a)||Or(a))?e?Ke(a,e,n,i):Me(i,a):n||(i[i.length]=a)}return i}var Ge=_n(),Xe=_n(!0);function Qe(t,e){return Ge(t,e,so)}function Je(t,e){return Ge(t,e,ao)}function Ze(t,e){return Xe(t,e,ao)}function tn(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];Br(t[a])&&(o[++r]=a)}return o}function en(e,n,i){if(null!=e){i!==t&&i in $i(e)&&(n=[i]);for(var r=0,o=n.length;null!=e&&r<o;)e=e[n[r++]];return r&&r==o?e:t}}function nn(t,e,n,i,r,o){return t===e||(null==t||null==e||!Pr(t)&&!Rt(e)?t!=t&&e!=e:function(t,e,n,i,r,o,a){var s=Lr(t),f=Lr(e),p=l,b=l;s||((p=Ht.call(t))==c?p=g:p!=g&&(s=zr(t))),f||((b=Ht.call(e))==c?b=g:b!=g&&(f=zr(e)));var w=p==g,E=b==g,C=p==b;if(C&&!s&&!w)return function(t,e,n){switch(n){case u:case h:return+t==+e;case d:return t.name==e.name&&t.message==e.message;case m:return t!=+t?e!=+e:t==+e;case v:case y:return t==e+""}return!1}(t,e,p);if(!r){var $=w&&bt.call(t,"__wrapped__"),A=E&&bt.call(e,"__wrapped__");if($||A)return n($?t.value():t,A?e.value():e,i,r,o,a)}if(!C)return!1;o||(o=[]),a||(a=[]);for(var x=o.length;x--;)if(o[x]==t)return a[x]==e;o.push(t),a.push(e);var k=(s?Zn:ti)(t,e,n,i,r,o,a);return o.pop(),a.pop(),k}(t,e,nn,n,i,r,o))}function rn(e,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=$i(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var c=(s=n[r])[0],l=e[c],u=s[1];if(a&&s[2]){if(l===t&&!(c in e))return!1}else{var h=i?i(l,u,c):t;if(!(h===t?nn(u,l,i,!0):h))return!1}}return!0}function on(t,e){var n=-1,i=li(t)?p(t.length):[];return We(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function an(e){var n=ai(e);if(1==n.length&&n[0][2]){var i=n[0][0],r=n[0][1];return function(e){return null!=e&&e[i]===r&&(r!==t||i in $i(e))}}return function(t){return rn(t,n)}}function sn(e,n){var i=Lr(e),r=di(e)&&mi(n),o=e+"";return e=Ai(e),function(a){if(null==a)return!1;var s=o;if(a=$i(a),(i||!r)&&!(s in a)){if(null==(a=1==e.length?a:en(a,dn(e,0,-1))))return!1;s=Oi(e),a=$i(a)}return a[s]===n?n!==t||s in a:nn(n,a[s],t,!0)}}function cn(e){return function(n){return null==n?t:n[e]}}function ln(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&ui(i)){var r=i;Xt.call(t,i,1)}}return t}function un(t,e){return t+ee(le()*(e-t+1))}var hn=ge?function(t,e){return ge.set(t,e),t}:So;function dn(e,n,i){var r=-1,o=e.length;(n=null==n?0:+n||0)<0&&(n=-n>o?0:o+n),(i=i===t||i>o?o:+i||0)<0&&(i+=o),o=n>i?0:i-n>>>0,n>>>=0;for(var a=p(o);++r<o;)a[r]=e[r+n];return a}function fn(t,e){var n;return We(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function pn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function mn(t,e,n){var i=ei(),r=-1;return e=_e(e,(function(t){return i(t)})),pn(on(t,(function(t){return{criteria:_e(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var c=wt(r[i],o[i]);if(c){if(i>=s)return c;var l=n[i];return c*("asc"===l||!0===l?1:-1)}}return t.index-e.index}(t,e,n)}))}function gn(t,e){var n=-1,i=ri(),r=t.length,a=i===Ct,s=a&&r>=o,c=s?Mn():null,l=[];c?(i=Ae,a=!1):(s=!1,c=e?[]:l);t:for(;++n<r;){var u=t[n],h=e?e(u,n,t):u;if(a&&u==u){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),l.push(u)}else i(c,h,0)<0&&((e||s)&&c.push(h),l.push(u))}return l}function vn(t,e){for(var n=-1,i=e.length,r=p(i);++n<i;)r[n]=t[e[n]];return r}function bn(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?dn(t,i?0:o,i?o+1:r):dn(t,i?o+1:0,i?r:o)}function yn(t,e){var n=t;n instanceof Ee&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,Me([n],o.args))}return n}function wn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e==e&&r<=pe){for(;i<r;){var o=i+r>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?i=o+1:r=o}return r}return En(t,e,So,n)}function En(e,n,i,r){n=i(n);for(var o=0,a=e?e.length:0,s=n!=n,c=null===n,l=n===t;o<a;){var u=ee((o+a)/2),h=i(e[u]),d=h!==t,f=h==h;if(s)var p=f||r;else p=c?f&&d&&(r||null!=h):l?f&&(r||d):null!=h&&(r?h<=n:h<n);p?o=u+1:a=u}return ae(a,fe)}function Cn(e,n,i){if("function"!=typeof e)return So;if(n===t)return e;switch(i){case 1:return function(t){return e.call(n,t)};case 3:return function(t,i,r){return e.call(n,t,i,r)};case 4:return function(t,i,r,o){return e.call(n,t,i,r,o)};case 5:return function(t,i,r,o,a){return e.call(n,t,i,r,o,a)}}return function(){return e.apply(n,arguments)}}function $n(t){var e=new Wt(t.byteLength);return new Qt(e).set(new Qt(t)),e}function An(t,e,n){for(var i=n.length,r=-1,o=oe(t.length-i,0),a=-1,s=e.length,c=p(s+o);++a<s;)c[a]=e[a];for(;++r<i;)c[n[r]]=t[r];for(;o--;)c[a++]=t[r++];return c}function xn(t,e,n){for(var i=-1,r=n.length,o=-1,a=oe(t.length-r,0),s=-1,c=e.length,l=p(a+c);++o<a;)l[o]=t[o];for(var u=o;++s<c;)l[u+s]=e[s];for(;++i<r;)l[u+n[i]]=t[o++];return l}function kn(t,e){return function(n,i,r){var o=e?e():{};if(i=ei(i,r,3),Lr(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];t(o,c,i(c,a,n),n)}else We(n,(function(e,n,r){t(o,e,i(e,n,r),r)}));return o}}function Sn(e){return Dr((function(n,i){var r=-1,o=null==n?0:i.length,a=o>2?i[o-2]:t,s=o>2?i[2]:t,c=o>1?i[o-1]:t;for("function"==typeof a?(a=Cn(a,c,5),o-=2):o-=(a="function"==typeof c?c:t)?1:0,s&&hi(i[0],i[1],s)&&(a=o<3?t:a,o=1);++r<o;){var l=i[r];l&&e(n,l,a)}return n}))}function Tn(t,e){return function(n,i){var r=n?oi(n):0;if(!pi(r))return t(n,i);for(var o=e?r:-1,a=$i(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function _n(t){return function(e,n,i){for(var r=$i(e),o=i(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var c=o[s];if(!1===n(r[c],c,r))break}return e}}function Mn(t){return te&&Kt?new $e(t):null}function Fn(t){return function(e){for(var n=-1,i=Ao(go(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function Dn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=He(t.prototype),i=t.apply(n,e);return Pr(i)?i:n}}function Rn(e){return function n(i,r,o){o&&hi(i,r,o)&&(r=t);var a=Jn(i,e,t,t,t,t,t,r);return a.placeholder=n.placeholder,a}}function On(e,n){return Dr((function(i){var r=i[0];return null==r?r:(i.push(n),e.apply(t,i))}))}function Ln(e,n){return function(i,r,o){if(o&&hi(i,r,o)&&(r=t),1==(r=ei(r,o,3)).length){var a=function(t,e,n,i){for(var r=-1,o=t.length,a=i,s=a;++r<o;){var c=t[r],l=+e(c);n(l,a)&&(a=l,s=c)}return s}(i=Lr(i)?i:Ci(i),r,e,n);if(!i.length||a!==n)return a}return function(t,e,n,i){var r=i,o=r;return We(t,(function(t,a,s){var c=+e(t,a,s);(n(c,r)||c===i&&c===o)&&(r=c,o=t)})),o}(i,r,e,n)}}function In(e,n){return function(i,r,o){if(r=ei(r,o,3),Lr(i)){var a=Et(i,r,n);return a>-1?i[a]:t}return Ye(i,r,e)}}function Nn(t){return function(e,n,i){return e&&e.length?Et(e,n=ei(n,i,3),t):-1}}function Bn(t){return function(e,n,i){return Ye(e,n=ei(n,i,3),t,!0)}}function Pn(e){return function(){for(var n,i=arguments.length,r=e?i:-1,s=0,c=p(i);e?r--:++r<i;){var l=c[s++]=arguments[r];if("function"!=typeof l)throw new ft(a);!n&&we.prototype.thru&&"wrapper"==ii(l)&&(n=new we([],!0))}for(r=n?-1:i;++r<i;){var u=ii(l=c[r]),h="wrapper"==u?ni(l):t;n=h&&fi(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?n[ii(h[0])].apply(n,h[3]):1==l.length&&fi(l)?n[u]():n.thru(l)}return function(){var t=arguments,e=t[0];if(n&&1==t.length&&Lr(e)&&e.length>=o)return n.plant(e).value();for(var r=0,a=i?c[r].apply(this,t):e;++r<i;)a=c[r].call(this,a);return a}}}function Hn(e,n){return function(i,r,o){return"function"==typeof r&&o===t&&Lr(i)?e(i,r):n(i,Cn(r,o,3))}}function jn(e){return function(n,i,r){return"function"==typeof i&&r===t||(i=Cn(i,r,3)),e(n,i,so)}}function Un(e){return function(n,i,r){return"function"==typeof i&&r===t||(i=Cn(i,r,3)),e(n,i)}}function Wn(t){return function(e,n,i){var r={};return n=ei(n,i,3),Je(e,(function(e,i,o){var a=n(e,i,o);e=t?e:a,r[i=t?a:i]=e})),r}}function Vn(t){return function(e,n,i){return e=At(e),(t?e:"")+Kn(e,n,i)+(t?"":e)}}function zn(e){var n=Dr((function(i,r){var o=Lt(r,n.placeholder);return Jn(i,e,t,r,o)}));return n}function qn(e,n){return function(i,r,o,a){var s=arguments.length<3;return"function"==typeof r&&a===t&&Lr(i)?e(i,r,o,s):function(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}(i,ei(r,a,4),o,s,n)}}function Yn(e,n,o,a,s,c,l,u,h,d){var f=n&r,m=1&n,g=2&n,v=8&n,b=4&n,y=16&n,w=g?t:Dn(e);return function r(){for(var E=arguments.length,C=E,$=p(E);C--;)$[C]=arguments[C];if(a&&($=An($,a,s)),c&&($=xn($,c,l)),v||y){var A=r.placeholder,x=Lt($,A);if((E-=x.length)<d){var k=u?xe(u):t,S=oe(d-E,0);n|=v?i:64,n&=~(v?64:i),b||(n&=-4);var T=[e,n,o,v?$:t,v?x:t,v?t:$,v?t:x,k,h,S],_=Yn.apply(t,T);return fi(e)&&wi(_,T),_.placeholder=A,_}}var M=m?o:this,F=g?M[e]:e;return u&&($=function(e,n){for(var i=e.length,r=ae(n.length,i),o=xe(e);r--;){var a=n[r];e[r]=ui(a,i)?o[a]:t}return e}($,u)),f&&h<$.length&&($.length=h),this&&this!==yt&&this instanceof r&&(F=w||Dn(e)),F.apply(M,$)}}function Kn(t,e,n){var i=t.length;if(i>=(e=+e)||!ie(e))return"";var r=e-i;return wo(n=null==n?" ":n+"",Zt(r/n.length)).slice(0,r)}function Gn(t,e,n,i){var r=1&e,o=Dn(t);return function e(){for(var a=-1,s=arguments.length,c=-1,l=i.length,u=p(l+s);++c<l;)u[c]=i[c];for(;s--;)u[c++]=arguments[++a];return(this&&this!==yt&&this instanceof e?o:t).apply(r?n:this,u)}}function Xn(e){var n=ct[e];return function(e,i){return(i=i===t?0:+i||0)?(i=qt(10,i),n(e*i)/i):n(e)}}function Qn(t){return function(e,n,i,r){var o=ei(i);return null==i&&o===Be?wn(e,n,t):En(e,n,o(i,r,1),t)}}function Jn(e,n,o,c,l,u,h,d){var f=2&n;if(!f&&"function"!=typeof e)throw new ft(a);var p=c?c.length:0;if(p||(n&=-97,c=l=t),p-=l?l.length:0,64&n){var m=c,g=l;c=l=t}var v=f?t:ni(e),b=[e,n,o,c,l,m,g,u,h,d];if(v&&(function(t,e){var n=t[1],i=e[1],o=n|i,a=o<r,c=i==r&&8==n||i==r&&256==n&&t[7].length<=e[8]||384==i&&8==n;if(!a&&!c)return t;1&i&&(t[2]=e[2],o|=1&n?0:4);var l=e[3];if(l){var u=t[3];t[3]=u?An(u,l,e[4]):xe(l),t[4]=u?Lt(t[3],s):xe(e[4])}(l=e[5])&&(u=t[5],t[5]=u?xn(u,l,e[6]):xe(l),t[6]=u?Lt(t[5],s):xe(e[6])),(l=e[7])&&(t[7]=xe(l)),i&r&&(t[8]=null==t[8]?e[8]:ae(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(b,v),n=b[1],d=b[9]),b[9]=null==d?f?0:e.length:oe(d-p,0)||0,1==n)var y=function(t,e){var n=Dn(t);return function i(){return(this&&this!==yt&&this instanceof i?n:t).apply(e,arguments)}}(b[0],b[2]);else y=n!=i&&33!=n||b[4].length?Yn.apply(t,b):Gn.apply(t,b);return(v?hn:wi)(y,b)}function Zn(e,n,i,r,o,a,s){var c=-1,l=e.length,u=n.length;if(l!=u&&!(o&&u>l))return!1;for(;++c<l;){var h=e[c],d=n[c],f=r?r(o?d:h,o?h:d,c):t;if(f!==t){if(f)continue;return!1}if(o){if(!De(n,(function(t){return h===t||i(h,t,r,o,a,s)})))return!1}else if(h!==d&&!i(h,d,r,o,a,s))return!1}return!0}function ti(e,n,i,r,o,a,s){var c=ao(e),l=c.length;if(l!=ao(n).length&&!o)return!1;for(var u=l;u--;){var h=c[u];if(!(o?h in n:bt.call(n,h)))return!1}for(var d=o;++u<l;){var f=e[h=c[u]],p=n[h],m=r?r(o?p:f,o?f:p,h):t;if(!(m===t?i(f,p,r,o,a,s):m))return!1;d||(d="constructor"==h)}if(!d){var g=e.constructor,v=n.constructor;if(g!=v&&"constructor"in e&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function ei(t,e,n){var i=be.callback||ko;return i=i===ko?Be:i,n?i(t,e,n):i}var ni=ge?function(t){return ge.get(t)}:Do;function ii(t){for(var e=t.name+"",n=ve[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function ri(t,e,n){var i=be.indexOf||Di;return i=i===Di?Ct:i,t?i(t,e,n):i}var oi=cn("length");function ai(t){for(var e=ho(t),n=e.length;n--;)e[n][2]=mi(e[n][1]);return e}function si(e,n){var i=null==e?t:e[n];return Hr(i)?i:t}function ci(e,n,i){null==e||di(n,e)||(e=1==(n=Ai(n)).length?e:en(e,dn(n,0,-1)),n=Oi(n));var r=null==e?e:e[n];return null==r?t:r.apply(e,i)}function li(t){return null!=t&&pi(oi(t))}function ui(t,e){return t="number"==typeof t||J.test(t)?+t:-1,e=null==e?me:e,t>-1&&t%1==0&&t<e}function hi(t,e,n){if(!Pr(n))return!1;var i=typeof e;if("number"==i?li(n)&&ui(e,n.length):"string"==i&&e in n){var r=n[e];return t==t?t===r:r!=r}return!1}function di(t,e){var n=typeof t;return!!("string"==n&&U.test(t)||"number"==n)||!Lr(t)&&(!j.test(t)||null!=e&&t in $i(e))}function fi(t){var e=ii(t),n=be[e];if("function"!=typeof n||!(e in Ee.prototype))return!1;if(t===n)return!0;var i=ni(n);return!!i&&t===i[0]}function pi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=me}function mi(t){return t==t&&!Pr(t)}function gi(t,e){t=$i(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function vi(t,e){var n={};return Qe(t,(function(t,i,r){e(t,i,r)&&(n[i]=t)})),n}var bi,yi,wi=(bi=0,yi=0,function(t,e){var n=mr(),i=16-(n-yi);if(yi=n,i>0){if(++bi>=150)return t}else bi=0;return hn(t,e)});function Ei(t){for(var e=so(t),n=e.length,i=n&&t.length,r=!!i&&pi(i)&&(Lr(t)||Or(t)),o=-1,a=[];++o<n;){var s=e[o];(r&&ui(s,i)||bt.call(t,s))&&a.push(s)}return a}function Ci(t){return null==t?[]:li(t)?Pr(t)?t:ut(t):po(t)}function $i(t){return Pr(t)?t:ut(t)}function Ai(t){if(Lr(t))return t;var e=[];return At(t).replace(W,(function(t,n,i,r){e.push(i?r.replace(Y,"$1"):n||t)})),e}function xi(t){return t instanceof Ee?t.clone():new we(t.__wrapped__,t.__chain__,xe(t.__actions__))}var ki=Dr((function(t,e){return Rt(t)&&li(t)?Ue(t,Ke(e,!1,!0)):[]}));function Si(t,e,n){return t&&t.length?((n?hi(t,e,n):null==e)&&(e=1),dn(t,e<0?0:e)):[]}function Ti(t,e,n){var i=t?t.length:0;return i?((n?hi(t,e,n):null==e)&&(e=1),dn(t,0,(e=i-(+e||0))<0?0:e)):[]}var _i=Nn(),Mi=Nn(!0);function Fi(e){return e?e[0]:t}function Di(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?oe(i+n,0):n;else if(n){var r=wn(t,e);return r<i&&(e==e?e===t[r]:t[r]!=t[r])?r:-1}return Ct(t,e,n||0)}var Ri=Dr((function(t){for(var e=t.length,n=e,i=p(u),r=ri(),o=r===Ct,a=[];n--;){var s=t[n]=li(s=t[n])?s:[];i[n]=o&&s.length>=120?Mn(n&&s):null}var c=t[0],l=-1,u=c?c.length:0,h=i[0];t:for(;++l<u;)if(s=c[l],(h?Ae(h,s):r(a,s,0))<0){for(n=e;--n;){var d=i[n];if((d?Ae(d,s):r(t[n],s,0))<0)continue t}h&&h.push(s),a.push(s)}return a}));function Oi(e){var n=e?e.length:0;return n?e[n-1]:t}var Li=Dr((function(t,e){var n=Ie(t,e=Ke(e));return ln(t,e.sort(wt)),n}));function Ii(t){return Si(t,1)}var Ni=Qn(),Bi=Qn(!0),Pi=Dr((function(t){return gn(Ke(t,!1,!0))}));function Hi(e,n,i,r){if(!e||!e.length)return[];null!=n&&"boolean"!=typeof n&&(i=hi(e,n,r=i)?t:n,n=!1);var o=ei();return null==i&&o===Be||(i=o(i,r,3)),n&&ri()===Ct?function(t,e){for(var n,i=-1,r=t.length,o=-1,a=[];++i<r;){var s=t[i],c=e?e(s,i,t):s;i&&n===c||(n=c,a[++o]=s)}return a}(e,i):gn(e,i)}function ji(t){if(!t||!t.length)return[];var e=-1,n=0;t=Te(t,(function(t){if(li(t))return n=oe(t.length,n),!0}));for(var i=p(n);++e<n;)i[e]=_e(t,cn(e));return i}function Ui(e,n,i){if(!e||!e.length)return[];var r=ji(e);return null==n?r:(n=Cn(n,i,4),_e(r,(function(e){return Fe(e,n,t,!0)})))}var Wi=Dr((function(t,e){return li(t)?Ue(t,e):[]})),Vi=Dr(ji);function zi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Lr(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}var qi=Dr((function(e){var n=e.length,i=n>2?e[n-2]:t,r=n>1?e[n-1]:t;return n>2&&"function"==typeof i?n-=2:(i=n>1&&"function"==typeof r?(--n,r):t,r=t),e.length=n,Ui(e,i,r)}));function Yi(t){var e=be(t);return e.__chain__=!0,e}function Ki(t,e,n){return e.call(n,t)}var Gi=Dr((function(t){return t=Ke(t),this.thru((function(e){return function(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,a=p(i+o);++n<i;)a[n]=t[n];for(;++r<o;)a[n++]=e[r];return a}(Lr(e)?e:[$i(e)],t)}))})),Xi=Dr((function(t,e){return Ie(t,Ke(e))})),Qi=kn((function(t,e,n){bt.call(t,n)?++t[n]:t[n]=1}));function Ji(e,n,i){var r=Lr(e)?Se:ze;return i&&hi(e,n,i)&&(n=t),"function"==typeof n&&i===t||(n=ei(n,i,3)),r(e,n)}function Zi(t,e,n){return(Lr(t)?Te:qe)(t,e=ei(e,n,3))}var tr=In(We),er=In(Ve,!0),nr=Hn(ke,We),ir=Hn((function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t}),Ve),rr=kn((function(t,e,n){bt.call(t,n)?t[n].push(e):t[n]=[e]}));function or(t,e,n,i){var r=t?oi(t):0;return pi(r)||(r=(t=po(t)).length),n="number"!=typeof n||i&&hi(e,n,i)?0:n<0?oe(r+n,0):n||0,"string"==typeof t||!Lr(t)&&Vr(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ri(t,e,n)>-1}var ar=kn((function(t,e,n){t[n]=e})),sr=Dr((function(e,n,i){var r=-1,o="function"==typeof n,a=di(n),s=li(e)?p(e.length):[];return We(e,(function(e){var c=o?n:a&&null!=e?e[n]:t;s[++r]=c?c.apply(e,i):ci(e,n,i)})),s}));function cr(t,e,n){return(Lr(t)?_e:on)(t,e=ei(e,n,3))}var lr=kn((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ur=qn(Fe,We),hr=qn((function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}),Ve);function dr(e,n,i){if(i?hi(e,n,i):null==n)return(r=(e=Ci(e)).length)>0?e[un(0,r-1)]:t;var r,o=-1,a=Yr(e),s=(r=a.length)-1;for(n=ae(n<0?0:+n||0,r);++o<n;){var c=un(o,s),l=a[c];a[c]=a[o],a[o]=l}return a.length=n,a}function fr(e,n,i){var r=Lr(e)?De:fn;return i&&hi(e,n,i)&&(n=t),"function"==typeof n&&i===t||(n=ei(n,i,3)),r(e,n)}var pr=Dr((function(t,e){if(null==t)return[];var n=e[2];return n&&hi(e[0],e[1],n)&&(e.length=1),mn(t,Ke(e),[])})),mr=se||function(){return(new b).getTime()};function gr(e,n){var i;if("function"!=typeof n){if("function"!=typeof e)throw new ft(a);var r=e;e=n,n=r}return function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=t),i}}var vr=Dr((function(t,e,n){var r=1;if(n.length){var o=Lt(n,vr.placeholder);r|=i}return Jn(t,r,e,n,o)})),br=Dr((function(t,e){for(var n=-1,i=(e=e.length?Ke(e):oo(t)).length;++n<i;){var r=e[n];t[r]=Jn(t[r],1,t)}return t})),yr=Dr((function(t,e,n){var r=3;if(n.length){var o=Lt(n,yr.placeholder);r|=i}return Jn(e,r,t,n,o)})),wr=Rn(8),Er=Rn(16);function Cr(e,n,i){var r,o,s,c,l,u,h,d=0,f=!1,p=!0;if("function"!=typeof e)throw new ft(a);if(n=n<0?0:+n||0,!0===i){var m=!0;p=!1}else Pr(i)&&(m=!!i.leading,f="maxWait"in i&&oe(+i.maxWait||0,n),p="trailing"in i?!!i.trailing:p);function g(n,i){i&&Vt(i),o=u=h=t,n&&(d=mr(),s=e.apply(l,r),u||o||(r=l=t))}function v(){var t=n-(mr()-c);t<=0||t>n?g(h,o):u=Gt(v,t)}function b(){g(p,u)}function y(){if(r=arguments,c=mr(),l=this,h=p&&(u||!m),!1===f)var i=m&&!u;else{o||m||(d=c);var a=f-(c-d),g=a<=0||a>f;g?(o&&(o=Vt(o)),d=c,s=e.apply(l,r)):o||(o=Gt(b,a))}return g&&u?u=Vt(u):u||n===f||(u=Gt(v,n)),i&&(g=!0,s=e.apply(l,r)),!g||u||o||(r=l=t),s}return y.cancel=function(){u&&Vt(u),o&&Vt(o),d=0,o=u=h=t},y}var $r=Dr((function(t,e){return je(t,1,e)})),Ar=Dr((function(t,e,n){return je(t,e,n)})),xr=Pn(),kr=Pn(!0);function Sr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new ft(a);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new Sr.Cache,n}var Tr=Dr((function(t,e){if(e=Ke(e),"function"!=typeof t||!Se(e,$t))throw new ft(a);var n=e.length;return Dr((function(i){for(var r=ae(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)}))})),_r=zn(i),Mr=zn(64),Fr=Dr((function(e,n){return Jn(e,256,t,t,t,Ke(n))}));function Dr(e,n){if("function"!=typeof e)throw new ft(a);return n=oe(n===t?e.length-1:+n||0,0),function(){for(var t=arguments,i=-1,r=oe(t.length-n,0),o=p(r);++i<r;)o[i]=t[n+i];switch(n){case 0:return e.call(this,o);case 1:return e.call(this,t[0],o);case 2:return e.call(this,t[0],t[1],o)}var a=p(n+1);for(i=-1;++i<n;)a[i]=t[i];return a[n]=o,e.apply(this,a)}}function Rr(t,e){return t>e}function Or(t){return Rt(t)&&li(t)&&bt.call(t,"callee")&&!Yt.call(t,"callee")}var Lr=ne||function(t){return Rt(t)&&pi(t.length)&&Ht.call(t)==l};function Ir(e,n,i,r){var o=(i="function"==typeof i?Cn(i,r,3):t)?i(e,n):t;return o===t?nn(e,n,i):!!o}function Nr(t){return Rt(t)&&"string"==typeof t.message&&Ht.call(t)==d}function Br(t){return Pr(t)&&Ht.call(t)==f}function Pr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Hr(t){return null!=t&&(Br(t)?Ut.test(vt.call(t)):Rt(t)&&Q.test(t))}function jr(t){return"number"==typeof t||Rt(t)&&Ht.call(t)==m}function Ur(e){var n,i;return!(!Rt(e)||Ht.call(e)!=g||Or(e)||!(bt.call(e,"constructor")||"function"!=typeof(n=e.constructor)||n instanceof n))&&(Qe(e,(function(t,e){i=e})),i===t||bt.call(e,i))}function Wr(t){return Pr(t)&&Ht.call(t)==v}function Vr(t){return"string"==typeof t||Rt(t)&&Ht.call(t)==y}function zr(t){return Rt(t)&&pi(t.length)&&!!ot[Ht.call(t)]}function qr(t,e){return t<e}function Yr(t){var e=t?oi(t):0;return pi(e)?e?xe(t):[]:po(t)}function Kr(t){return Ne(t,so(t))}var Gr=Sn((function e(n,i,r,o,a){if(!Pr(n))return n;var s=li(i)&&(Lr(i)||zr(i)),c=s?t:ao(i);return ke(c||i,(function(l,u){if(c&&(l=i[u=l]),Rt(l))o||(o=[]),a||(a=[]),function(e,n,i,r,o,a,s){for(var c=a.length,l=n[i];c--;)if(a[c]==l)return void(e[i]=s[c]);var u=e[i],h=o?o(u,l,i,e,n):t,d=h===t;d&&(h=l,li(l)&&(Lr(l)||zr(l))?h=Lr(u)?u:li(u)?xe(u):[]:Ur(l)||Or(l)?h=Or(u)?Kr(u):Ur(u)?u:{}:d=!1),a.push(l),s.push(h),d?e[i]=r(h,l,o,a,s):(h==h?h!==u:u==u)&&(e[i]=h)}(n,i,u,e,r,o,a);else{var h=n[u],d=r?r(h,l,u,n,i):t,f=d===t;f&&(d=l),d===t&&(!s||u in n)||!f&&(d==d?d===h:h!=h)||(n[u]=d)}})),n})),Xr=Sn((function(t,e,n){return n?Oe(t,e,n):Le(t,e)})),Qr=On(Xr,(function(e,n){return e===t?n:e})),Jr=On(Gr,(function e(n,i){return n===t?i:Gr(n,i,e)})),Zr=Bn(Je),to=Bn(Ze),eo=jn(Ge),no=jn(Xe),io=Un(Je),ro=Un(Ze);function oo(t){return tn(t,so(t))}var ao=re?function(e){var n=null==e?t:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&li(e)?Ei(e):Pr(e)?re(e):[]}:Ei;function so(t){if(null==t)return[];Pr(t)||(t=ut(t));var e=t.length;e=e&&pi(e)&&(Lr(t)||Or(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=p(e),a=e>0;++i<e;)o[i]=i+"";for(var s in t)a&&ui(s,e)||"constructor"==s&&(r||!bt.call(t,s))||o.push(s);return o}var co=Wn(!0),lo=Wn(),uo=Dr((function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=_e(Ke(e),dt),gi(t,Ue(so(t),e));var n=Cn(e[0],e[1],3);return vi(t,(function(t,e,i){return!n(t,e,i)}))}));function ho(t){t=$i(t);for(var e=-1,n=ao(t),i=n.length,r=p(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}var fo=Dr((function(t,e){return null==t?{}:"function"==typeof e[0]?vi(t,Cn(e[0],e[1],3)):gi(t,Ke(e))}));function po(t){return vn(t,ao(t))}var mo=Fn((function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}));function go(t){return(t=At(t))&&t.replace(Z,Tt).replace(q,"")}var vo=Fn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),bo=Vn(),yo=Vn(!0);function wo(t,e){var n="";if(t=At(t),(e=+e)<1||!t||!ie(e))return n;do{e%2&&(n+=t),e=ee(e/2),t+=t}while(e);return n}var Eo=Fn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Co=Fn((function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}));function $o(t,e,n){var i=t;return(t=At(t))?(n?hi(i,e,n):null==e)?t.slice(It(t),Nt(t)+1):(e+="",t.slice(xt(t,e),kt(t,e)+1)):t}function Ao(e,n,i){return i&&hi(e,n,i)&&(n=t),(e=At(e)).match(n||nt)||[]}var xo=Dr((function(e,n){try{return e.apply(t,n)}catch(t){return Nr(t)?t:new w(t)}}));function ko(e,n,i){return i&&hi(e,n,i)&&(n=t),Rt(e)?To(e):Be(e,n)}function So(t){return t}function To(t){return an(Pe(t,!0))}var _o=Dr((function(t,e){return function(n){return ci(n,t,e)}})),Mo=Dr((function(t,e){return function(n){return ci(t,n,e)}}));function Fo(e,n,i){if(null==i){var r=Pr(n),o=r?ao(n):t,a=o&&o.length?tn(n,o):t;(a?a.length:r)||(a=!1,i=n,n=e,e=this)}a||(a=tn(n,ao(n)));var s=!0,c=-1,l=Br(e),u=a.length;!1===i?s=!1:Pr(i)&&"chain"in i&&(s=i.chain);for(;++c<u;){var h=a[c],d=n[h];e[h]=d,l&&(e.prototype[h]=function(t){return function(){var n=this.__chain__;if(s||n){var i=e(this.__wrapped__);return(i.__actions__=xe(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,Me([this.value()],arguments))}}(d))}return e}function Do(){}function Ro(t){return di(t)?cn(t):function(t){var e=t+"";return t=Ai(t),function(n){return en(n,t,e)}}(t)}var Oo,Lo=Xn("ceil"),Io=Xn("floor"),No=Ln(Rr,ue),Bo=Ln(qr,he),Po=Xn("round");return be.prototype=ye.prototype,we.prototype=He(ye.prototype),we.prototype.constructor=we,Ee.prototype=He(ye.prototype),Ee.prototype.constructor=Ee,Ce.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ce.prototype.get=function(e){return"__proto__"==e?t:this.__data__[e]},Ce.prototype.has=function(t){return"__proto__"!=t&&bt.call(this.__data__,t)},Ce.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},$e.prototype.push=function(t){var e=this.data;"string"==typeof t||Pr(t)?e.set.add(t):e.hash[t]=!0},Sr.Cache=Ce,be.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new ft(a);var n=t;t=e,e=n}return t=ie(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},be.ary=function(e,n,i){return i&&hi(e,n,i)&&(n=t),n=e&&null==n?e.length:oe(+n||0,0),Jn(e,r,t,t,t,t,n)},be.assign=Xr,be.at=Xi,be.before=gr,be.bind=vr,be.bindAll=br,be.bindKey=yr,be.callback=ko,be.chain=Yi,be.chunk=function(t,e,n){e=(n?hi(t,e,n):null==e)?1:oe(ee(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,a=p(Zt(r/e));i<r;)a[++o]=dn(t,i,i+=e);return a},be.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r},be.constant=function(t){return function(){return t}},be.countBy=Qi,be.create=function(e,n,i){var r=He(e);return i&&hi(e,n,i)&&(n=t),n?Le(r,n):r},be.curry=wr,be.curryRight=Er,be.debounce=Cr,be.defaults=Qr,be.defaultsDeep=Jr,be.defer=$r,be.delay=Ar,be.difference=ki,be.drop=Si,be.dropRight=Ti,be.dropRightWhile=function(t,e,n){return t&&t.length?bn(t,ei(e,n,3),!0,!0):[]},be.dropWhile=function(t,e,n){return t&&t.length?bn(t,ei(e,n,3),!0):[]},be.fill=function(e,n,i,r){var o=e?e.length:0;return o?(i&&"number"!=typeof i&&hi(e,n,i)&&(i=0,r=o),function(e,n,i,r){var o=e.length;for((i=null==i?0:+i||0)<0&&(i=-i>o?0:o+i),(r=r===t||r>o?o:+r||0)<0&&(r+=o),o=i>r?0:r>>>0,i>>>=0;i<o;)e[i++]=n;return e}(e,n,i,r)):[]},be.filter=Zi,be.flatten=function(t,e,n){var i=t?t.length:0;return n&&hi(t,e,n)&&(e=!1),i?Ke(t,e):[]},be.flattenDeep=function(t){return t&&t.length?Ke(t,!0):[]},be.flow=xr,be.flowRight=kr,be.forEach=nr,be.forEachRight=ir,be.forIn=eo,be.forInRight=no,be.forOwn=io,be.forOwnRight=ro,be.functions=oo,be.groupBy=rr,be.indexBy=ar,be.initial=function(t){return Ti(t,1)},be.intersection=Ri,be.invert=function(e,n,i){i&&hi(e,n,i)&&(n=t);for(var r=-1,o=ao(e),a=o.length,s={};++r<a;){var c=o[r],l=e[c];n?bt.call(s,l)?s[l].push(c):s[l]=[c]:s[l]=c}return s},be.invoke=sr,be.keys=ao,be.keysIn=so,be.map=cr,be.mapKeys=co,be.mapValues=lo,be.matches=To,be.matchesProperty=function(t,e){return sn(t,Pe(e,!0))},be.memoize=Sr,be.merge=Gr,be.method=_o,be.methodOf=Mo,be.mixin=Fo,be.modArgs=Tr,be.negate=function(t){if("function"!=typeof t)throw new ft(a);return function(){return!t.apply(this,arguments)}},be.omit=uo,be.once=function(t){return gr(2,t)},be.pairs=ho,be.partial=_r,be.partialRight=Mr,be.partition=lr,be.pick=fo,be.pluck=function(t,e){return cr(t,Ro(e))},be.property=Ro,be.propertyOf=function(t){return function(e){return en(t,Ai(e),e+"")}},be.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=ri(),r=t.length;++n<r;)for(var o=0,a=t[n];(o=i(e,a,o))>-1;)Xt.call(e,o,1);return e},be.pullAt=Li,be.range=function(e,n,i){i&&hi(e,n,i)&&(n=i=t),e=+e||0,null==n?(n=e,e=0):n=+n||0;for(var r=-1,o=oe(Zt((n-e)/((i=null==i?1:+i||0)||1)),0),a=p(o);++r<o;)a[r]=e,e+=i;return a},be.rearg=Fr,be.reject=function(t,e,n){var i=Lr(t)?Te:qe;return e=ei(e,n,3),i(t,(function(t,n,i){return!e(t,n,i)}))},be.remove=function(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],a=t.length;for(e=ei(e,n,3);++r<a;){var s=t[r];e(s,r,t)&&(i.push(s),o.push(r))}return ln(t,o),i},be.rest=Ii,be.restParam=Dr,be.set=function(t,e,n){if(null==t)return t;for(var i=e+"",r=-1,o=(e=null!=t[i]||di(e,t)?[i]:Ai(e)).length,a=o-1,s=t;null!=s&&++r<o;){var c=e[r];Pr(s)&&(r==a?s[c]=n:null==s[c]&&(s[c]=ui(e[r+1])?[]:{})),s=s[c]}return t},be.shuffle=function(t){return dr(t,he)},be.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&hi(t,e,n)&&(e=0,n=i),dn(t,e,n)):[]},be.sortBy=function(e,n,i){if(null==e)return[];i&&hi(e,n,i)&&(n=t);var r=-1;n=ei(n,i,3);var o=on(e,(function(t,e,i){return{criteria:n(t,e,i),index:++r,value:t}}));return pn(o,St)},be.sortByAll=pr,be.sortByOrder=function(e,n,i,r){return null==e?[]:(r&&hi(n,i,r)&&(i=t),Lr(n)||(n=null==n?[]:[n]),Lr(i)||(i=null==i?[]:[i]),mn(e,n,i))},be.spread=function(t){if("function"!=typeof t)throw new ft(a);return function(e){return t.apply(this,e)}},be.take=function(t,e,n){return t&&t.length?((n?hi(t,e,n):null==e)&&(e=1),dn(t,0,e<0?0:e)):[]},be.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?hi(t,e,n):null==e)&&(e=1),dn(t,(e=i-(+e||0))<0?0:e)):[]},be.takeRightWhile=function(t,e,n){return t&&t.length?bn(t,ei(e,n,3),!1,!0):[]},be.takeWhile=function(t,e,n){return t&&t.length?bn(t,ei(e,n,3)):[]},be.tap=function(t,e,n){return e.call(n,t),t},be.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new ft(a);return!1===n?i=!1:Pr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Cr(t,e,{leading:i,maxWait:+e,trailing:r})},be.thru=Ki,be.times=function(t,e,n){if((t=ee(t))<1||!ie(t))return[];var i=-1,r=p(ae(t,de));for(e=Cn(e,n,1);++i<t;)i<de?r[i]=e(i):e(i);return r},be.toArray=Yr,be.toPlainObject=Kr,be.transform=function(e,n,i,r){var o=Lr(e)||zr(e);if(n=ei(n,r,4),null==i)if(o||Pr(e)){var a=e.constructor;i=o?Lr(e)?new a:[]:He(Br(a)?a.prototype:t)}else i={};return(o?ke:Je)(e,(function(t,e,r){return n(i,t,e,r)})),i},be.union=Pi,be.uniq=Hi,be.unzip=ji,be.unzipWith=Ui,be.values=po,be.valuesIn=function(t){return vn(t,so(t))},be.where=function(t,e){return Zi(t,an(e))},be.without=Wi,be.wrap=function(e,n){return Jn(n=null==n?So:n,i,t,[e],[])},be.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(li(n))var i=i?Me(Ue(i,n),Ue(n,i)):n}return i?gn(i):[]},be.zip=Vi,be.zipObject=zi,be.zipWith=qi,be.backflow=kr,be.collect=cr,be.compose=kr,be.each=nr,be.eachRight=ir,be.extend=Xr,be.iteratee=ko,be.methods=oo,be.object=zi,be.select=Zi,be.tail=Ii,be.unique=Hi,Fo(be,be),be.add=function(t,e){return(+t||0)+(+e||0)},be.attempt=xo,be.camelCase=mo,be.capitalize=function(t){return(t=At(t))&&t.charAt(0).toUpperCase()+t.slice(1)},be.ceil=Lo,be.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&hi(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?Pe(t,e,Cn(n,i,3)):Pe(t,e)},be.cloneDeep=function(t,e,n){return"function"==typeof e?Pe(t,!0,Cn(e,n,3)):Pe(t,!0)},be.deburr=go,be.endsWith=function(e,n,i){n+="";var r=(e=At(e)).length;return i=i===t?r:ae(i<0?0:+i||0,r),(i-=n.length)>=0&&e.indexOf(n,i)==i},be.escape=function(t){return(t=At(t))&&N.test(t)?t.replace(L,_t):t},be.escapeRegExp=function(t){return(t=At(t))&&z.test(t)?t.replace(V,Mt):t||"(?:)"},be.every=Ji,be.find=tr,be.findIndex=_i,be.findKey=Zr,be.findLast=er,be.findLastIndex=Mi,be.findLastKey=to,be.findWhere=function(t,e){return tr(t,an(e))},be.first=Fi,be.floor=Io,be.get=function(e,n,i){var r=null==e?t:en(e,Ai(n),n+"");return r===t?i:r},be.gt=Rr,be.gte=function(t,e){return t>=e},be.has=function(t,e){if(null==t)return!1;var n=bt.call(t,e);if(!n&&!di(e)){if(null==(t=1==(e=Ai(e)).length?t:en(t,dn(e,0,-1))))return!1;e=Oi(e),n=bt.call(t,e)}return n||pi(t.length)&&ui(e,t.length)&&(Lr(t)||Or(t))},be.identity=So,be.includes=or,be.indexOf=Di,be.inRange=function(e,n,i){return n=+n||0,i===t?(i=n,n=0):i=+i||0,e>=ae(n,i)&&e<oe(n,i)},be.isArguments=Or,be.isArray=Lr,be.isBoolean=function(t){return!0===t||!1===t||Rt(t)&&Ht.call(t)==u},be.isDate=function(t){return Rt(t)&&Ht.call(t)==h},be.isElement=function(t){return!!t&&1===t.nodeType&&Rt(t)&&!Ur(t)},be.isEmpty=function(t){return null==t||(li(t)&&(Lr(t)||Vr(t)||Or(t)||Rt(t)&&Br(t.splice))?!t.length:!ao(t).length)},be.isEqual=Ir,be.isError=Nr,be.isFinite=function(t){return"number"==typeof t&&ie(t)},be.isFunction=Br,be.isMatch=function(e,n,i,r){return i="function"==typeof i?Cn(i,r,3):t,rn(e,ai(n),i)},be.isNaN=function(t){return jr(t)&&t!=+t},be.isNative=Hr,be.isNull=function(t){return null===t},be.isNumber=jr,be.isObject=Pr,be.isPlainObject=Ur,be.isRegExp=Wr,be.isString=Vr,be.isTypedArray=zr,be.isUndefined=function(e){return e===t},be.kebabCase=vo,be.last=Oi,be.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?oe(i+n,0):ae(n||0,i-1))+1;else if(n){var o=t[r=wn(t,e,!0)-1];return(e==e?e===o:o!=o)?r:-1}if(e!=e)return Dt(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},be.lt=qr,be.lte=function(t,e){return t<=e},be.max=No,be.min=Bo,be.noConflict=function(){return yt._=jt,this},be.noop=Do,be.now=mr,be.pad=function(t,e,n){e=+e;var i=(t=At(t)).length;if(i>=e||!ie(e))return t;var r=(e-i)/2,o=ee(r);return(n=Kn("",Zt(r),n)).slice(0,o)+t+n},be.padLeft=bo,be.padRight=yo,be.parseInt=function(t,e,n){return(n?hi(t,e,n):null==e)?e=0:e&&(e=+e),t=$o(t),ce(t,e||(X.test(t)?16:10))},be.random=function(e,n,i){i&&hi(e,n,i)&&(n=i=t);var r=null==e,o=null==n;if(null==i&&(o&&"boolean"==typeof e?(i=e,e=1):"boolean"==typeof n&&(i=n,o=!0)),r&&o&&(n=1,o=!1),e=+e||0,o?(n=e,e=0):n=+n||0,i||e%1||n%1){var a=le();return ae(e+a*(n-e+zt("1e-"+((a+"").length-1))),n)}return un(e,n)},be.reduce=ur,be.reduceRight=hr,be.repeat=wo,be.result=function(e,n,i){var r=null==e?t:e[n];return r===t&&(null==e||di(n,e)||(r=null==(e=1==(n=Ai(n)).length?e:en(e,dn(n,0,-1)))?t:e[Oi(n)]),r=r===t?i:r),Br(r)?r.call(e):r},be.round=Po,be.runInContext=e,be.size=function(t){var e=t?oi(t):0;return pi(e)?e:ao(t).length},be.snakeCase=Eo,be.some=fr,be.sortedIndex=Ni,be.sortedLastIndex=Bi,be.startCase=Co,be.startsWith=function(t,e,n){return t=At(t),n=null==n?0:ae(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},be.sum=function(e,n,i){return i&&hi(e,n,i)&&(n=t),1==(n=ei(n,i,3)).length?function(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}(Lr(e)?e:Ci(e),n):function(t,e){var n=0;return We(t,(function(t,i,r){n+=+e(t,i,r)||0})),n}(e,n)},be.template=function(e,n,i){var r=be.templateSettings;i&&hi(e,n,i)&&(n=i=t),e=At(e),n=Oe(Le({},i||n),r,Re);var o,a,s=Oe(Le({},n.imports),r.imports,Re),c=ao(s),l=vn(s,c),u=0,h=n.interpolate||tt,d="__p += '",f=ht((n.escape||tt).source+"|"+h.source+"|"+(h===H?K:tt).source+"|"+(n.evaluate||tt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,i,r,s,c){return i||(i=r),d+=e.slice(u,c).replace(et,Ft),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var m=n.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(F,""):d).replace(D,"$1").replace(R,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=xo((function(){return st(c,p+"return "+d).apply(t,l)}));if(g.source=d,Nr(g))throw g;return g},be.trim=$o,be.trimLeft=function(t,e,n){var i=t;return(t=At(t))?(n?hi(i,e,n):null==e)?t.slice(It(t)):t.slice(xt(t,e+"")):t},be.trimRight=function(t,e,n){var i=t;return(t=At(t))?(n?hi(i,e,n):null==e)?t.slice(0,Nt(t)+1):t.slice(0,kt(t,e+"")+1):t},be.trunc=function(e,n,i){i&&hi(e,n,i)&&(n=t);var r=30,o="...";if(null!=n)if(Pr(n)){var a="separator"in n?n.separator:a;r="length"in n?+n.length||0:r,o="omission"in n?At(n.omission):o}else r=+n||0;if(r>=(e=At(e)).length)return e;var s=r-o.length;if(s<1)return o;var c=e.slice(0,s);if(null==a)return c+o;if(Wr(a)){if(e.slice(s).search(a)){var l,u,h=e.slice(0,s);for(a.global||(a=ht(a.source,(G.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(h);)u=l.index;c=c.slice(0,null==u?s:u)}}else if(e.indexOf(a,s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+o},be.unescape=function(t){return(t=At(t))&&I.test(t)?t.replace(O,Bt):t},be.uniqueId=function(t){var e=++Ot;return At(t)+e},be.words=Ao,be.all=Ji,be.any=fr,be.contains=or,be.eq=Ir,be.detect=tr,be.foldl=ur,be.foldr=hr,be.head=Fi,be.include=or,be.inject=ur,Fo(be,(Oo={},Je(be,(function(t,e){be.prototype[e]||(Oo[e]=t)})),Oo),!1),be.sample=dr,be.prototype.sample=function(t){return this.__chain__||null!=t?this.thru((function(e){return dr(e,t)})):dr(this.value())},be.VERSION="3.10.1",ke(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){be[t].placeholder=be})),ke(["drop","take"],(function(t,e){Ee.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Ee(this);n=null==n?1:oe(ee(n)||0,0);var r=this.clone();return i?r.__takeCount__=ae(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},Ee.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ke(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=2!=n;Ee.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:ei(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}})),ke(["first","last"],(function(t,e){var n="take"+(e?"Right":"");Ee.prototype[t]=function(){return this[n](1).value()[0]}})),ke(["initial","rest"],(function(t,e){var n="drop"+(e?"":"Right");Ee.prototype[t]=function(){return this.__filtered__?new Ee(this):this[n](1)}})),ke(["pluck","where"],(function(t,e){var n=e?"filter":"map",i=e?an:Ro;Ee.prototype[t]=function(t){return this[n](i(t))}})),Ee.prototype.compact=function(){return this.filter(So)},Ee.prototype.reject=function(t,e){return t=ei(t,e,1),this.filter((function(e){return!t(e)}))},Ee.prototype.slice=function(e,n){e=null==e?0:+e||0;var i=this;return i.__filtered__&&(e>0||n<0)?new Ee(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),n!==t&&(i=(n=+n||0)<0?i.dropRight(-n):i.take(n-e)),i)},Ee.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Ee.prototype.toArray=function(){return this.take(he)},Je(Ee.prototype,(function(e,n){var i=/^(?:filter|map|reject)|While$/.test(n),r=/^(?:first|last)$/.test(n),o=be[r?"take"+("last"==n?"Right":""):n];o&&(be.prototype[n]=function(){var n=r?[1]:arguments,a=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,l=s instanceof Ee,u=n[0],h=l||Lr(s);h&&i&&"function"==typeof u&&1!=u.length&&(l=h=!1);var d=function(e){return r&&a?o(e,1)[0]:o.apply(t,Me([e],n))},f={func:Ki,args:[d],thisArg:t},p=l&&!c;if(r&&!a)return p?((s=s.clone()).__actions__.push(f),e.call(s)):o.call(t,this.value())[0];if(!r&&h){s=p?s:new Ee(this);var m=e.apply(s,n);return m.__actions__.push(f),new we(m,a)}return this.thru(d)})})),ke(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(t){var e=(/^(?:replace|split)$/.test(t)?gt:pt)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);be.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n]((function(n){return e.apply(n,t)}))}})),Je(Ee.prototype,(function(t,e){var n=be[e];if(n){var i=n.name+"";(ve[i]||(ve[i]=[])).push({name:e,func:n})}})),ve[Yn(t,2).name]=[{name:"wrapper",func:t}],Ee.prototype.clone=function(){var t=new Ee(this.__wrapped__);return t.__actions__=xe(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xe(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xe(this.__views__),t},Ee.prototype.reverse=function(){if(this.__filtered__){var t=new Ee(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ee.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Lr(t),i=e<0,r=n?t.length:0,a=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ae(e,t+a);break;case"takeRight":t=oe(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),s=a.start,c=a.end,l=c-s,u=i?c:s-1,h=this.__iteratees__,d=h.length,f=0,p=ae(l,this.__takeCount__);if(!n||r<o||r==l&&p==l)return yn(t,this.__actions__);var m=[];t:for(;l--&&f<p;){for(var g=-1,v=t[u+=e];++g<d;){var b=h[g],y=b.iteratee,w=b.type,E=y(v);if(2==w)v=E;else if(!E){if(1==w)continue t;break t}}m[f++]=v}return m},be.prototype.chain=function(){return Yi(this)},be.prototype.commit=function(){return new we(this.value(),this.__chain__)},be.prototype.concat=Gi,be.prototype.plant=function(t){for(var e,n=this;n instanceof ye;){var i=xi(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},be.prototype.reverse=function(){var e=this.__wrapped__,n=function(t){return t.reverse()};if(e instanceof Ee){var i=e;return this.__actions__.length&&(i=new Ee(this)),(i=i.reverse()).__actions__.push({func:Ki,args:[n],thisArg:t}),new we(i,this.__chain__)}return this.thru(n)},be.prototype.toString=function(){return this.value()+""},be.prototype.run=be.prototype.toJSON=be.prototype.valueOf=be.prototype.value=function(){return yn(this.__wrapped__,this.__actions__)},be.prototype.collect=be.prototype.map,be.prototype.head=be.prototype.first,be.prototype.select=be.prototype.filter,be.prototype.tail=be.prototype.rest,be}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(yt._=Pt,define((function(){return Pt}))):ft&&pt?bt?(pt.exports=Pt)._=Pt:ft._=Pt:yt._=Pt}.call(this),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}((function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){if(Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=function(t,e){for(;t&&9!==t.nodeType;){if(t.matches(e))return t;t=t.parentNode}}},{}],2:[function(t,e,n){var i=t("./closest");function r(t,e,n,r){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&r.call(t,n)}}e.exports=function(t,e,n,i,o){var a=r.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){var i=t("./is"),r=t("delegate");e.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(i.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}(t,e,n);if(i.string(t))return function(t,e,n){return r(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(t,e,n){e.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}},{}],6:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],7:[function(t,e,n){!function(i,r){if(void 0!==n)r(e,t("select"));else{var o={exports:{}};r(o,i.select),i.clipboardAction=o.exports}}(this,(function(t,e){"use strict";var n,i=(n=e)&&n.__esModule?n:{default:n},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a}))},{select:5}],8:[function(t,e,n){!function(i,r){if(void 0!==n)r(e,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};r(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}}(this,(function(t,e,n,i){"use strict";var r=s(e),o=s(n),a=s(i);function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),c(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,a.default)(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),e}(o.default);function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}t.exports=l}))},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})),function(){"use strict";var t,e,n="ngclipboard";"object"==typeof module&&module.exports?(t=require("angular"),e=require("clipboard"),module.exports=n):(t=window.angular,e=window.Clipboard),t.module(n,[]).directive("ngclipboard",(function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(t,n){var i=new e(n[0]);i.on("success",(function(e){t.$apply((function(){t.ngclipboardSuccess({e:e})}))})),i.on("error",(function(e){t.$apply((function(){t.ngclipboardError({e:e})}))}))}}}))}(),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,n,i,r,o,a){var s,c=0,l=0,u=a.latencyThreshold;function h(){i.cancel(s),a.complete(),l=0,c=0}function d(e){var i,r=n.get("$http"),o=t.defaults;!e.cache&&!o.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(i=angular.isObject(e.cache)?e.cache:angular.isObject(o.cache)?o.cache:r);var a=void 0!==i&&void 0!==i.get(e.url);return void 0!==e.cached&&a!==e.cached?e.cached:(e.cached=a,a)}return{request:function(t){return t.ignoreLoadingBar||d(t)||(r.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===c&&(s=i((function(){a.start()}),u)),c++,a.set(l/c)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||d(t.config)||(l++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),l>=c?h():a.set(l/c)),t):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||d(t.config)||(l++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),l>=c?h():a.set(l/c)),e.reject(t)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",(function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,n,i){var r,o,a,s=this.parentSelector,c=angular.element(this.loadingBarTemplate),l=c.find("div").eq(0),u=angular.element(this.spinnerTemplate),h=!1,d=0,f=this.autoIncrement,p=this.includeSpinner,m=this.includeBar,g=this.startSize;function v(t){if(h){var e=100*t+"%";l.css("width",e),d=t,f&&(n.cancel(o),o=n((function(){b()}),250))}}function b(){if(!(y()>=1)){var t,e=y();t=e>=0&&e<.25?(3*Math.random()+3)/100:e>=.25&&e<.65?3*Math.random()/100:e>=.65&&e<.9?2*Math.random()/100:e>=.9&&e<.99?.005:0,v(y()+t)}}function y(){return d}function w(){d=0,h=!1}return{start:function(){if(r||(r=t.get("$animate")),n.cancel(a),!h){var o=e[0],l=o.querySelector?o.querySelector(s):e.find(s)[0];l||(l=o.getElementsByTagName("body")[0]);var d=angular.element(l),f=l.lastChild&&angular.element(l.lastChild);i.$broadcast("cfpLoadingBar:started"),h=!0,m&&r.enter(c,d,f),p&&r.enter(u,d,c),v(g)}},set:v,status:y,inc:b,complete:function(){r||(r=t.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),v(1),n.cancel(a),a=n((function(){var t=r.leave(c,w);t&&t.then&&t.then(w),r.leave(u)}),500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]}))}(),function(t,e,n){"use strict";e.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.interaction","material.core.gestures","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.progressCircular","material.components.panel","material.components.progressLinear","material.components.radioButton","material.components.showHide","material.components.sidenav","material.components.select","material.components.slider","material.components.sticky","material.components.subheader","material.components.switch","material.components.swipe","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"]),function(){function t(t,e){e.has("$swipe")&&t.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}function n(t,e){t.decorator("$$rAF",["$delegate",i]),t.decorator("$q",["$delegate",r]),e.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(t){return t.throttle=function(e){var n,i,r,o;return function(){n=arguments,o=this,r=e,i||(i=!0,t((function(){r.apply(o,Array.prototype.slice.call(n)),i=!1})))}},t}function r(t){return t.resolve||(t.resolve=t.when),t}t.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],i.$inject=["$delegate"],r.$inject=["$delegate"],e.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(t)}(),function(){function t(t){return{restrict:"A",link:{pre:function(n,i,r){var o=r.mdAutoFocus||r.mdAutofocus||r.mdSidenavFocus;function a(t){e.isUndefined(t)&&(t=!0),i.toggleClass("md-autofocus",!!t)}a(t(o)(n)),o&&n.$watch(o,a)}}}}t.$inject=["$parse"],e.module("material.core").directive("mdAutofocus",t).directive("mdAutoFocus",t).directive("mdSidenavFocus",t)}(),e.module("material.core").factory("$mdColorUtil",(function(){return{rgbaToHex:function(t){return((t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"").toUpperCase()},hexToRgba:function(t){var e="#"===t[0]?t.substr(1):t,n=e.length/3,i=e.substr(0,n),r=e.substr(n,n),o=e.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"},rgbToRgba:function(t){return t.replace(")",", 0.1)").replace("(","a(")},rgbaToRgb:function(t){return t?t.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}}})),e.module("material.core").factory("$mdConstant",(function(){var t=document.createElement("div"),n=function(t){var e,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(e in t.style)if(n=i.exec(e))return n[0]}(t),i=/webkit/i.test(n),r=/([:\-_]+(.))/g;function o(e){var i=(n+"-"+e).replace(r,(function(t,e,n,i){return i?n.toUpperCase():n})),o=i.charAt(0).toLowerCase()+i.substring(1);return a(t,e)?e:a(t,i)?i:a(t,o)?o:e}function a(t,n){return e.isDefined(t.style[n])}var s={isInputKey:function(t){return t.keyCode>=31&&t.keyCode<=90},isNumPadKey:function(t){return 3===t.location&&t.keyCode>=97&&t.keyCode<=105},isMetaKey:function(t){return t.keyCode>=91&&t.keyCode<=93},isFnLockKey:function(t){return t.keyCode>=112&&t.keyCode<=145},isNavigationKey:function(t){var e=s.KEY_CODE;return-1!=[e.SPACE,e.ENTER,e.UP_ARROW,e.DOWN_ARROW].indexOf(t.keyCode)},hasModifierKey:function(t){return t.ctrlKey||t.metaKey||t.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(i?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(i?" webkitAnimationEnd":""),TRANSFORM:o("transform"),TRANSFORM_ORIGIN:o("transformOrigin"),TRANSITION:o("transition"),TRANSITION_DURATION:o("transitionDuration"),ANIMATION_PLAY_STATE:o("animationPlayState"),ANIMATION_DURATION:o("animationDuration"),ANIMATION_NAME:o("animationName"),ANIMATION_TIMING:o("animationTimingFunction"),ANIMATION_DIRECTION:o("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return s})),function(){function t(t,n){var i=function(){return!0};t&&!e.isArray(t)&&(t=Array.prototype.slice.call(t)),n=!!n;var r=t||[];return{items:function(){return[].concat(r)},count:function(){return r.length},inRange:o,contains:s,indexOf:a,itemAt:function(t){return o(t)?r[t]:null},findBy:function(t,e){return r.filter((function(n){return n[t]===e}))},add:function(t,n){return t?(e.isNumber(n)||(n=r.length),r.splice(n,0,t),a(t)):-1},remove:function(t){s(t)&&r.splice(a(t),1)},first:c,last:l,next:e.bind(null,u,!1),previous:e.bind(null,u,!0),hasPrevious:function(t){return!!t&&o(a(t)-1)},hasNext:function(t){return!!t&&o(a(t)+1)}};function o(t){return r.length&&t>-1&&t<r.length}function a(t){return r.indexOf(t)}function s(t){return t&&a(t)>-1}function c(){return r.length?r[0]:null}function l(){return r.length?r[r.length-1]:null}function u(t,s,u,h){u=u||i;for(var d=a(s);;){if(!o(d))return null;var f=d+(t?-1:1),p=null;if(o(f)?p=r[f]:n&&(f=a(p=t?l():c())),null===p||f===h)return null;if(u(p))return p;e.isUndefined(h)&&(h=f),d=f}}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=t,e}])}])}(),function(){function t(t,n,i){var r={},o={},a={},s={};return c.getResponsiveAttribute=function(e,n){for(var i=0;i<t.MEDIA_PRIORITY.length;i++){var a=t.MEDIA_PRIORITY[i];if(o[r[a]].matches){var s=u(e,n+"-"+a);if(e[s])return e[s]}}return e[u(e,n)]},c.getQuery=function(t){return o[t]},c.watchResponsiveAttributes=function(n,i,r){var o=[];return n.forEach((function(n){var a=u(i,n);for(var s in e.isDefined(i[a])&&o.push(i.$observe(a,e.bind(void 0,r,null))),t.MEDIA)a=u(i,n+"-"+s),e.isDefined(i[a])&&o.push(i.$observe(a,e.bind(void 0,r,s)))})),function(){o.forEach((function(t){t()}))}},c;function c(n){var s=r[n];e.isUndefined(s)&&(s=r[n]=function(e){return t.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}(n));var c=a[s];return e.isUndefined(c)&&(c=function(t){var e=o[t];return e||(e=o[t]=i.matchMedia(t)),e.addListener(l),a[e.media]=!!e.matches}(s)),c}function l(t){n.$evalAsync((function(){a[t.media]=!!t.matches}))}function u(t,e){return s[e]||(s[e]=t.$normalize(e))}}t.$inject=["$mdConstant","$rootScope","$window"],e.module("material.core").factory("$mdMedia",t)}(),function(){function t(t,n){var i=["data","x"];return t?n?o(t):r(t):{buildList:r,buildSelector:o,hasAttribute:function(t,e){if(!(t=a(t)))return!1;for(var n=r(e),i=0;i<n.length;i++)if(t.hasAttribute(n[i]))return!0;return!1},removeAttribute:function(t,e){(t=a(t))&&r(e).forEach((function(e){t.removeAttribute(e)}))}};function r(t){return(t=e.isArray(t)?t:[t]).forEach((function(e){i.forEach((function(n){t.push(n+"-"+e)}))})),t}function o(t){return r(t=e.isArray(t)?t:[t]).map((function(t){return"["+t+"]"})).join(",")}function a(t){if((t=t[0]||t).nodeType)return t}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=t,e}])}])}(),function(){r.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var i=0;function r(r,o,a,s,c,l,u,h,d,f){var p=l.startSymbol(),m=l.endSymbol(),g="{{"===p&&"}}"===m,v=function(t,n,i){var r=!1;if(t&&t.length){var o=d.getComputedStyle(t[0]);r=e.isDefined(o[n])&&(!i||o[n]==i)}return r};function b(t){return t?function(t){return String(t).indexOf("px")>-1}(t)||function(t){return String(t).indexOf("%")>-1}(t)?t:t+"px":"0"}var y={dom:{},now:t.performance&&t.performance.now?e.bind(t.performance,t.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(t,e){if(t.$options){var n=t.$options;return n.getOption?n.getOption(e):n[e]}},bidi:function(t,n,i,o){var a=!("rtl"==r[0].dir||"rtl"==r[0].body.dir);if(0==arguments.length)return a?"ltr":"rtl";var s=e.element(t);a&&e.isDefined(i)?s.css(n,b(i)):!a&&e.isDefined(o)&&s.css(n,b(o))},bidiProperty:function(t,n,i,o){var a=!("rtl"==r[0].dir||"rtl"==r[0].body.dir),s=e.element(t);a&&e.isDefined(n)?(s.css(n,b(o)),s.css(i,"")):!a&&e.isDefined(i)&&(s.css(i,b(o)),s.css(n,""))},clientRect:function(t,e,n){var i=w(t);e=w(e||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(t,e){return y.clientRect(t,e,!0)},nodesToArray:function(t){t=t||[];for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e},getViewportTop:function(){return t.scrollY||t.pageYOffset||0},findFocusTarget:function(t,n){var i,r=this.prefixer("md-autofocus",!0);return(i=o(t,n||r))||n==r||(i=o(t,this.prefixer("md-auto-focus",!0)))||(i=o(t,r)),i;function o(t,n){var i,r=t[0].querySelectorAll(n);return r&&r.length&&r.length&&e.forEach(r,(function(t){(t=e.element(t)).hasClass("md-autofocus")&&(i=t)})),i}},disableScrollAround:function(t,n,i){if(i=i||{},y.disableScrollAround._count=Math.max(0,y.disableScrollAround._count||0),y.disableScrollAround._count++,y.disableScrollAround._restoreScroll)return y.disableScrollAround._restoreScroll;var o=r[0].body,a=function(){var t=r[0].documentElement,n=t.style.cssText||"",i=o.style.cssText||"",a=y.getViewportTop(),s=o.clientWidth,c=o.scrollHeight>o.clientHeight+1;return c&&e.element(o).css({position:"fixed",width:"100%",top:-a+"px"}),o.clientWidth<s&&(o.style.overflow="hidden"),c&&(t.style.overflowY="scroll"),function(){o.style.cssText=i,t.style.cssText=n,o.scrollTop=a}}(),s=function(t){var n;return t=e.element(t||o),i.disableScrollMask?n=t:(n=e.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),t.append(n)),n.on("wheel",r),n.on("touchmove",r),function(){n.off("wheel"),n.off("touchmove"),i.disableScrollMask||n[0].parentNode.removeChild(n[0])};function r(t){t.preventDefault()}}(n);return y.disableScrollAround._restoreScroll=function(){--y.disableScrollAround._count<=0&&(a(),s(),delete y.disableScrollAround._restoreScroll)}},enableScrolling:function(){var t=this.disableScrollAround._restoreScroll;t&&t()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var t=e.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});t.children().css("height","60px"),r[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(e){var n=e[0]||e;document.addEventListener("click",(function t(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",t))}),!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,t,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(t,e){return a(y.supplant('<md-backdrop class="{0}">',[e]))(t)},supplant:function(t,e,n){return n=n||/\{([^\{\}]*)\}/g,t.replace(n,(function(t,n){var i=n.split("."),r=e;try{for(var o in i)i.hasOwnProperty(o)&&(r=r[i[o]])}catch(e){r=t}return"string"==typeof r||"number"==typeof r?r:t}))},fakeNgModel:function(){return{$fake:!0,$setTouched:e.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach((function(t){t()}))},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:e.noop}},debounce:function(t,e,i,r){var a;return function(){var s=i,c=Array.prototype.slice.call(arguments);o.cancel(a),a=o((function(){a=n,t.apply(s,c)}),e||10,r)}},throttle:function(t,e){var n;return function(){var i=arguments,r=y.now();(!n||r-n>e)&&(t.apply(this,i),n=r)}},time:function(t){var e=y.now();return t(),y.now()-e},valueOnUse:function(t,e,n){var i=null,r=Array.prototype.slice.call(arguments),o=r.length>3?r.slice(3):[];Object.defineProperty(t,e,{get:function(){return null===i&&(i=n.apply(t,o)),i}})},nextUid:function(){return""+i++},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getClosest:function(t,n,i){if(e.isString(n)){var r=n.toUpperCase();n=function(t){return t.nodeName.toUpperCase()===r}}if(t instanceof e.element&&(t=t[0]),i&&(t=t.parentNode),!t)return null;do{if(n(t))return t}while(t=t.parentNode);return null},elementContains:function(n,i){return(t.Node&&t.Node.prototype&&Node.prototype.contains?e.bind(n,n.contains):e.bind(n,(function(t){return n===i||!!(16&this.compareDocumentPosition(t))})))(i)},extractElementByName:function(t,n,i,r){var o=function t(e){return function(t){if(t)for(var e=0,i=t.length;e<i;e++)if(t[e].nodeName.toLowerCase()===n)return t[e];return null}(e)||(i?function(e){var n;if(e)for(var i=0,r=e.length;i<r;i++){var o=e[i];if(!n)for(var a=0,s=o.childNodes.length;a<s;a++)n=n||t([o.childNodes[a]])}return n}(e):null)}(t);return!o&&r&&u.warn(y.supplant("Unable to find node '{0}' in element '{1}'.",[n,t[0].outerHTML])),e.element(o||t)},initOptionalProperties:function(t,n,i){i=i||{},e.forEach(t.$$isolateBindings,(function(r,o){if(r.optional&&e.isUndefined(t[o])){var a=e.isDefined(n[r.attrName]);t[o]=e.isDefined(i[o])?i[o]:a}}))},nextTick:function(t,e,n){var i=y.nextTick,r=i.timeout,a=i.queue||[];return a.push({scope:n,callback:t}),null==e&&(e=!0),i.digest=i.digest||e,i.queue=a,r||(i.timeout=o((function(){var t=i.queue,e=i.digest;i.queue=[],i.timeout=null,i.digest=!1,t.forEach((function(t){t.scope&&t.scope.$$destroyed||t.callback()})),e&&s.$digest()}),0,!1))},processTemplate:function(t){return g?t:t&&e.isString(t)?t.replace(/\{\{/g,p).replace(/}}/g,m):t},getParentWithPointerEvents:function(t){for(var e=t.parent();v(e,"pointer-events","none");)e=e.parent();return e},getNearestContentElement:function(t){for(var e=t.parent()[0];e&&e!==h[0]&&e!==document.body&&"MD-CONTENT"!==e.nodeName.toUpperCase();)e=e.parentNode;return e},checkStickySupport:function(){var t,n=e.element("<div>");r[0].body.appendChild(n[0]);for(var i=["sticky","-webkit-sticky"],o=0;o<i.length;++o)if(n.css({position:i[o],top:0,"z-index":2}),n.css("position")==i[o]){t=i[o];break}return n.remove(),t},parseAttributeBoolean:function(t,e){return""===t||!!t&&(!1===e||"false"!==t&&"0"!==t)},hasComputedStyle:v,isParentFormSubmitted:function(t){var n=y.getClosest(t,"form"),i=n?e.element(n).controller("form"):null;return!!i&&i.$submitted},animateScrollTo:function(t,e,n){var i=t.scrollTop,r=e-i,o=i<e,a=y.now();f((function s(){var c,l=(c=n||1e3,function(t,e,n,i){if(t>i)return e+n;var r=(t/=i)*t;return e+n*(-2*(r*t)+3*r)}(y.now()-a,i,r,c));t.scrollTop=l,(o?l<e:l>e)&&f(s)}))},uniq:function(t){if(t)return t.filter((function(t,e,n){return n.indexOf(t)===e}))}};return y.dom.animator=c(y),y;function w(t){return t[0]||t}}e.module("material.core").factory("$mdUtil",r),e.element.prototype.focus=e.element.prototype.focus||function(){return this.length&&this[0].focus(),this},e.element.prototype.blur=e.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function t(t,e,n,i,r){this.$q=t,this.$templateRequest=e,this.$injector=n,this.$compile=i,this.$controller=r}t.$inject=["$q","$templateRequest","$injector","$compile","$controller"],e.module("material.core").service("$mdCompiler",t),t.prototype.compile=function(t){return t.contentElement?this._prepareContentElement(t):this._compileTemplate(t)},t.prototype._prepareContentElement=function(t){var e=this._fetchContentElement(t);return this.$q.resolve({element:e.element,cleanup:e.restore,locals:{},link:function(){return e.element}})},t.prototype._compileTemplate=function(t){var n=this,i=t.templateUrl,r=t.template||"",o=e.extend({},t.resolve),a=e.extend({},t.locals),s=t.transformTemplate||e.identity;return e.forEach(o,(function(t,i){e.isString(t)?o[i]=n.$injector.get(t):o[i]=n.$injector.invoke(t)})),e.extend(o,a),o.$$ngTemplate=i?this.$templateRequest(i):this.$q.when(r),this.$q.all(o).then((function(i){var r=s(i.$$ngTemplate,t),o=t.element||e.element("<div>").html(r.trim()).contents();return n._compileElement(i,o,t)}))},t.prototype._compileElement=function(t,n,i){var r=this,o=this.$compile(n),a={element:n,cleanup:n.remove.bind(n),locals:t,link:function(s){if(t.$scope=s,i.controller){var c=e.extend(t,{$element:n}),l=r.$controller(i.controller,c,!0,i.controllerAs);i.bindToController&&e.extend(l.instance,t);var u=l();n.data("$ngControllerController",u),n.children().data("$ngControllerController",u),a.controller=u}return o(s)}};return a},t.prototype._fetchContentElement=function(t){var n=t.contentElement,i=null;return e.isString(n)?i=r(n=document.querySelector(n)):(n=n[0]||n,i=document.contains(n)?r(n):function(){n.parentNode&&n.parentNode.removeChild(n)}),{element:e.element(n),restore:i};function r(t){var e=t.parentNode,n=t.nextElementSibling;return function(){n?e.insertBefore(t,n):e.appendChild(t)}}}}(),function(){function t(t,n,i,r){var o=this.showWarnings;return{expect:a,expectAsync:s,expectWithText:function(t,e){var n=c(t)||"";n.indexOf(r.startSymbol())>-1?s(t,e,(function(){return c(t)})):a(t,e,n)},expectWithoutText:function(t,e){var n=c(t);n.indexOf(r.startSymbol())>-1||n||a(t,e,n)},getText:c,hasAriaLabel:l,parentHasAriaLabel:function t(n,i){i=i||1;var r=e.element(n)[0]||n;return!!r.parentNode&&(!!function(t){if(!l(t))return!1;if(t.hasAttribute("role"))switch(t.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(t.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}(r.parentNode)||!! --i&&t(r.parentNode,i))}};function a(t,r,a){var s=e.element(t)[0]||t;!s||s.hasAttribute(r)&&0!==s.getAttribute(r).length||function(t,e){var n=!1;function r(t){return"none"===(t.currentStyle?t.currentStyle:i.getComputedStyle(t)).display}if(t.hasChildNodes())for(var o=t.childNodes,a=0;a<o.length;a++){var s=o[a];1===s.nodeType&&s.hasAttribute(e)&&(r(s)||(n=!0))}return n}(s,r)||((a=e.isString(a)?a.trim():"").length?t.attr(r,a):o&&n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',s))}function s(e,n,i){t((function(){a(e,n,i())}))}function c(t){t=t[0]||t;for(var e,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),i="";e=n.nextNode();)r(e)||(i+=e.textContent);return i.trim()||"";function r(e){for(;e.parentNode&&(e=e.parentNode)!==t;)if(e.getAttribute&&"true"===e.getAttribute("aria-hidden"))return!0}}function l(t){var n=e.element(t)[0]||t;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}}t.$inject=["$$rAF","$log","$window","$interpolate"],e.module("material.core").provider("$mdAria",(function(){var e={showWarnings:!0};return{disableWarnings:function(){e.showWarnings=!1},$get:["$$rAF","$log","$window","$interpolate",function(n,i,r,o){return t.apply(e,arguments)}]}}))}(),function(){function n(t,n){this.$timeout=t,this.$mdUtil=n,this.bodyElement=e.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}n.$inject=["$timeout","$mdUtil"],e.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.initializeEvents=function(){var e="MSPointerEvent"in t?"MSPointerDown":"PointerEvent"in t?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),e&&this.bodyElement.on(e,this.onInputEvent.bind(this))},n.prototype.onInputEvent=function(t){if(!this.isBuffering){var e=this.inputEventMap[t.type];"pointer"===e&&(e=this.iePointerMap[t.pointerType]||t.pointerType),this.lastInteractionType=e,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(t){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(t),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(t){var n=e.isNumber(t)?t:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){l.$inject=["$$MdGestureHandler","$$rAF","$timeout"],h.$inject=["$mdGesture","$$MdGestureHandler"];var n,i,r={},o=!1,a=null,s=!1;function c(){}function l(n,i,a){var s=navigator.userAgent||navigator.vendor||t.opera,c=s.match(/ipad|iphone|ipod/i),l=s.match(/android/i),u=function(){for(var t=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],i=0;i<n.length;i++){var r=n[i],o=r?r+"TouchAction":"touchAction";if(e.isDefined(t.style[o]))return o}}(),h=void 0!==t.jQuery&&e.element===t.jQuery,f={handler:function(t,i){var o=new n(t);return e.extend(o,i),r[t]=o,f},register:function(t,e,n){var i=r[e.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(r).join(", "));return i.registerElement(t,n)},isHijackingClicks:(c||l)&&!h&&!o};function p(t){return function(e,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(e,t,n)}}return f.isHijackingClicks&&(f.handler("click",{options:{maxDistance:6},onEnd:p("click")}),f.handler("focus",{options:{maxDistance:6},onEnd:function(t,e){var n,i;e.distance<this.state.options.maxDistance&&(i=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"],"-1"!=(n=t.target).getAttribute("tabindex")&&!n.hasAttribute("DISABLED")&&(n.hasAttribute("tabindex")||n.hasAttribute("href")||n.isContentEditable||-1!=i.indexOf(n.nodeName))&&(this.dispatchEvent(t,"focus",e),t.target.focus()))}}),f.handler("mouseup",{options:{maxDistance:6},onEnd:p("mouseup")}),f.handler("mousedown",{onStart:function(t){this.dispatchEvent(t,"mousedown")}})),f.handler("press",{onStart:function(t,e){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t,e){this.dispatchEvent(t,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){a.cancel(this.state.timeout)},onStart:function(t,n){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:n.x,y:n.y},this.state.timeout=a(e.bind(this,(function(){this.dispatchEvent(t,"$md.hold"),this.cancel()})),this.state.options.delay,!1)},onMove:function(t,e){u||"touchmove"!==t.type||t.preventDefault();var n=this.state.pos.x-e.x,i=this.state.pos.y-e.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(t,e){u&&(this.oldTouchAction=t[0].style[u],t[0].style[u]=e.horizontal?"pan-y":"pan-x")},onCleanup:function(t){this.oldTouchAction&&(t[0].style[u]=this.oldTouchAction)},onStart:function(t){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,i;u||"touchmove"!==t.type||t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,i=Math.abs(e.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(e.distanceY)>this.state.options.minDistance,i=Math.abs(e.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=d(t),m(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle((function(t){this.state.isRunning&&(m(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))})),onEnd:function(t,e){this.state.dragPointer&&(m(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){var n;Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance?(n="left"==e.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(t,n)):Math.abs(e.velocityY)>this.state.options.minVelocity&&Math.abs(e.distanceY)>this.state.options.minDistance&&(n="up"==e.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(t,n))}})}function u(t){this.name=t,this.state={}}function h(t,o){function c(t){!t.clientX&&!t.clientY||t.$material||t.isIonicTap||p(t)||(t.preventDefault(),t.stopPropagation())}function l(t,e){var i;for(var a in r)(i=r[a])instanceof o&&("start"===t&&i.cancel(),i[t](e,n))}document.contains||(document.contains=function(t){return document.body.contains(t)}),!s&&t.isHijackingClicks&&(document.addEventListener("click",(function(t){var e=0===t.clientX&&0===t.clientY,n=t.target&&"submit"===t.target.type;e||t.$material||t.isIonicTap||p(t)||n?(a=null,"label"==t.target.tagName.toLowerCase()&&(a={x:t.x,y:t.y})):(t.preventDefault(),t.stopPropagation(),a=null)}),!0),document.addEventListener("mouseup",c,!0),document.addEventListener("mousedown",c,!0),document.addEventListener("focus",c,!0),s=!0),e.element(document).on("mousedown touchstart pointerdown",(function(t){if(!n){var e=+Date.now();i&&!f(t,i)&&e-i.endTime<1500||(n=d(t),l("start",t))}})).on("mousemove touchmove pointermove",(function(t){n&&f(t,n)&&(m(t,n),l("move",t))})).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",(function(t){n&&f(t,n)&&(m(t,n),n.endTime=+Date.now(),l("end",t),i=n,n=null)})).on("$$mdGestureReset",(function(){i=n=null}))}function d(t){var e=g(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}function f(t,e){return t&&e&&t.type.charAt(0)===e.type}function p(t){return a&&a.x==t.x&&a.y==t.y}function m(t,e){var n=g(t),i=e.x=n.pageX,r=e.y=n.pageY;e.distanceX=i-e.startX,e.distanceY=r-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=e.distanceX>0?"right":e.distanceX<0?"left":"",e.directionY=e.distanceY>0?"down":e.distanceY<0?"up":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function g(t){return(t=t.originalEvent||t).touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}e.module("material.core.gestures",[]).provider("$mdGesture",c).factory("$$MdGestureHandler",(function(){var i=void 0!==t.jQuery&&e.element===t.jQuery;return u.prototype={options:{},dispatchEvent:i?function(t,i,r){r=r||n;var o=new e.element.Event(i);o.$material=!0,o.pointer=r,o.srcEvent=t,e.extend(o,{clientX:r.x,clientY:r.y,screenX:r.x,screenY:r.y,pageX:r.x,pageY:r.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),e.element(r.target).trigger(o)}:function(e,i,r){var o;r=r||n,"click"===i||"mouseup"==i||"mousedown"==i?(o=document.createEvent("MouseEvents")).initMouseEvent(i,!0,!0,t,e.detail,r.x,r.y,r.x,r.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null):(o=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,{}),o.$material=!0,o.pointer=r,o.srcEvent=e,r.target.dispatchEvent(o)},onSetup:e.noop,onCleanup:e.noop,onStart:e.noop,onMove:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(t,n){if(!this.state.isRunning){var i=this.getNearestParent(t.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:e.extend({},this.options,r),registeredParent:i},this.onStart(t,n)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.onEnd(t,e),this.state.isRunning=!1)},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}return null},registerElement:function(t,e){var n=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",i),n.onSetup(t,e||{}),i;function i(){delete t[0].$mdGesture[n.name],t.off("$destroy",i),n.onCleanup(t,e||{})}}},u})).run(h),c.prototype={skipClickHijack:function(){return o=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(t,e,n){return new l(t,e,n)}]}}(),e.module("material.core").provider("$$interimElement",(function(){return i.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],t.$get=i,t;function t(t){a.$inject=["$$interimElement","$injector"];var n=["onHide","onShow","onRemove"],i={},r={presets:{}},o={setDefaults:function(t){return r.optionsFactory=t.options,r.methods=(t.methods||[]).concat(n),o},addPreset:function(e,i){if((i=i||{}).methods=i.methods||[],i.options=i.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+t+" is reserved!");if(i.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return r.presets[e]={methods:i.methods.concat(n),optionsFactory:i.options,argOption:i.argOption},o},addMethod:function(t,e){return i[t]=e,o},$get:a};return o.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),o;function a(n,o){var a,s,c=n(),l={hide:c.hide,cancel:c.cancel,show:function(t){return(t=t||{})._options&&(t=t._options),c.show(e.extend({},s,t))},destroy:function(t){return c.destroy(t)}};return a=r.methods||[],s=u(r.optionsFactory,{}),e.forEach(i,(function(t,e){l[e]=t})),e.forEach(r.presets,(function(t,n){var i=u(t.optionsFactory,{}),r=(t.methods||[]).concat(a);function o(t){this._options=e.extend({},i,t)}if(e.extend(i,{$type:n}),e.forEach(r,(function(t){o.prototype[t]=function(e){return this._options[t]=e,this}})),t.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);l[s]=function(t){var e=l[n](t);return l.show(e)}}l[n]=function(n){return arguments.length&&t.argOption&&!e.isObject(n)&&!e.isArray(n)?(new o)[t.argOption](n):new o(n)}})),l;function u(e,n){var i={};return i[t]=l,o.invoke(e||function(){return n},{},i)}}}function i(t,i,r,o,a,s,c,l,u,h,d){return function(){var f,p=[],m=[],g=[];return f={show:function(t){var e=new b((t=t||{})||{}),n=t.multiple?i.resolve():i.all(p);t.multiple||(n=n.then((function(){var t=m.concat(g.map(f.cancel));return i.all(t)})));var r=n.then((function(){return e.show().catch((function(t){return t})).finally((function(){p.splice(p.indexOf(r),1),g.push(e)}))}));return p.push(r),e.deferred.promise.catch((function(t){return t instanceof Error&&d(t),t})),e.deferred.promise},hide:v((function(t,e){return(e=e||{}).closeAll?i.all(g.slice().reverse().map(r)):e.closeTo!==n?i.all(g.slice(e.closeTo).map(r)):r(g[g.length-1]);function r(n){var i=n.remove(t,!1,e||{}).catch((function(t){return t})).finally((function(){m.splice(m.indexOf(i),1)}));return g.splice(g.indexOf(n),1),m.push(i),n.deferred.promise}})),cancel:v((function(t,n){var r=g.pop();if(!r)return i.when(t);var o=r.remove(t,!0,n||{}).catch((function(t){return t})).finally((function(){m.splice(m.indexOf(o),1)}));return m.push(o),r.deferred.promise.catch(e.noop)})),destroy:function(t){var n=t?null:g.shift(),r=e.element(t).length&&e.element(t)[0].parentNode;if(r){var o=g.filter((function(t){return t.options.element[0]===r}));o.length&&(n=o[0],g.splice(g.indexOf(n),1))}return n?n.remove(!1,!1,{$destroy:!0}):i.when(!1)},$injector_:h};function v(t){return function(){var e=arguments;return g.length?t.apply(f,e):p.length?p[0].finally((function(){return t.apply(f,e)})):i.when("No interim elements currently showing up.")}}function b(h){var d,p,m=i.when(!0);return h=function(t){return(t=t||{}).template&&(t.template=c.processTemplate(t.template)),e.extend({preserveScope:!1,cancelAutoHide:e.noop,scope:t.scope||r.$new(t.isolateScope),onShow:function(t,e,n){return s.enter(e,n.parent)},onRemove:function(t,e){return e&&s.leave(e)||i.when()}},t)}(h),d={options:h,deferred:i.defer(),show:function(){return i((function(n,r){function o(t){d.deferred.reject(t),r(t)}h.onCompiling&&h.onCompiling(h),function(t){return(t.skipCompile?null:l.compile(t))||i((function(e){e({locals:{},link:function(){return t.element}})}))}(h).then((function(r){p=function(n,i){e.extend(n.locals,i);var r=n.link(i.scope);return i.element=r,i.parent=function(n,i){var r,o=i.parent;return((o=e.isFunction(o)?o(i.scope,n,i):e.isString(o)?e.element(t[0].querySelector(o)):e.element(o))||{}).length?o:(a[0]&&a[0].querySelector&&(r=a[0].querySelector(":not(svg) > body")),r||(r=a[0]),"#comment"==r.nodeName&&(r=t[0].body),e.element(r))}(r,i),i.themable&&u(r),r}(r,h),h.cleanupElement=r.cleanup,m=function(t,n,r){var o=n.onShowing||e.noop,a=n.onComplete||e.noop;try{o(n.scope,t,n,r)}catch(t){return i.reject(t)}return i((function(e,o){try{i.when(n.onShow(n.scope,t,n,r)).then((function(){a(n.scope,t,n),g(),e(t)}),o)}catch(t){o(t.message)}}))}(p,h,r.controller).then(n,o)})).catch(o)}))},remove:function(t,n,r){return p?((h=e.extend(h||{},r||{})).cancelAutoHide&&h.cancelAutoHide(),h.element.triggerHandler("$mdInterimElementRemove"),!0===h.$destroy?v(h.element,h).then((function(){n&&a(t)||o(t)})):(i.when(m).finally((function(){v(h.element,h).then((function(){n?a(t):o(t)}),a)})),d.deferred.promise)):i.when(!1);function o(t){d.deferred.resolve(t)}function a(t){d.deferred.reject(t)}}};function g(){var t,i=e.noop;h.hideDelay&&(t=o(f.hide,h.hideDelay),i=function(){o.cancel(t)}),h.cancelAutoHide=function(){i(),h.cancelAutoHide=n}}function v(t,n){var r=n.onRemoving||e.noop;return i((function(e,o){try{var a=i.when(n.onRemove(n.scope,t,n)||!0);r(t,a),n.$destroy?(e(t),!n.preserveScope&&n.scope&&a.then((function(){n.scope.$destroy()}))):a.then((function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),e(t)}),o)}catch(t){o(t.message)}}))}}}}})),function(){var t,n,i,r=/(-gt)?-(sm|md|lg|print)/g,o=/\s+/g,a=["grow","initial","auto","none","noshrink","nogrow"],s=["row","column"],c=["","start","center","end","stretch","space-around","space-between"],l=["","start","center","end","stretch"],u={enabled:!0,breakpoints:[]};function h(){var t=!!document.querySelector("[md-layouts-disabled]");u.enabled=!t}function d(){return u.enabled=!1,{restrict:"A",priority:"900"}}function f(r){return["$mdUtil","$interpolate","$log",function(a,s,c){return t=a,n=s,i=c,{restrict:"A",compile:function(t,n){var i;return u.enabled&&(g(r,y(r,n,""),v(0,r,n)),o(0,t),i=o),i||e.noop}}}];function o(t,e){e.addClass(r)}}function p(t){var n=t.split("-");return["$log",function(i){return i.warn(t+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),e.noop}]}function m(e,n,i,o){var a,s=i[0].nodeName.toLowerCase();"flex"===e.replace(r,"")&&("md-button"!=s&&"fieldset"!=s||(a="<"+s+" "+e+"></"+s+">",o.warn(t.supplant("Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",[a,"https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers"]))))}function g(n,i,u){if(!b(i)){switch(n.replace(r,"")){case"layout":w(i,s)||(i=s[0]);break;case"flex":w(i,a)||isNaN(i)&&(i="");break;case"flex-offset":case"flex-order":i&&!isNaN(+i)||(i="0");break;case"layout-align":var h=function(t){var e,n={main:"start",cross:"stretch"};return 0!==(t=t||"").indexOf("-")&&0!==t.indexOf(" ")||(t="none"+t),(e=t.toLowerCase().trim().replace(o,"-").split("-")).length&&"space"===e[0]&&(e=[e[0]+"-"+e[1],e[2]]),e.length>0&&(n.main=e[0]||n.main),e.length>1&&(n.cross=e[1]||n.cross),c.indexOf(n.main)<0&&(n.main="start"),l.indexOf(n.cross)<0&&(n.cross="stretch"),n}(i);i=t.supplant("{main}-{cross}",h);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":i=""}null!=i&&(u||e.noop)(i)}return i?i.trim():""}function v(t,e,n){return function(t){b(t)||(n[n.$normalize(e)]=t)}}function b(t){return(t||"").indexOf(n.startSymbol())>-1}function y(t,e,n){var i=e.$normalize(t);return e[i]?e[i].trim().replace(o,"-"):n||null}function w(t,e,n){t=n&&t?t.replace(o,n):t;var i=!1;return t&&e.forEach((function(e){e=n?e.replace(o,n):e,i=i||e===t})),i}!function(r){var a,s=/^((?:x|data)[\:\-_])/i,c=/([\:\-\_]+(.))/g,l=["layout","flex","flex-order","flex-offset","layout-align"],b=["show","hide","layout-padding","layout-margin"];function w(t){return t.replace(s,"").replace(c,(function(t,e,n,i){return i?n.toUpperCase():n}))}e.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],(function(a){e.forEach(l,(function(s){var c=a?s+"-"+a:s;r.directive(w(c),function(r){return["$mdUtil","$interpolate","$log",function(o,s,c){return t=o,n=s,i=c,{restrict:"A",compile:function(t,n){var o;return u.enabled&&(m(r,0,t,i),g(r,y(r,n,""),v(0,r,n)),o=a),o||e.noop}}}];function a(t,n,i){var a=function(t,n){var i;return function(r){var a=g(n,r||"");e.isDefined(a)&&(i&&t.removeClass(i),i=a?n+"-"+a.trim().replace(o,"-"):n,t.addClass(i))}}(n,r),s=i.$observe(i.$normalize(r),a);a(y(r,i,"")),t.$on("$destroy",(function(){s()}))}}(c))})),e.forEach(b,(function(t){var e=a?t+"-"+a:t;r.directive(w(e),f(e))}))})),r.provider("$$mdLayout",(function(){return{$get:e.noop,validateAttributeValue:g,validateAttributeUsage:m,disableLayouts:function(t){u.enabled=!0!==t}}})).directive("mdLayoutCss",d).directive("ngCloak",(a="ng-cloak",["$timeout",function(t){return{restrict:"A",priority:-10,compile:function(n){return u.enabled?(n.addClass(a),function(e,n){t((function(){n.removeClass(a)}),10,!1)}):e.noop}}}])).directive("layoutWrap",f("layout-wrap")).directive("layoutNowrap",f("layout-nowrap")).directive("layoutNoWrap",f("layout-no-wrap")).directive("layoutFill",f("layout-fill")).directive("layoutLtMd",p("layout-lt-md")).directive("layoutLtLg",p("layout-lt-lg")).directive("flexLtMd",p("flex-lt-md")).directive("flexLtLg",p("flex-lt-lg")).directive("layoutAlignLtMd",p("layout-align-lt-md")).directive("layoutAlignLtLg",p("layout-align-lt-lg")).directive("flexOrderLtMd",p("flex-order-lt-md")).directive("flexOrderLtLg",p("flex-order-lt-lg")).directive("offsetLtMd",p("flex-offset-lt-md")).directive("offsetLtLg",p("flex-offset-lt-lg")).directive("hideLtMd",p("hide-lt-md")).directive("hideLtLg",p("hide-lt-lg")).directive("showLtMd",p("show-lt-md")).directive("showLtLg",p("show-lt-lg")).config(h)}(e.module("material.core.layout",["ng"]))}(),function(){function t(t){this._$timeout=t,this._liveElement=this._createLiveElement(),this._announceTimeout=100}t.$inject=["$timeout"],e.module("material.core").service("$mdLiveAnnouncer",t),t.prototype.announce=function(t,e){e||(e="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",e),n._$timeout((function(){n._liveElement.textContent=t}),n._announceTimeout,!1)},t.prototype._createLiveElement=function(){var t=document.createElement("div");return t.classList.add("md-visually-hidden"),t.setAttribute("role","status"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),document.body.appendChild(t),t}}(),e.module("material.core.meta",[]).provider("$$mdMeta",(function(){var t=e.element(document.head),n={};function i(t){if(n[t])return!0;var i=document.getElementsByName(t)[0];return!!i&&(n[t]=e.element(i),!0)}var r={setMeta:function(r,o){if(i(r),n[r])n[r].attr("content",o);else{var a=e.element('<meta name="'+r+'" content="'+o+'"/>');t.append(a),n[r]=a}return function(){n[r].attr("content",""),n[r].remove(),delete n[r]}},getMeta:function(t){if(!i(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return n[t].attr("content")}};return e.extend({},r,{$get:function(){return r}})})),function(){function t(t,i){var r,o=[],a={};return r={notFoundError:function(e,n){t.error((n||"")+"No instance found for handle",e)},getInstances:function(){return o},get:function(t){if(!s(t))return null;var e,n,i;for(e=0,n=o.length;e<n;e++)if((i=o[e]).$$mdHandle===t)return i;return null},register:function(t,n){return n?(t.$$mdHandle=n,o.push(t),(i=a[n])&&(i.forEach((function(e){e.resolve(t)})),delete a[n]),function(){var e=o.indexOf(t);-1!==e&&o.splice(e,1)}):e.noop;var i},when:function(t){if(s(t)){var e=i.defer(),o=r.get(t);return o?e.resolve(o):(a[t]===n&&(a[t]=[]),a[t].push(e)),e.promise}return i.reject("Invalid `md-component-id` value.")}};function s(t){return t&&""!==t}}t.$inject=["$log","$q"],e.module("material.core").factory("$mdComponentRegistry",t)}(),function(){function t(t){return{attach:function(n,i,r){return r=e.extend(function(t){return t.hasClass("md-icon-button")?{isMenuItem:t.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:t.hasClass("md-menu-item"),dimBackground:!0}}(i),r),t.attach(n,i,r)}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdButtonInkRipple",t)}(),function(){function t(t){return{attach:function(n,i,r){return t.attach(n,i,e.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdCheckboxInkRipple",t)}(),function(){function t(t){return{attach:function(n,i,r){return t.attach(n,i,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdListInkRipple",t)}(),function(){function t(t,n){return{controller:e.noop,link:function(e,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(e,i):t.attach(e,i)}}}function n(t,n,i,r,o,a,s){this.$window=r,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=t,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=e.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=e.bind(this,this.color),this.bindEvents()}function i(t,n){(t.mousedown||t.lastRipple)&&(t.mousedown=!1,t.$mdUtil.nextTick(e.bind(t,n),!1))}function r(){return{controller:e.noop}}n.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],t.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],e.module("material.core").provider("$mdInkRipple",(function(){var t=!1;return{disableInkRipple:function(){t=!0},$get:["$injector",function(i){return{attach:function(r,o,a){return t||o.controller("mdNoInk")?e.noop:i.instantiate(n,{$scope:r,$element:o,rippleOptions:a})}}}]}})).directive("mdInkRipple",t).directive("mdNoInk",r).directive("mdNoBar",r).directive("mdNoStretch",r),n.prototype.color=function(t){var n,i,r=this;return e.isDefined(t)&&(r._color=r._parseColor(t)),r._color||r._parseColor(r.inkRipple())||r._parseColor((i=(n=r.options&&r.options.colorElement?r.options.colorElement:[]).length?n[0]:r.$element[0])?r.$window.getComputedStyle(i).color:"rgb(0,0,0)")},n.prototype.calculateColor=function(){return this.color()},n.prototype._parseColor=function(t,e){e=e||1;var n=this.$mdColorUtil;if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,(.1*e).toString()+")"):0===t.indexOf("rgb")?n.rgbToRgba(t):0===t.indexOf("#")?n.hexToRgba(t):void 0},n.prototype.bindEvents=function(){this.$element.on("mousedown",e.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",e.bind(this,this.handleMouseup)),this.$element.on("mouseleave",e.bind(this,this.handleMouseup)),this.$element.on("touchmove",e.bind(this,this.handleTouchmove))},n.prototype.handleMousedown=function(t){if(!this.mousedown)if(t.hasOwnProperty("originalEvent")&&(t=t.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(t.srcElement!==this.$element[0]){var e=this.$element[0].getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;this.createRipple(n,i)}else this.createRipple(t.offsetX,t.offsetY)},n.prototype.handleMouseup=function(){i(this,this.clearRipples)},n.prototype.handleTouchmove=function(){i(this,this.deleteRipples)},n.prototype.deleteRipples=function(){for(var t=0;t<this.ripples.length;t++)this.ripples[t].remove()},n.prototype.clearRipples=function(){for(var t=0;t<this.ripples.length;t++)this.fadeInComplete(this.ripples[t])},n.prototype.createContainer=function(){var t=e.element('<div class="md-ripple-container"></div>');return this.$element.append(t),t},n.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},n.prototype.isRippleAllowed=function(){var t=this.$element[0];do{if(!t.tagName||"BODY"===t.tagName)break;if(t&&e.isFunction(t.hasAttribute)){if(t.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(t=t.parentNode);return!0},n.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},n.prototype.createRipple=function(t,n){if(this.isRippleAllowed()){var i=this,r=i.$mdColorUtil,o=e.element('<div class="md-ripple"></div>'),a=this.$element.prop("clientWidth"),s=this.$element.prop("clientHeight"),c=2*Math.max(Math.abs(a-t),t),l=2*Math.max(Math.abs(s-n),n),u=function(t,e,n){return t?Math.max(e,n):Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}(this.options.fitRipple,c,l),h=this.calculateColor();o.css({left:t+"px",top:n+"px",background:"black",width:u+"px",height:u+"px",backgroundColor:r.rgbaToRgb(h),borderColor:r.rgbaToRgb(h)}),this.lastRipple=o,this.clearTimeout(),this.timeout=this.$timeout((function(){i.clearTimeout(),i.mousedown||i.fadeInComplete(o)}),157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:h}),this.container.append(o),this.ripples.push(o),o.addClass("md-ripple-placed"),this.$mdUtil.nextTick((function(){o.addClass("md-ripple-scaled md-ripple-active"),i.$timeout((function(){i.clearRipples()}),450,!1)}),!1)}},n.prototype.fadeInComplete=function(t){this.lastRipple===t&&(this.timeout||this.mousedown)||this.removeRipple(t)},n.prototype.removeRipple=function(t){var e=this;this.ripples.indexOf(t)<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("md-ripple-active"),t.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout((function(){e.fadeOutComplete(t)}),450,!1))},n.prototype.fadeOutComplete=function(t){t.remove(),this.lastRipple=null}}(),function(){function t(t){return{attach:function(n,i,r){return t.attach(n,i,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdTabInkRipple",t)}(),e.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),function(t){function e(t){var e=!!document.querySelector("[md-themes-disabled]");t.disableTheming(e)}e.$inject=["$mdThemingProvider"],y.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],w.$inject=["$mdTheming"],b.$inject=["$mdColorPalette","$$mdMetaProvider"],$.$inject=["$injector","$mdTheming"],t.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",y).directive("mdThemable",w).directive("mdThemesDisabled",(function(){return v.disableTheming=!0,{restrict:"A",priority:"900"}})).provider("$mdTheming",b).config(e).run($);var i,r={},o={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},a={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},s="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",c="",l=x("rgba(0,0,0,0.87)"),u=x("rgba(255,255,255,0.87)"),h=x("rgb(255,255,255)"),d=["primary","accent","warn","background"],f="primary",p={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},m={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};d.forEach((function(t){var e={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};p[t]||(p[t]=e),m[t]||(m[t]=e)}));var g=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],v={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null};function b(e,r){$.$inject=["$rootScope","$mdUtil","$q","$log"],i={};var l,u={},h=!1,f="default";t.extend(i,e);var b=function(e){var n=(e=t.isObject(e)?e:{}).theme||"default",o=e.hue||"800",a=i[e.palette]||i[u[n].colors[e.palette||"primary"].name];return function(t){var e=r.setMeta("theme-color",t),n=r.setMeta("msapplication-navbutton-color",t);return function(){e(),n()}}(t.isObject(a[o])?a[o].hex:a[o])};return l={definePalette:function(t,e){return e=e||{},i[t]=y(t,e),l},extendPalette:function(e,n){return y(e,t.extend({},i[e]||{},n))},theme:w,configuration:function(){return t.extend({},v,{defaultTheme:f,alwaysWatchTheme:h,registeredStyles:[].concat(v.registeredStyles)})},disableTheming:function(e){v.disableTheming=t.isUndefined(e)||!!e},registerStyles:function(t){v.registeredStyles.push(t)},setNonce:function(t){v.nonce=t},generateThemesOnDemand:function(t){v.generateOnDemand=t},setDefaultTheme:function(t){f=t},alwaysWatchTheme:function(t){h=t},enableBrowserColor:b,$get:$,_LIGHT_DEFAULT_HUES:p,_DARK_DEFAULT_HUES:m,_PALETTES:i,_THEMES:u,_parseRules:E,_rgba:k};function y(t,e){var n=g.filter((function(t){return!e[t]}));if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function w(e,n){if(u[e])return u[e];var i="string"==typeof(n=n||"default")?u[n]:n,r=new C(e);return i&&t.forEach(i.colors,(function(e,n){r.colors[n]={name:e.name,hues:t.extend({},e.hues)}})),u[e]=r,r}function C(e){var n=this;function i(e){if((e=0===arguments.length||!!e)!==n.isDark){n.isDark=e,n.foregroundPalette=n.isDark?a:o,n.foregroundShadow=n.isDark?s:c;var i=n.isDark?m:p,r=n.isDark?p:m;return t.forEach(i,(function(t,e){var i=n.colors[e],o=r[e];if(i)for(var a in i.hues)i.hues[a]===o[a]&&(i.hues[a]=t[a])})),n}}n.name=e,n.colors={},n.dark=i,i(!1),d.forEach((function(e){var i=(n.isDark?m:p)[e];n[e+"Palette"]=function(r,o){var a=n.colors[e]={name:r,hues:t.extend({},i,o)};return Object.keys(a.hues).forEach((function(t){if(!i[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",n.name).replace("%3",r).replace("%4",Object.keys(i).join(", ")))})),Object.keys(a.hues).map((function(t){return a.hues[t]})).forEach((function(t){if(-1==g.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",r).replace("%5",g.join(", ")))})),n},n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),n[e+"Palette"].apply(n,t)}}))}function $(e,r,o,a){var s=function(t,i){i===n&&(i=t,t=n),t===n&&(t=e),s.inherit(i,i)};return Object.defineProperty(s,"THEMES",{get:function(){return t.extend({},u)}}),Object.defineProperty(s,"PALETTES",{get:function(){return t.extend({},i)}}),Object.defineProperty(s,"ALWAYS_WATCH",{get:function(){return h}}),s.inherit=function(t,e){var n=e.controller("mdTheme")||t.data("$mdThemeController");if(s(n&&n.$mdTheme||("default"==f?"":f)),n)var i=h||n.$shouldWatch||r.parseAttributeBoolean(t.attr("md-theme-watch")),o=n.registerChanges((function(e){s(e),i?t.on("$destroy",o):o()}));function s(e){if(e){c(e)||a.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var i=t.data("$mdThemeName");i&&t.removeClass("md-"+i+"-theme"),t.addClass("md-"+e+"-theme"),t.data("$mdThemeName",e),n&&t.data("$mdThemeController",n)}}},s.registered=c,s.defaultTheme=function(){return f},s.generateTheme=function(t){A(u[t],t,v.nonce)},s.defineTheme=function(t,e){e=e||{};var n=w(t);return e.primary&&n.primaryPalette(e.primary),e.accent&&n.accentPalette(e.accent),e.warn&&n.warnPalette(e.warn),e.background&&n.backgroundPalette(e.background),e.dark&&n.dark(),this.generateTheme(t),o.resolve(t)},s.setBrowserColor=b,s;function c(t){return t===n||""===t||s.THEMES[t]!==n}}}function y(e,n,i,r,o,a){return{priority:101,link:{pre:function(s,c,l){var u=[],h=n.startSymbol(),d=n.endSymbol(),f=l.mdTheme.trim(),p=f.substr(0,h.length)===h&&f.lastIndexOf(d)===f.length-d.length,m="::"===l.mdTheme.split(h).join("").split(d).join("").trim().substr(0,2),g={registerChanges:function(e,n){return n&&(e=t.bind(n,e)),u.push(e),function(){var t=u.indexOf(e);t>-1&&u.splice(t,1)}},$setTheme:function(t){e.registered(t)||a.warn("attempted to use unregistered theme '"+t+"'"),g.$mdTheme=t;for(var n=u.length;n--;)u[n](t)},$shouldWatch:r.parseAttributeBoolean(c.attr("md-theme-watch"))||e.ALWAYS_WATCH||p&&!m};c.data("$mdThemeController",g);var v=function(){var t=n(l.mdTheme)(s);return i(t)(s)||t},b=function(e){if("string"==typeof e)return g.$setTheme(e);o.when(t.isFunction(e)?e():e).then((function(t){g.$setTheme(t)}))};b(v());var y=s.$watch(v,(function(t){t&&(b(t),g.$shouldWatch||y())}))}}}}function w(t){return t}function E(e,n,r){!function(t,e){if(!i[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(i).join(", ")))}(e,n),r=r.replace(/THEME_NAME/g,e.name);var o=[],a=e.colors[n],s=new RegExp("\\.md-"+e.name+"-theme","g"),c=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),l=i[a.name];return r=r.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,(function(t,n,r,o,a){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0!==r.indexOf("hue")&&"default"!==r||(r=e.colors[n].hues[r]),k((i[e.colors[n].name][r]||"")[a?"contrast":"value"],o))})),t.forEach(a.hues,(function(t,n){var i=r.replace(c,(function(e,n,i,r,o){return k(l[t]["color"===r?"value":"contrast"],o)}));"default"!==n&&(i=i.replace(s,".md-"+e.name+"-theme.md-"+n)),"default"==e.name&&(i=i.replace(/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,(function(t,e,n){return t+", "+e+n}))),o.push(i)})),o}var C={};function $(e,n){var o=document.head,a=o?o.firstElementChild:null,s=!v.disableTheming&&e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(s+=v.registeredStyles.join(""),a&&0!==s.length){t.forEach(i,(function(e,n){var i=e.contrastDefaultColor,r=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],a=e.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,(function(n,s){if(!t.isObject(n)){var c=x(n);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",e.name).replace("%3",s));e[s]={hex:e[s],value:c,contrast:"light"===i?a.indexOf(s)>-1?l:o.indexOf(s)>-1?h:u:r.indexOf(s)>-1?o.indexOf(s)>-1?h:u:l}}}))}));var c=s.split(/\}(?!(\}|'|"|;))/).filter((function(t){return t&&t.trim().length})).map((function(t){return t.trim()+"}"})),p=new RegExp("md-("+d.join("|")+")","g");d.forEach((function(t){C[t]=""})),c.forEach((function(t){t.match(p);for(var e,n=0;e=d[n];n++)if(t.indexOf(".md-"+e)>-1)return C[e]+=t;for(n=0;e=d[n];n++)if(t.indexOf(e)>-1)return C[e]+=t;return C[f]+=t})),v.generateOnDemand||t.forEach(n.THEMES,(function(t){r[t.name]||"default"!==n.defaultTheme()&&"default"===t.name||A(t,t.name,v.nonce)}))}}function A(t,e,n){var i=document.head,o=i?i.firstElementChild:null;r[e]||(d.forEach((function(e){for(var r=E(t,e,C[e]);r.length;){var a=r.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode(a)),i.insertBefore(s,o)}}})),r[t.name]=!0)}function x(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map((function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)}));if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,i=e.substr(0,n),r=e.substr(n,n),o=e.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),[parseInt(i,16),parseInt(r,16),parseInt(o,16)]}}function k(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}}(t.angular),e.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(n,i,r,o){return function(a){return function(n,i,r,o,a){var s;return s={translate3d:function(t,e,n,i){return a(t,{from:e,to:n,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then((function(){return r}));function r(n){return a(t,{to:n||e,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}},waitTransitionEnd:function(e,n){var a=3e3;return i((function(i,s){(function(n){return"0s"==(n=n||t.getComputedStyle(e[0])).transitionDuration||!n.transition&&!n.transitionProperty})((n=n||{}).cachedTransitionStyles)&&(a=0);var c=r(l,n.timeout||a);function l(t){t&&t.target!==e[0]||(t&&r.cancel(c),e.off(o.CSS.TRANSITIONEND,l),i())}e.on(o.CSS.TRANSITIONEND,l)}))},calculateTransformValues:function(t,e){var n=e.element,i=e.bounds;if(n||i){var r=n?s.clientRect(n)||function(){var e=t?t.parent():null,n=e?e.parent():null;return n?s.clientRect(n):null}():s.copyRect(i),o=s.copyRect(t[0].getBoundingClientRect()),a=s.centerPointFor(o),c=s.centerPointFor(r);return{centerX:c.x-a.x,centerY:c.y-a.y,scaleX:Math.round(100*Math.min(.5,r.width/o.width))/100,scaleY:Math.round(100*Math.min(.5,r.height/o.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(t,i){return e.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )")(s.calculateTransformValues(t,i))},calculateSlideToOrigin:function(t,i){return e.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 )")(s.calculateTransformValues(t,i))},toCss:function(t){var n={};return e.forEach(t,(function(t,r){if(!e.isUndefined(t))if("left top right bottom width height x y min-width min-height max-width max-height".indexOf(r)>=0)n[r]=t+"px";else switch(r){case"transition":i(r,o.CSS.TRANSITION,t);break;case"transform":i(r,o.CSS.TRANSFORM,t);break;case"transformOrigin":i(r,o.CSS.TRANSFORM_ORIGIN,t);break;case"font-size":n["font-size"]=t}})),n;function i(t,i,r){e.forEach(i.split(" "),(function(t){n[t]=r}))}},toTransformCss:function(t,n,i){var r={};return e.forEach(o.CSS.TRANSFORM.split(" "),(function(e){r[e]=t})),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(t,n){return t?(n=n||{},e.forEach("left top right bottom width height".split(" "),(function(e){n[e]=Math.round(t[e])})),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(t){var n,i=e.element(t)[0].getBoundingClientRect();return(n=i)&&n.width>0&&n.height>0?s.copyRect(i):null},centerPointFor:function(t){return t?{x:Math.round(t.left+t.width/2),y:Math.round(t.top+t.height/2)}:{x:0,y:0}}}}(a,n,i,r,o)}}]),e.version.minor>=4?e.module("material.core.animate",[]):function(){var t=e.forEach,n=e.isDefined(document.documentElement.style.WebkitAppearance),i=n?"-webkit-":"",r=(n?"webkitTransitionEnd ":"")+"transitionend",o=(n?"webkitAnimationEnd ":"")+"animationend",a=["$q","$$rAFMutex",function(n,i){function r(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}return r.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:e.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=n((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._runInAnimationFrame((function(){e._resolve(t)})))},_resolve:function(e){2!==this._state&&(t(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},r.all=function(e,n){var i=0,r=!0;function o(t){r=r&&t,++i===e.length&&n(r)}t(e,(function(t){t.done(o)}))},r}];function s(t){return t.replace(/-[a-z]/g,(function(t){return t.charAt(1).toUpperCase()}))}e.module("material.core.animate",[]).factory("$$forceReflow",["$document",function(t){return function(){return t[0].body.clientWidth+1}}]).factory("$$AnimateRunner",a).factory("$$rAFMutex",["$$rAF",function(t){return function(){var e=!1;return t((function(){e=!0})),function(n){e?n():t(n)}}}]).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(e,a,c,l,u,h,d){function f(t,e){e.addClass&&(u.addClass(t,e.addClass),e.addClass=null),e.removeClass&&(u.removeClass(t,e.removeClass),e.removeClass=null)}function p(e){var n=0,i=(e||"").split(/\s*,\s*/);return t(i,(function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t})),n}var m,g=[];function v(t,e){e.from&&(t.css(e.from),e.from=null)}function b(t,e){e.to&&(t.css(e.to),e.to=null)}function y(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return t[e]}function w(t,e){var n=y(t),r=s(i+"transition-delay");n.style[r]=e?"-9999s":""}return function(u,E){var C=[],$=y(u),A=$&&d.enabled(),x=!1,k=!1;A&&(E.transitionStyle&&C.push([i+"transition",E.transitionStyle]),E.keyframeStyle&&C.push([i+"animation",E.keyframeStyle]),E.delay&&C.push([i+"transition-delay",E.delay+"s"]),E.duration&&C.push([i+"transition-duration",E.duration+"s"]),x=E.keyframeStyle||E.to&&(E.duration>0||E.transitionStyle),k=!!E.addClass||!!E.removeClass,w(u,!0));var S=A&&(x||k);v(u,E);var T,_,M=!1;return{close:e.close,start:function(){var d,A=new c;return d=function(){if(w(u,!1),!S)return x();t(C,(function(t){var e=t[0],n=t[1];$.style[s(e)]=n})),f(u,E);var a=function(t){var i=y(t),r=e.getComputedStyle(i),o=p(r[l("transitionDuration")]),a=p(r[l("animationDuration")]),s=p(r[l("transitionDelay")]),c=p(r[l("animationDelay")]);return a*=parseInt(r[l("animationIterationCount")],10)||1,{duration:Math.max(a,o),delay:Math.max(c,s),animationDuration:a,transitionDuration:o,animationDelay:c,transitionDelay:s};function l(t){return n?"Webkit"+t.charAt(0).toUpperCase()+t.substr(1):t}}(u);if(0===a.duration)return x();var c=[];E.easing&&(a.transitionDuration&&c.push([i+"transition-timing-function",E.easing]),a.animationDuration&&c.push([i+"animation-timing-function",E.easing])),E.delay&&a.animationDelay&&c.push([i+"animation-delay",E.delay+"s"]),E.duration&&a.animationDuration&&c.push([i+"animation-duration",E.duration+"s"]),t(c,(function(t){var e=t[0],n=t[1];$.style[s(e)]=n,C.push(t)}));var l=1e3*a.delay,d=a.duration,m=1e3*d,g=Date.now();T=[],a.transitionDuration&&T.push(r),a.animationDuration&&T.push(o),T=T.join(" "),_=function(t){t.stopPropagation();var e=t.originalEvent||t,n=e.timeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-g,0)>=l&&i>=d&&x()},u.on(T,_),b(u,E),h(x,l+1.5*m,!1)},m&&m(),g.push(d),m=a((function(){m=null;for(var t=l(),e=0;e<g.length;e++)g[e](t);g.length=0})),A;function x(){if(!M)return M=!0,T&&_&&u.off(T,_),f(u,E),function(t,e){v(t,e),b(t,e)}(u,E),t(C,(function(t){$.style[s(t[0])]=""})),A.complete(!0),A}}}}}])}(),e.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),e.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(t,n,i,r,o,a,s,c){return{restrict:"E",link:function(l,u,h){var d;function f(){var t=parseInt(d.height,10)+Math.abs(parseInt(d.top,10));u.css("height",t+"px")}i.pin&&i.pin(u,r),s((function(){if("fixed"===(d=o.getComputedStyle(c[0].body)).position){var i=n.debounce((function(){d=o.getComputedStyle(c[0].body),f()}),60,null,!1);f(),e.element(o).on("resize",i),l.$on("$destroy",(function(){e.element(o).off("resize",i)}))}var r=u.parent();r.length&&("BODY"===r[0].nodeName&&u.css("position","fixed"),"static"===o.getComputedStyle(r[0]).position&&a.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container."),t.inherit(u,r))}))}}}]),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",(function(){t.destroy()}))}}}function n(t){r.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var n=.5,i=80;return t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:r});function r(t,r,o,a,s,c,l,u){var h;return{themable:!0,onShow:function(n,i,l,f){(i=o.extractElementByName(i,"md-bottom-sheet")).attr("tabindex","-1"),i.hasClass("ng-cloak")&&u.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.",i[0]),l.disableBackdrop||((h=o.createBackdrop(n,"md-bottom-sheet-backdrop md-opaque"))[0].tabIndex=-1,l.clickOutsideToClose&&h.on("click",(function(){o.nextTick(s.cancel,!0)})),a.inherit(h,l.parent),t.enter(h,l.parent,null));var p=new d(i,l.parent);return l.bottomSheet=p,a.inherit(p.element,l.parent),l.disableParentScroll&&(l.restoreScroll=o.disableScrollAround(p.element,l.parent)),t.enter(p.element,l.parent,h).then((function(){var t=o.findFocusTarget(i)||e.element(i[0].querySelector("button")||i[0].querySelector("a")||i[0].querySelector(o.prefixer("ng-click",!0)))||h;l.escapeToClose&&(l.rootElementKeyupCallback=function(t){t.keyCode===r.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},c.on("keyup",l.rootElementKeyupCallback),t&&t.focus())}))},onRemove:function(e,n,i){var r=i.bottomSheet;return i.disableBackdrop||t.leave(h),t.leave(r.element).then((function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),r.cleanup()}))},disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0};function d(t,e){var a=l.register(e,"drag",{horizontal:!1});return e.on("$md.dragstart",c).on("$md.drag",u).on("$md.dragend",h),{element:t,cleanup:function(){a(),e.off("$md.dragstart",c),e.off("$md.drag",u),e.off("$md.dragend",h)}};function c(e){t.css(r.CSS.TRANSITION_DURATION,"0ms")}function u(e){var n=e.pointer.distanceY;n<5&&(n=Math.max(-i,n/2)),t.css(r.CSS.TRANSFORM,"translate3d(0,"+(i+n)+"px,0)")}function h(e){if(e.pointer.distanceY>0&&(e.pointer.distanceY>20||Math.abs(e.pointer.velocityY)>n)){var i=t.prop("offsetHeight")-e.pointer.distanceY,a=Math.min(i/e.pointer.velocityY*.75,500);t.css(r.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else t.css(r.CSS.TRANSITION_DURATION,""),t.css(r.CSS.TRANSFORM,"")}}}}t.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],e.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",n)}(),function(){function t(t){return{restrict:"E",link:function(e,n){t(n)}}}function n(t,n,i,r){return{restrict:"EA",replace:!0,transclude:!0,template:function(t,e){return o(e)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" type="'+(void 0===e.type?"button":e.type)+'" ng-transclude></button>'},link:function(a,s,c){n(s),t.attach(a,s),i.expectWithoutText(s,"aria-label"),o(c)&&e.isDefined(c.ngDisabled)&&a.$watch(c.ngDisabled,(function(t){s.attr("tabindex",t?-1:0)})),s.on("click",(function(t){!0===c.disabled&&(t.preventDefault(),t.stopImmediatePropagation())})),s.hasClass("md-no-focus")||(s.on("focus",(function(){r.isUserInvoked()&&"keyboard"!==r.getLastInteractionType()||s.addClass("md-focused")})),s.on("blur",(function(){s.removeClass("md-focused")})))}};function o(t){return e.isDefined(t.href)||e.isDefined(t.ngHref)||e.isDefined(t.ngLink)||e.isDefined(t.uiSref)}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],t.$inject=["$mdTheming"],e.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n,i){n.addClass("_md"),t(n)}}}t.$inject=["$mdTheming"],e.module("material.components.card",["material.core"]).directive("mdCard",t)}(),function(){function t(t,n,i,r,o,a){return t=t[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:i.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:function(s,c){return c.$set("tabindex",c.tabindex||"0"),c.$set("type","checkbox"),c.$set("role",c.type),{pre:function(t,e){e.on("click",(function(t){this.hasAttribute("disabled")&&t.stopImmediatePropagation()}))},post:function(s,c,l,u){var h,d=u[0],f=u[1]||o.fakeNgModel(),p=u[2];if(d){var m=d.isErrorGetter||function(){return f.$invalid&&(f.$touched||p&&p.$submitted)};d.input=c,s.$watch(m,d.setInvalid)}function g(t){c[0].hasAttribute("disabled")||s.skipToggle||s.$apply((function(){var e=l.ngChecked&&l.ngClick?l.checked:!f.$viewValue;f.$setViewValue(e,t&&t.type),f.$render()}))}function v(t){(h=!1!==t)&&c.attr("aria-checked","mixed"),c.toggleClass("md-indeterminate",h)}r(c),c.children().on("focus",(function(){c.focus()})),o.parseAttributeBoolean(l.mdIndeterminate)&&(v(),s.$watch(l.mdIndeterminate,v)),l.ngChecked&&s.$watch(s.$eval.bind(s,l.ngChecked),(function(t){f.$setViewValue(t),f.$render()})),function(t,e,n){l[t]&&s.$watch(l[t],(function(t){n[t]&&c.attr(e,n[t])}))}("ngDisabled","tabindex",{true:"-1",false:l.tabindex}),n.expectWithText(c,"aria-label"),t.link.pre(s,{on:e.noop,0:{}},l,[f]),c.on("click",g).on("keypress",(function(t){var e=t.which||t.keyCode;e!==i.KEY_CODE.SPACE&&e!==i.KEY_CODE.ENTER||(t.preventDefault(),c.addClass("md-focused"),g(t))})).on("focus",(function(){"keyboard"===a.getLastInteractionType()&&c.addClass("md-focused")})).on("blur",(function(){c.removeClass("md-focused")})),f.$render=function(){c.toggleClass("md-checked",!!f.$viewValue&&!h)}}}}}}t.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],e.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t)}(),e.module("material.components.chips",["material.core","material.components.autocomplete"]),function(){r.$inject=["$mdColors","$mdUtil","$log","$parse"],i.$inject=["$mdTheming","$mdUtil","$log"];var t=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,n=null;function i(t,i,r){return n=n||Object.keys(t.PALETTES),{applyThemeColors:function(t,n){try{n&&t.css((s={},c=(i=n).hasOwnProperty("color"),e.forEach(i,(function(t,e){var n=a(t),i=e.indexOf("background")>-1;s[e]=o(n),i&&!c&&(s.color=o(n,!0))})),s))}catch(t){r.error(t.message)}var i,s,c},getThemeColor:function(t){return o(a(t))},hasTheme:function(n){return e.isDefined(t.THEMES[n.split("-")[0]])}};function o(e,n){n=n||!1;var r=t.PALETTES[e.palette][e.hue];return r=n?r.contrast:r.value,i.supplant("rgba({0}, {1}, {2}, {3})",[r[0],r[1],r[2],r[3]||e.opacity])}function a(n){var i=n.split("-"),r=e.isDefined(t.THEMES[i[0]])?i.splice(0,1)[0]:t.defaultTheme();return{theme:r,palette:s(i,r),hue:c(i,r),opacity:i[2]||1}}function s(e,r){var o=e.length>1&&-1!==n.indexOf(e[1]),a=e[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=e[0]+"-"+e.splice(1,1)),-1===n.indexOf(a)){var s=t.THEMES[r].colors[a];if(!s)throw new Error(i.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}function c(e,n){var r=t.THEMES[n].colors;if("hue"===e[1]){var o=parseInt(e.splice(2,1)[0],10);if(o<1||o>3)throw new Error(i.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(e[1]="hue-"+o,!(e[0]in r))throw new Error(i.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(r).join(", "),usedTheme:e[0]}));return r[e[0]].hues[e[1]]}return e[1]||r[e[0]in r?e[0]:"primary"].hues.default}}function r(n,i,r,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){var c=function(){var n=s.mdColors,r=n.indexOf("::")>-1,o=!!r||t.test(s.mdColors);s.mdColors=n.replace("::","");var a=e.isDefined(s.mdColorsWatch);return!r&&!o&&(!a||i.parseAttributeBoolean(s.mdColorsWatch))}();return function(t,i,a,s){var l=s[0],u={},h=function(e){"string"!=typeof e&&(e=""),a.mdColors||(a.mdColors="{}");var i=o(a.mdColors)(t);return l&&Object.keys(i).forEach((function(t){var r=i[t];n.hasTheme(r)||(i[t]=(e||l.$mdTheme)+"-"+r)})),d(i),i},d=function(t){if(!e.equals(t,u)){var n=Object.keys(u);u.background&&!n.color&&n.push("color"),n.forEach((function(t){i.css(t,"")}))}u=t},f=e.noop;l&&(f=l.registerChanges((function(t){n.applyThemeColors(i,h(t))}))),t.$on("$destroy",(function(){f()}));try{c?t.$watch(h,e.bind(this,n.applyThemeColors,i),!0):n.applyThemeColors(i,h())}catch(t){r.error(t.message)}}}}}e.module("material.components.colors",["material.core"]).directive("mdColors",r).service("$mdColors",i)}(),function(){function t(t){return{restrict:"E",controller:["$scope","$element",function(t,e){this.$scope=t,this.$element=e}],link:function(n,i){var r;i.addClass("_md"),t(i),n.$broadcast("$mdContentLoaded",i),r=i[0],e.element(r).on("$md.pressdown",(function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===r.scrollTop?r.scrollTop=1:r.scrollHeight===r.scrollTop+r.offsetHeight&&(r.scrollTop-=1)))}))}}}t.$inject=["$mdTheming"],e.module("material.components.content",["material.core"]).directive("mdContent",t)}(),e.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){function t(t,n,i){return{restrict:"E",link:function(r,o){o.addClass("_md"),n(o),t((function(){var t,n=o[0].querySelector("md-dialog-content");function a(){o.toggleClass("md-content-overflow",n.scrollHeight>n.clientHeight)}n&&(t=n.getElementsByTagName("img"),a(),e.element(t).on("load",a)),r.$on("$destroy",(function(){i.destroy(o)}))}))}}}function i(t){var i,r;return o.$inject=["$mdDialog","$mdConstant"],a.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"],t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:a}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:o}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:o}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css"],options:o});function o(t,e){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){t.hide(!n||this.result)},this.abort=function(){t.cancel()},this.keypress=function(n){n.keyCode===e.KEY_CODE.ENTER&&t.hide(this.result)}},controllerAs:"dialog",bindToController:!0}}function a(t,o,a,s,c,l,u,h,d,f,p,m,g){return{hasBackdrop:!0,isolateScope:!0,onCompiling:function(t){t.defaultTheme=p.defaultTheme(),function(t){var n;t.targetEvent&&t.targetEvent.target&&(n=e.element(t.targetEvent.target));var i=n&&n.controller("mdTheme");if(i){t.themeWatch=i.$shouldWatch;var r=t.theme||i.$mdTheme;r&&(t.scope.theme=r);var o=i.registerChanges((function(e){t.scope.theme=e,t.themeWatch||o()}))}}(t)},onShow:function(t,n,i,r){e.element(l[0].body).addClass("md-dialog-is-showing");var o=n.find("md-dialog");return o.hasClass("ng-cloak")&&d.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",n[0]),v(i),y(o,i),function(t,e,n){n.disableParentScroll&&(n.restoreScroll=a.disableScrollAround(e,n.parent)),n.hasBackdrop&&(n.backdrop=a.createBackdrop(t,"md-dialog-backdrop md-opaque"),c.enter(n.backdrop,n.parent)),n.hideBackdrop=function(t){n.backdrop&&(t?n.backdrop.remove():c.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}(t,n,i),b(n,i),function(t,e){e.parent.append(t),e.reverseContainerStretch=w(t,e);var n=t.find("md-dialog"),i=a.dom.animator,r=i.calculateZoomToOrigin,o={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(r(n,e.openFrom||e.origin)),c=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!e.fullscreen),i.translate3d(n,s,c,o).then((function(t){return e.reverseAnimate=function(){return delete e.reverseAnimate,e.closeTo?(o={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=c,c=i.toTransformCss(r(n,e.closeTo)),i.translate3d(n,s,c,o)):t(c=i.toTransformCss(r(n,e.origin)))},e.clearAnimate=function(){return delete e.clearAnimate,n.removeClass([o.transitionOutClass,o.transitionInClass].join(" ")),i.translate3d(n,c,i.toTransformCss(""),{})},!0}))}(n,i).then((function(){!function(t,e){var n=!0;function i(t){for(;t.parentNode;){if(t===document.body)return;for(var e=t.parentNode.children,r=0;r<e.length;r++)t===e[r]||E(e[r],["SCRIPT","STYLE"])||e[r].setAttribute("aria-hidden",n);i(t=t.parentNode)}}i(t[0]),e.unlockScreenReader=function(){n=!1,i(t[0]),e.unlockScreenReader=null}}(n,i),n[0].querySelector(".md-actions")&&d.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>."),i.focusOnOpen&&(a.findFocusTarget(n)||n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||o).focus()}))},onShowing:function(t,e,n,i){if(i){var r=i.htmlContent||n.htmlContent||"",o=i.textContent||n.textContent||i.content||n.content||"";if(r&&!f.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=r,i.mdTextContent=o}},onRemove:function(t,n,o){return o.deactivateListeners(),o.unlockScreenReader(),o.hideBackdrop(o.$destroy),i&&i.parentNode&&i.parentNode.removeChild(i),r&&r.parentNode&&r.parentNode.removeChild(r),o.$destroy?a():function(t,e){return e.reverseAnimate().then((function(){e.contentElement&&e.clearAnimate()}))}(0,o).then(a);function a(){e.element(l[0].body).removeClass("md-dialog-is-showing"),o.contentElement&&o.reverseContainerStretch(),o.cleanupElement(),o.$destroy||"keyboard"!==o.originInteraction||o.origin.focus()}},clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(t,e){var n=m.startSymbol(),i=m.endSymbol();return'<div class="md-dialog-container" tabindex="-1" md-theme="'+n+(e.themeWatch?"":"::")+"theme"+i+'">'+function(t){return e.autoWrap&&!/<\/md-dialog>/g.test(t)?"<md-dialog>"+(t||"")+"</md-dialog>":t||""}(t)+"</div>"}};function v(t){function i(t,i){var r=e.element(t||{});if(r&&r.length){var o=e.isFunction(r[0].getBoundingClientRect);return e.extend(i||{},{element:o?r:n,bounds:o?r[0].getBoundingClientRect():e.extend({},{top:0,left:0,height:0,width:0},r[0]),focus:e.bind(r,r.focus)})}}function r(t,n){return e.isString(t)&&(t=l[0].querySelector(t)),e.element(t||n)}t.origin=e.extend({element:null,bounds:null,focus:e.noop},t.origin||{}),t.parent=r(t.parent,h),t.closeTo=i(r(t.closeTo)),t.openFrom=i(r(t.openFrom)),t.targetEvent&&(t.origin=i(t.targetEvent.target,t.origin),t.originInteraction=g.getLastInteractionType())}function b(n,i){var r=e.element(u),o=a.debounce((function(){w(n,i)}),60),c=[],l=function(){var e="alert"==i.$type?t.hide:t.cancel;a.nextTick(e,!0)};if(i.escapeToClose){var h=i.parent,d=function(t){t.keyCode===s.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),l())};n.on("keydown",d),h.on("keydown",d),c.push((function(){n.off("keydown",d),h.off("keydown",d)}))}if(r.on("resize",o),c.push((function(){r.off("resize",o)})),i.clickOutsideToClose){var f,p=n,m=function(t){f=t.target},g=function(t){f===p[0]&&t.target===p[0]&&(t.stopPropagation(),t.preventDefault(),l())};p.on("mousedown",m),p.on("mouseup",g),c.push((function(){p.off("mousedown",m),p.off("mouseup",g)}))}i.deactivateListeners=function(){c.forEach((function(t){t()})),i.deactivateListeners=null}}function y(t,e){var n="alert"===e.$type?"alertdialog":"dialog",s=t.find("md-dialog-content"),c=t.attr("id"),l="dialogContent_"+(c||a.nextUid());t.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=t,c&&(l=c)),s.attr("id",l),t.attr("aria-describedby",l),e.ariaLabel?o.expect(t,"aria-label",e.ariaLabel):o.expectAsync(t,"aria-label",(function(){var t=s.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")})),(i=document.createElement("div")).classList.add("md-dialog-focus-trap"),i.tabIndex=0,r=i.cloneNode(!1);var u=function(){t.focus()};i.addEventListener("focus",u),r.addEventListener("focus",u),t[0].parentNode.insertBefore(i,t[0]),t.after(r)}function w(t,e){var n="fixed"==u.getComputedStyle(l[0].body).position,i=e.backdrop?u.getComputedStyle(e.backdrop[0]):null,r=i?Math.min(l[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,o={top:t.css("top"),height:t.css("height")},a=Math.abs(e.parent[0].getBoundingClientRect().top);return t.css({top:(n?a:0)+"px",height:r?r+"px":"100%"}),function(){t.css(o)}}function E(t,e){if(-1!==e.indexOf(t.nodeName))return!0}}}t.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"],e.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",i)}(),function(){function t(t){return{restrict:"E",link:t}}t.$inject=["$mdTheming"],e.module("material.components.divider",["material.core"]).directive("mdDivider",t)}(),function(){function t(t){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var i=e.children();t.prefixer().hasAttribute(i,"ng-repeat")?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}t.$inject=["$mdUtil"],e.module("material.components.fabActions",["material.core"]).directive("mdFabActions",t)}(),function(){function t(t,n,i,r,o,a){var s,c=this,l=0;function u(t){"click"==t.type&&function(t){var e;e=t.target,r.getClosest(e,"md-fab-trigger")&&c.toggle(),function(t){return r.getClosest(t,"md-fab-actions")}(t.target)&&c.close()}(t),"focusout"!=t.type||s||(s=a((function(){c.close()}),100,!1)),"focusin"==t.type&&s&&(a.cancel(s),s=null)}function h(){c.currentActionIndex=-1}function d(){n[0].scrollHeight>0?i.addClass(n,"_md-animations-ready").then((function(){n.removeClass("md-animations-waiting")})):l<10&&(a(d,100),l+=1)}function f(){n.off("keydown",m),e.element(document).off("click touchend",p)}function p(t){if(t.target){var e=r.getClosest(t.target,"md-fab-trigger"),n=r.getClosest(t.target,"md-fab-actions");e||n||c.close()}}function m(t){switch(t.which){case o.KEY_CODE.ESCAPE:return c.close(),t.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return function(t){"left"===c.direction?v(t):g(t)}(t),!1;case o.KEY_CODE.UP_ARROW:return function(t){"down"===c.direction?g(t):v(t)}(t),!1;case o.KEY_CODE.RIGHT_ARROW:return function(t){"left"===c.direction?g(t):v(t)}(t),!1;case o.KEY_CODE.DOWN_ARROW:return function(t){"up"===c.direction?g(t):v(t)}(t),!1}}function g(t){b(t,-1)}function v(t){b(t,1)}function b(t,n){var i=function(){var t=y()[0].querySelectorAll(".md-fab-action-item");return e.forEach(t,(function(t){e.element(e.element(t).children()[0]).attr("tabindex",-1)})),t}();c.currentActionIndex=c.currentActionIndex+n,c.currentActionIndex=Math.min(i.length-1,c.currentActionIndex),c.currentActionIndex=Math.max(0,c.currentActionIndex);var r=e.element(i[c.currentActionIndex]).children()[0];e.element(r).attr("tabindex",0),r.focus(),t.preventDefault(),t.stopImmediatePropagation()}function y(){return n.find("md-fab-actions")}c.open=function(){t.$evalAsync("vm.isOpen = true")},c.close=function(){t.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},c.toggle=function(){t.$evalAsync("vm.isOpen = !vm.isOpen")},c.$onInit=function(){var o,a,s;c.direction=c.direction||"down",c.isOpen=c.isOpen||!1,h(),n.addClass("md-animations-waiting"),o=["click","focusin","focusout"],e.forEach(o,(function(t){n.on(t,u)})),t.$on("$destroy",(function(){e.forEach(o,(function(t){n.off(t,u)})),f()})),t.$watch("vm.direction",(function(t,e){i.removeClass(n,"md-"+e),i.addClass(n,"md-"+t),h()})),t.$watch("vm.isOpen",(function(t){h(),a&&s||(a=n.find("md-fab-trigger"),s=y()),t?(n.on("keydown",m),r.nextTick((function(){e.element(document).on("click touchend",p)}))):f();var o=t?"md-is-open":"",c=t?"":"md-is-open";a.attr("aria-haspopup",!0),a.attr("aria-expanded",t),s.attr("aria-hidden",!t),i.setClass(n,o,c)})),d()},1===e.version.major&&e.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],e.module("material.components.fabShared",["material.core"]).controller("MdFabController",t)}(),function(){i.$inject=["$timeout"],r.$inject=["$timeout"];var n=300;function i(i){function r(t){i(t,n,!1)}function o(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector("._md-css-variables"),c=parseInt(t.getComputedStyle(s).zIndex);e.forEach(o,(function(t,e){var n=t.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-e+c})),a.style.zIndex=c+o.length+1,r.isOpen||e.forEach(o,(function(t,e){var n,i,o=t.style,s=(a.clientHeight-t.clientHeight)/2,c=(a.clientWidth-t.clientWidth)/2;switch(r.direction){case"up":n=t.scrollHeight*(e+1)+s,i="Y";break;case"down":n=-(t.scrollHeight*(e+1)+s),i="Y";break;case"left":n=t.scrollWidth*(e+1)+c,i="X";break;case"right":n=-(t.scrollWidth*(e+1)+c),i="X"}var l="translate"+i+"("+n+"px)";o.transform=o.webkitTransform=l}))}}return{addClass:function(t,e,n){t.hasClass("md-fling")?(o(t),r(n)):n()},removeClass:function(t,e,n){o(t),r(n)}}}function r(i){function r(t){i(t,n,!1)}function o(n){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("._md-css-variables"),s=parseInt(t.getComputedStyle(a).zIndex);e.forEach(o,(function(t,e){var n=t.style,i=65*e;n.opacity=r.isOpen?1:0,n.transform=n.webkitTransform=r.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(r.isOpen?i:o.length-i)+"ms",n.zIndex=o.length-e+s}))}return{addClass:function(t,e,n){o(t),r(n)},removeClass:function(t,e,n){o(t),r(n)}}}e.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",(function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e){e.prepend('<div class="_md-css-variables"></div>')}}})).animation(".md-fling",i).animation(".md-scale",r).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",r)}(),function(){function n(){function n(n,i,r){if(i){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),c=o.querySelector("md-fab-trigger button"),l=o.querySelector("md-toolbar"),u=o.querySelector("md-fab-trigger button md-icon"),h=n.find("md-fab-actions").children();if(c&&s){var d=t.getComputedStyle(c).getPropertyValue("background-color"),f=o.offsetWidth,p=(o.offsetHeight,f/c.offsetWidth*2);s.style.backgroundColor=d,s.style.borderRadius=f+"px",a.isOpen?(l.style.pointerEvents="inherit",s.style.width=c.offsetWidth+"px",s.style.height=c.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",u&&(u.style.transitionDelay=".3s"),e.forEach(h,(function(t,e){t.style.transitionDelay=25*(h.length-e)+"ms"}))):(l.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",u&&(u.style.transitionDelay="0ms"),e.forEach(h,(function(t,e){t.style.transitionDelay=200+25*e+"ms"})))}}}return{addClass:function(t,e,i){n(t,e),i()},removeClass:function(t,e,i){n(t,e),i()}}}e.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",(function(){return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e,n){e.addClass("md-fab-toolbar"),e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}})).animation(".md-fab-toolbar",n).service("mdFabToolbarAnimation",n)}(),function(){function t(t,i,r,o){return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:function(n,a,s,c){a.addClass("_md"),a.attr("role","list"),c.layoutDelegate=function(t){var i=[].filter.call(a.children(),(function(t){return"MD-GRID-TILE"==t.tagName&&!t.$$mdDestroyed})),o={tileSpans:E(i),colCount:C(),rowMode:x(),rowHeight:A(),gutter:$()};if(t||!e.equals(o,l)){var s=r(o.colCount,o.tileSpans,i).map((function(t,n){return{grid:{element:a,style:w(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:t.map((function(t,r){return{element:e.element(i[r]),style:y(t.position,t.spans,o.colCount,n,o.gutter,o.rowMode,o.rowHeight)}}))}})).reflow().performance();n.mdOnLayout({$event:{performance:s}}),l=o}};var l,u=e.bind(c,c.invalidateLayout),h=function(){for(var t in i.MEDIA)o(t),o.getQuery(i.MEDIA[t]).addListener(u);return o.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,d)}();function d(t){(null==t||o(t))&&c.invalidateLayout()}n.$on("$destroy",(function(){for(var t in c.layoutDelegate=e.noop,h(),i.MEDIA)o.getQuery(i.MEDIA[t]).removeListener(u)}));var f=t.startSymbol(),p=t.endSymbol();function m(t){return f+t+p}var g=t(m("share")+"% - ("+m("gutter")+" * "+m("gutterShare")+")"),v=t("calc(("+m("unit")+" + "+m("gutter")+") * "+m("offset")+")"),b=t("calc(("+m("unit")+") * "+m("span")+" + ("+m("span")+" - 1) * "+m("gutter")+")");function y(t,e,n,i,r,o,a){var s=1/n*100,c=(n-1)/n,l=g({share:s,gutterShare:c,gutter:r}),u="rtl"!=document.dir&&"rtl"!=document.body.dir?{left:v({unit:l,offset:t.col,gutter:r}),width:b({unit:l,span:e.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""}:{right:v({unit:l,offset:t.col,gutter:r}),width:b({unit:l,span:e.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=v({unit:a,offset:t.row,gutter:r}),u.height=b({unit:a,span:e.row,gutter:r});break;case"ratio":var h=g({share:s/a,gutterShare:c,gutter:r});u.paddingTop=b({unit:h,span:e.row,gutter:r}),u.marginTop=v({unit:h,offset:t.row,gutter:r});break;case"fit":h=g({share:1/i*100,gutterShare:(i-1)/i,gutter:r}),u.top=v({unit:h,offset:t.row,gutter:r}),u.height=b({unit:h,span:e.row,gutter:r})}return u}function w(t,e,n,i,r){var o={};switch(i){case"fixed":o.height=b({unit:r,span:e,gutter:n}),o.paddingBottom="";break;case"ratio":var a=g({share:1/t*100*(1/r),gutterShare:1===t?0:(t-1)/t,gutter:n});o.height="",o.paddingBottom=b({unit:a,span:e,gutter:n})}return o}function E(t){return[].map.call(t,(function(t){var n=e.element(t).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}}))}function C(){var t=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}function $(){return k(o.getResponsiveAttribute(s,"md-gutter")||1)}function A(){var t=o.getResponsiveAttribute(s,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";switch(x()){case"fixed":return k(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}function x(){var t=o.getResponsiveAttribute(s,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";return"fit"==t?"fit":-1!==t.indexOf(":")?"ratio":"fixed"}function k(t){return/\D$/.test(t)?t:t+"px"}}}}function n(t){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=t.nextTick,this.layoutDelegate=e.noop}function i(t){var n=r;return i.animateWith=function(t){n=e.isFunction(t)?t:r},i;function i(e,i){var r,o,a,s,c,l;return s=t.time((function(){o=function(t,e){var n=0,i=0,r=function(){for(var e=[],n=0;n<t;n++)e.push(0);return e}();return{positioning:e.map((function(t,e){return{spans:t,position:o(t,e)}})),rowCount:i+Math.max.apply(Math,r)};function o(e,o){if(e.col>t)throw"md-grid-list: Tile at position "+o+" has a colspan ("+e.col+") that exceeds the column count ("+t+")";for(var l=0,u=0;u-l<e.col;)n>=t?a():-1!==(l=r.indexOf(0,n))&&-1!==(u=c(l+1))?n=u+1:(l=u=0,a());return s(l,e.col,e.row),n=l+e.col,{col:l,row:i}}function a(){n=0,i++,s(0,t,-1)}function s(t,e,n){for(var i=t;i<t+e;i++)r[i]=Math.max(r[i]+n,0)}function c(t){var e;for(e=t;e<r.length;e++)if(0!==r[e])return e;if(e===r.length)return e}}(e,i)})),r={layoutInfo:function(){return o},map:function(e){return c=t.time((function(){var t=r.layoutInfo();a=e(t.positioning,t.rowCount)})),r},reflow:function(e){return l=t.time((function(){(e||n)(a.grid,a.tiles)})),r},performance:function(){return{tileCount:i.length,layoutTime:s,mapTime:c,reflowTime:l,totalTime:s+c+l}}}}function r(t,e){t.element.css(t.style),e.forEach((function(t){t.element.css(t.style)}))}}function r(t){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(t){this.$attrs=t}],link:function(n,i,r,o){i.attr("role","listitem");var a=t.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,e.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",(function(){i[0].$$mdDestroyed=!0,a(),o.invalidateLayout()})),e.isDefined(n.$parent.$index)&&n.$watch((function(){return n.$parent.$index}),(function(t,e){t!==e&&o.invalidateTiles()}))}}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],i.$inject=["$mdUtil"],t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],r.$inject=["$mdMedia"],e.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",i),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(e.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),e.module("material.components.icon",["material.core"]),function(){i.$inject=["$mdTheming","$parse"],r.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],o.$inject=["$animate","$mdUtil"],a.$inject=["$compile"],f.$inject=["$mdUtil"],s.$inject=["$timeout"],p.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],m.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],g.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var n=e.module("material.components.input",["material.core"]).directive("mdInputContainer",i).directive("label",(function(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,i){!i||n.mdNoFloat||e.hasClass("md-container-ignore")||(i.label=e,t.$on("$destroy",(function(){i.label=null})))}}})).directive("input",r).directive("textarea",r).directive("mdMaxlength",o).directive("placeholder",a).directive("ngMessages",(function(){return{restrict:"EA",link:function(t,e,n,i){i&&(e.toggleClass("md-input-messages-animation",!0),e.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||function(t){return d.some((function(e){return t[e]}))}(n))&&e.toggleClass("md-auto-hide",!1))},require:"^^?mdInputContainer"}})).directive("ngMessage",f).directive("ngMessageExp",f).directive("mdSelectOnFocus",s).animation(".md-input-invalid",p).animation(".md-input-messages-animation",m).animation(".md-input-message-animation",g);function i(t,e){o.$inject=["$scope","$element","$attrs","$animate"];var n=["INPUT","TEXTAREA","SELECT","MD-SELECT"],i=n.reduce((function(t,e){return t.concat(["md-icon ~ "+e,".md-icon ~ "+e])}),[]).join(","),r=n.reduce((function(t,e){return t.concat([e+" ~ md-icon",e+" ~ .md-icon"])}),[]).join(",");return{restrict:"E",compile:function(e){var n=e[0].querySelector(i),o=e[0].querySelector(r);return n&&e.addClass("md-icon-left"),o&&e.addClass("md-icon-right"),function(e,n){t(n)}},controller:o};function o(t,n,i,r){var o=this;o.isErrorGetter=i.mdIsError&&e(i.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(t){n.toggleClass("md-input-focused",!!t)},o.setHasValue=function(t){n.toggleClass("md-input-has-value",!!t)},o.setHasPlaceholder=function(t){n.toggleClass("md-input-has-placeholder",!!t)},o.setInvalid=function(t){t?r.addClass(n,"md-input-invalid"):r.removeClass(n,"md-input-invalid")},t.$watch((function(){return o.label&&o.input}),(function(t){t&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))}))}}function r(t,n,i,r,o){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:function(a,s,c,l){var u=l[0],h=!!l[1],d=l[1]||t.fakeNgModel(),f=l[2],p=e.isDefined(c.readonly),m=t.parseAttributeBoolean(c.mdNoAsterisk),g=s[0].tagName.toLowerCase();if(u)if("hidden"!==c.type){if(u.input){if(u.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}u.input=s,u.label&&c.$observe("required",(function(t){u.label.toggleClass("md-required",t&&!m)}));var v=e.element('<div class="md-errors-spacer">');s.after(v),u.label||i.expect(s,"aria-label",c.placeholder),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+t.nextUid()),"input"===g&&"number"===c.type&&c.min&&c.max&&!c.step?s.attr("step","any"):"textarea"===g&&function(){var i=!c.hasOwnProperty("mdNoAutogrow");if(function(){if(!c.hasOwnProperty("mdNoResize")){var t=e.element('<div class="md-resize-handle"></div>'),n=!1,i=0,r=u.element,l=o.register(t,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(t),t.on("mousedown",h),r.on("$md.dragstart",d).on("$md.drag",f).on("$md.dragend",p),a.$on("$destroy",(function(){t.off("mousedown",h).remove(),r.off("$md.dragstart",d).off("$md.drag",f).off("$md.dragend",p),l(),t=null,r=null,l=null}))}function h(t){t.preventDefault(),n=!0,t.clientY,i=parseFloat(s.css("height"))||s.prop("offsetHeight")}function d(t){n&&(t.preventDefault(),E(),r.addClass("md-input-resized"))}function f(t){n&&s.css("height",i+t.pointer.distanceY+"px")}function p(t){n&&(n=!1,r.removeClass("md-input-resized"))}}(),i){var l,f=c.hasOwnProperty("rows")?parseInt(c.rows):NaN,p=c.hasOwnProperty("maxRows")?parseInt(c.maxRows):NaN,m=a.$on("md-resize-textarea",y),g=null,v=s[0];if(r((function(){t.nextTick(y)}),10,!1),s.on("input",y),h&&d.$formatters.push(w),f||s.attr("rows",1),e.element(n).on("resize",y),a.$on("$destroy",E),c.hasOwnProperty("mdDetectHidden")){var b=(l=!1,function(){var t=0===v.offsetHeight;!1===t&&!0===l&&y(),l=t});a.$watch((function(){return t.nextTick(b,!1),!0}))}}function y(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var t=function(){var t=v.offsetHeight,e=v.scrollHeight-t;return t+Math.max(e,0)}();if(!g){var e=s[0].style.padding||"";g=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=e}if(f&&g&&(t=Math.max(t,g*f)),p&&g){var n=g*p;n<t?(s.attr("md-no-autogrow",""),t=n):s.removeAttr("md-no-autogrow")}g&&s.attr("rows",Math.round(t/g)),s.css("height",t+"px").removeClass("md-no-flex")}function w(e){return t.nextTick(y),e}function E(){if(i&&(i=!1,e.element(n).off("resize",y),m&&m(),s.attr("md-no-autogrow","").off("input",y),h)){var t=d.$formatters.indexOf(w);t>-1&&d.$formatters.splice(t,1)}}}(),h||w();var b=u.isErrorGetter||function(){return d.$invalid&&(d.$touched||f&&f.$submitted)};a.$watch(b,u.setInvalid),c.ngValue&&c.$observe("value",w),d.$parsers.push(y),d.$formatters.push(y),s.on("input",w),p||s.on("focus",(function(e){t.nextTick((function(){u.setFocused(!0)}))})).on("blur",(function(e){t.nextTick((function(){u.setFocused(!1),w()}))})),a.$on("$destroy",(function(){u.setFocused(!1),u.setHasValue(!1),u.input=null}))}else s.attr("aria-hidden","true");function y(t){return u.setHasValue(!d.$isEmpty(t)),t}function w(){u.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}}}}function o(t,n){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:function(i,r,o,a){var s,c,l,u=a[0],h=a[1];function d(t){return c.parent?(c.text(String(r.val()||t||"").length+" / "+s),t):t}n.nextTick((function(){l=e.element(h.element[0].querySelector(".md-errors-spacer")),c=e.element('<div class="md-char-counter">'),l.append(c),o.$set("ngTrim","false"),i.$watch(o.mdMaxlength,(function(n){s=n,e.isNumber(n)&&n>0?(c.parent().length||t.enter(c,l),d()):t.leave(c)})),u.$validators["md-maxlength"]=function(t,n){return!e.isNumber(s)||s<0||(d(),(t||r.val()||n||"").length<=s)}}))}}}function a(t){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(n,i,r,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))o.setHasPlaceholder(!0);else if("MD-SELECT"!=i[0].nodeName){var c=e.element('<label ng-click="delegateClick()" tabindex="-1">'+r.placeholder+"</label>");r.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(c),t(c)(n)}}}}}}function s(t){return{restrict:"A",link:function(e,n,i){if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var r=!1;n.on("focus",o).on("mouseup",a),e.$on("$destroy",(function(){n.off("focus",o).off("mouseup",a)}))}function o(){r=!0,t((function(){n[0].select(),r=!1}),1,!1)}function a(t){r&&t.preventDefault()}}}}t._mdMocksIncluded&&n.service("$$mdInput",(function(){return{messages:{show:v,hide:b,getElement:E}}})).service("mdInputInvalidAnimation",p).service("mdInputMessagesAnimation",m).service("mdInputMessageAnimation",g);var c,l,u,h,d=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];function f(t){return{restrict:"EA",compile:function(e){if(n(e))i(e);else if(function(){for(var t=e[0];t=t.parentNode;)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}())return function(t,r){n(r)&&i(e)};function n(e){return!!t.getClosest(e,"md-input-container")}function i(t){t.toggleClass("md-input-message-animation",!0)}},priority:100}}function p(t,e,n,i){return C(t,e,n,i),{addClass:function(t,e,n){v(t,n)}}}function m(t,e,n,i){return C(t,e,n,i),{enter:function(t,e){v(t,e)},leave:function(t,e){b(t,e)},addClass:function(t,e,n){"ng-hide"==e?b(t,n):n()},removeClass:function(t,e,n){"ng-hide"==e?v(t,n):n()}}}function g(t,e,n,i){return C(t,e,n,i),{enter:function(t,e){y(t).start().done(e)},leave:function(t,e){w(t).start().done(e)}}}function v(t,n){var i,r=[],o=E(t),a=o.children();if(0==o.length||0==a.length)return h.warn("mdInput messages show animation called on invalid messages element: ",t),void n();e.forEach(a,(function(t){i=y(e.element(t)),r.push(i.start())})),c.all(r,n)}function b(t,n){var i,r=[],o=E(t),a=o.children();if(0==o.length||0==a.length)return h.warn("mdInput messages hide animation called on invalid messages element: ",t),void n();e.forEach(a,(function(t){i=w(e.element(t)),r.push(i.start())})),c.all(r,n)}function y(e){var n=parseInt(t.getComputedStyle(e[0]).height),i=parseInt(t.getComputedStyle(e[0]).marginTop),r=E(e),o=function(t){return t.controller("mdInputContainer").element}(e);return i>-n||r.hasClass("md-auto-hide")&&!o.hasClass("md-input-invalid")?l(e,{}):l(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function w(e){var n=e[0].offsetHeight,i=t.getComputedStyle(e[0]);return 0===parseInt(i.opacity)?l(e,{}):l(e,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function E(t){return t.hasClass("md-input-messages-animation")?t:t.hasClass("md-input-message-animation")?e.element(u.getClosest(t,(function(t){return t.classList.contains("md-input-messages-animation")}))):e.element(t[0].querySelector(".md-input-messages-animation"))}function C(t,e,n,i){c=t,l=e,u=n,h=i}}(),function(){function t(t){return{restrict:"E",compile:function(e){return e[0].setAttribute("role","list"),t}}}function n(t,n,i,r){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){var c,l,u,h=a[0].querySelectorAll(".md-secondary"),d=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)m("button");else if(!a.hasClass("md-no-proxy")){for(var f,p=0;f=o[p];++p)if(l=a[0].querySelector(f)){c=!0;break}c?m("div"):a.addClass("md-no-proxy")}function m(n){if("div"==n)(d=e.element('<div class="md-no-style md-list-item-inner">')).append(a.contents()),a.addClass("md-proxy-focus");else{d=e.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var i=e.element('<md-button class="md-no-style"></md-button>');g(a[0],i[0]),i.attr("aria-label")||i.attr("aria-label",t.getText(a)),a.hasClass("md-no-focus")&&i.addClass("md-no-focus"),d.prepend(i),d.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(d)}function g(t,n,r){var o=i.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","target","ng-attr-ui-sref","ui-sref-opts"]);r&&(o=o.concat(i.prefixer(r))),e.forEach(o,(function(e){t.hasAttribute(e)&&(n.setAttribute(e,t.getAttribute(e)),t.removeAttribute(e))}))}function v(t){for(var e=t.attributes,n=0;n<e.length;n++)if("ngClick"===s.$normalize(e[n].name))return!0;return!1}return u=e.element('<div class="md-secondary-container">'),e.forEach(h,(function(n){!function(n,i){if(n&&"MD-BUTTON"!=(c=n.nodeName.toUpperCase())&&"BUTTON"!=c&&n.hasAttribute("ng-click")){t.expect(n,"aria-label");var r=e.element('<md-button class="md-secondary md-icon-button">');g(n,r[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),r.append(n),n=r[0]}var c;n&&(!v(n)||!s.ngClick&&function(t){return-1!=o.indexOf(t.nodeName.toLowerCase())}(n))&&e.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),i.append(n)}(n,u)})),d.append(u),function(){for(var t,e,n=["md-switch","md-checkbox"],i=0;e=n[i];++i)if((t=a.find(e)[0])&&!t.hasAttribute("aria-label")){var r=a.find("p")[0];if(!r)return;t.setAttribute("aria-label","Toggle "+r.textContent)}}(),c&&"MD-MENU"===l.nodeName&&function(){var t=e.element(l),n="left";(t.parent().hasClass("md-secondary-container")||l.parentNode.firstElementChild!==l)&&(n="right"),t.attr("md-position-mode")||t.attr("md-position-mode",n+" target");var i=t.children().eq(0);v(i[0])||i.attr("ng-click","$mdMenu.open($event)"),i.attr("aria-label")||i.attr("aria-label","Open List Menu")}(),function(t,a,s,c){a.addClass("_md");var l=[],u=a[0].firstElementChild,h=a.hasClass("_md-button-wrap")?u.firstElementChild:u,d=h&&v(h),f=a.hasClass("md-no-proxy");u&&u.children&&!d&&!f&&e.forEach(o,(function(t){e.forEach(u.querySelectorAll(t+":not(.md-secondary)"),(function(t){l.push(t)}))})),(1==l.length||d)&&(a.addClass("md-clickable"),d||c.attachRipple(t,e.element(a[0].querySelector(".md-no-style")))),l.length&&e.forEach(l,(function(n){n=e.element(n),t.mouseActive=!1,n.on("mousedown",(function(){t.mouseActive=!0,r((function(){t.mouseActive=!1}),100)})).on("focus",(function(){!1===t.mouseActive&&a.addClass("md-focused"),n.on("blur",(function t(){a.removeClass("md-focused"),n.off("blur",t)}))}))}));var p=function(t){"INPUT"==t.target.nodeName||"TEXTAREA"==t.target.nodeName||t.target.isContentEditable||(t.which||t.keyCode)==n.KEY_CODE.SPACE&&h&&(h.click(),t.preventDefault(),t.stopPropagation())};d||l.length||h&&h.addEventListener("keypress",p),a.off("click"),a.off("keypress"),1==l.length&&h&&a.children().eq(0).on("click",(function(t){(function(t){var e=["md-slider"];if(!t.path)return-1!==e.indexOf(t.target.tagName.toLowerCase());for(var n=t.path.indexOf(a.children()[0]),i=0;i<n;i++)if(-1!==e.indexOf(t.path[i].tagName.toLowerCase()))return!0})(t)||!i.getClosest(t.target,"BUTTON")&&h.contains(t.target)&&e.forEach(l,(function(n){t.target===n||n.contains(t.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),e.element(n).triggerHandler("click"))}))})),t.$on("$destroy",(function(){h&&h.removeEventListener("keypress",p)}))}}}}function i(t,e,n){this.attachRipple=function(t,e){n.attach(t,e,{})}}i.$inject=["$scope","$element","$mdListInkRipple"],t.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],e.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",t).directive("mdListItem",n)}(),e.module("material.components.menu",["material.core","material.components.backdrop"]),e.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]),function(){function t(t,n){return{restrict:"E",transclude:!0,controller:i,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(i,r,o,a){n(r),a.navBarAriaLabel||t.expectAsync(r,"aria-label",e.noop)}}}function i(t,e,n,i){this._$timeout=n,this._$scope=e,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=t[0],this._inkbar;var r=this,o=this._$scope.$watch((function(){return r._navBarEl.querySelectorAll("._md-nav-button").length}),(function(t){t>0&&(r._initTabs(),o())}))}function r(t,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:o,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(t,e){var n,i,r=e.mdNavClick,o=e.mdNavHref,a=e.mdNavSref,s=e.srefOpts;if((r?1:0)+(o?1:0)+(a?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return r?n='ng-click="ctrl.mdNavClick()"':o?n='ng-href="{{ctrl.mdNavHref}}"':a&&(n='ui-sref="{{ctrl.mdNavSref}}"'),n&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+(s?'ui-sref-opts="{{ctrl.srefOpts}}" ':"")+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(i,r,o,a){n((function(){var n=a[0],o=a[1],s=e.element(r[0].querySelector("._md-nav-button"));n.name||(n.name=e.element(r[0].querySelector("._md-nav-button-text")).text().trim()),s.on("click",(function(){o.mdSelectedNavItem=n.name,i.$apply()})),t.expectWithText(r,"aria-label")}))}}}function o(t){this._$element=t,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}i.$inject=["$element","$scope","$timeout","$mdConstant"],r.$inject=["$mdAria","$$rAF"],o.$inject=["$element"],t.$inject=["$mdAria","$mdTheming"],e.module("material.components.navBar",["material.core"]).controller("MdNavBarController",i).directive("mdNavBar",t).controller("MdNavItemController",o).directive("mdNavItem",r),i.prototype._initTabs=function(){this._inkbar=e.element(this._navBarEl.querySelector("md-nav-ink-bar"));var t=this;this._$timeout((function(){t._updateTabs(t.mdSelectedNavItem,n)})),this._$scope.$watch("ctrl.mdSelectedNavItem",(function(e,n){t._$timeout((function(){t._updateTabs(e,n)}))}))},i.prototype._updateTabs=function(t,e){var n=this,i=this._getTabs();if(i){var r=-1,o=-1,a=this._getTabByName(t),s=this._getTabByName(e);s&&(s.setSelected(!1),r=i.indexOf(s)),a&&(a.setSelected(!0),o=i.indexOf(a)),this._$timeout((function(){n._updateInkBarStyles(a,o,r)}))}},i.prototype._updateInkBarStyles=function(t,e,n){if(this._inkbar.toggleClass("_md-left",e<n).toggleClass("_md-right",e>n),this._inkbar.css({display:e<0?"none":""}),t){var i=t.getButtonEl(),r=i.offsetLeft;this._inkbar.css({left:r+"px",width:i.offsetWidth+"px"})}},i.prototype._getTabs=function(){var t=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map((function(t){return e.element(t).controller("mdNavItem")}));return t.indexOf(n)?t:null},i.prototype._getTabByName=function(t){return this._findTab((function(e){return e.getName()==t}))},i.prototype._getSelectedTab=function(){return this._findTab((function(t){return t.isSelected()}))},i.prototype.getFocusedTab=function(){return this._findTab((function(t){return t.hasFocus()}))},i.prototype._findTab=function(t){for(var e=this._getTabs(),n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},i.prototype.onFocus=function(){var t=this._getSelectedTab();t&&t.setFocused(!0)},i.prototype._moveFocus=function(t,e){t.setFocused(!1),e.setFocused(!0)},i.prototype.onKeydown=function(t){var e=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i){var r=n.indexOf(i);switch(t.keyCode){case e.UP_ARROW:case e.LEFT_ARROW:r>0&&this._moveFocus(i,n[r-1]);break;case e.DOWN_ARROW:case e.RIGHT_ARROW:r<n.length-1&&this._moveFocus(i,n[r+1]);break;case e.SPACE:case e.ENTER:this._$timeout((function(){i.getButtonEl().click()}))}}},o.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},o.prototype.getName=function(){return this.name},o.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},o.prototype.setSelected=function(t){this._selected=t},o.prototype.isSelected=function(){return this._selected},o.prototype.setFocused=function(t){this._focused=t,t&&this.getButtonEl().focus()},o.prototype.hasFocus=function(){return this._focused}}(),e.module("material.components.progressCircular",["material.core"]),function(){l.$inject=["presets","$rootElement","$rootScope","$injector","$window"],e.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",(function(){return{definePreset:a,getAllPresets:s,clearPresets:c,$get:["$rootElement","$rootScope","$injector","$window",function(t,e,n,i){return new l(o,t,e,n,i)}]}}));var t=80,i="_md-panel-hidden",r=e.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),o={};function a(t,e){if(!t||!e)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(o.hasOwnProperty(t))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete e.id,delete e.position,delete e.animation,o[t]=e}function s(){return e.copy(o)}function c(){o={}}function l(n,i,r,o,a){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:e.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:t},this._config={},this._presets=n,this._$rootElement=i,this._$rootScope=r,this._$injector=o,this._$window=a,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=d.animation,this.xPosition=h.xPosition,this.yPosition=h.yPosition,this.interceptorTypes=u.interceptorTypes,this.closeReasons=u.closeReasons,this.absPosition=h.absPosition}function u(t,e){this._$q=e.get("$q"),this._$mdCompiler=e.get("$mdCompiler"),this._$mdConstant=e.get("$mdConstant"),this._$mdUtil=e.get("$mdUtil"),this._$mdTheming=e.get("$mdTheming"),this._$rootScope=e.get("$rootScope"),this._$animate=e.get("$animate"),this._$mdPanel=e.get("$mdPanel"),this._$log=e.get("$log"),this._$window=e.get("$window"),this._$$rAF=e.get("$$rAF"),this.id=t.id,this.config=t,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function h(t){this._$window=t.get("$window"),this._isRTL="rtl"===t.get("$mdUtil").bidi(),this._$mdConstant=t.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function d(t){this._$mdUtil=t.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function f(t){var n=e.isString(t)?document.querySelector(t):t;return e.element(n)}l.prototype.create=function(t,n){if("string"==typeof t?t=this._getPresetByName(t):"object"!=typeof t||!e.isUndefined(n)&&n||(n=t,t={}),t=t||{},n=n||{},e.isDefined(n.id)&&this._trackedPanels[n.id]){var i=this._trackedPanels[n.id];return e.extend(i.config,n),i}this._config=e.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,t);var r=new u(this._config,this._$injector);return this._trackedPanels[n.id]=r,this._config.groupName&&(e.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),e.forEach(this._config.groupName,(function(t){r.addToGroup(t)}))),this._config.scope.$on("$destroy",e.bind(r,r.detach)),r},l.prototype.open=function(t,e){var n=this.create(t,e);return n.open().then((function(){return n}))},l.prototype._getPresetByName=function(t){if(!this._presets[t])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[t]},l.prototype.newPanelPosition=function(){return new h(this._$injector)},l.prototype.newPanelAnimation=function(){return new d(this._$injector)},l.prototype.newPanelGroup=function(t,e){if(!this._groups[t]){var n={panels:[],openPanels:[],maxOpen:(e=e||{}).maxOpen>0?e.maxOpen:1/0};this._groups[t]=n}return this._groups[t]},l.prototype.setGroupMaxOpen=function(t,e){if(!this._groups[t])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[t].maxOpen=e},l.prototype._openCountExceedsMaxOpen=function(t){if(this._groups[t]){var e=this._groups[t];return e.maxOpen>0&&e.openPanels.length>e.maxOpen}return!1},l.prototype._closeFirstOpenedPanel=function(t){this._groups[t].openPanels[0].close()},l.prototype._wrapTemplate=function(t){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(t||"")+"</div></div>"},l.prototype._wrapContentElement=function(t){var n=e.element('<div class="md-panel-outer-wrapper">');return t.addClass("md-panel _md-panel-offscreen"),n.append(t),n},u.interceptorTypes={CLOSE:"onClose"},u.prototype.open=function(){var t=this;return this._$q((function(n,i){var r=t._done(n,t),o=t._simpleBind(t.show,t);t.attach().then(o).then((function(){t.config.groupName&&e.forEach(t.config.groupName,(function(e){t._$mdPanel._openCountExceedsMaxOpen(e)&&t._$mdPanel._closeFirstOpenedPanel(e)}))})).then(r).catch(i)}))},u.prototype.close=function(t){var n=this;return this._$q((function(i,r){n._callInterceptors(u.interceptorTypes.CLOSE).then((function(){var o=n._done(i,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||e.noop;s=e.bind(n,s,n,t),n.hide().then(a).then(o).then(s).catch(r)}),r)}))},u.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var t=this;return this._$q((function(n,i){var r=t._done(n,t),o=t.config.onDomAdded||e.noop;t._$q.all([t._createBackdrop(),t._createPanel().then((function(e){return t.isAttached=!0,t._addEventListeners(),e})).catch(i)]).then(o).then(r).catch(i)}))},u.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var t=this,n=t.config.onDomRemoved||e.noop;return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q((function(e,i){var r=t._done(e,t);t._$q.all([(t._removeEventListeners(),t._topFocusTrap&&t._topFocusTrap.parentNode&&t._topFocusTrap.parentNode.removeChild(t._topFocusTrap),t._bottomFocusTrap&&t._bottomFocusTrap.parentNode&&t._bottomFocusTrap.parentNode.removeChild(t._bottomFocusTrap),t._restoreCache.classes&&(t.panelEl[0].className=t._restoreCache.classes),t.panelEl[0].style.cssText=t._restoreCache.styles||"",t._compilerCleanup(),t.panelContainer.remove(),t.isAttached=!1,t._$q.when(t)),!t._backdropRef||t._backdropRef.detach()]).then(n).then(r).catch(i)}))},u.prototype.destroy=function(){var t=this;this.config.groupName&&e.forEach(this.config.groupName,(function(e){t.removeFromGroup(e)})),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},u.prototype.show=function(){if(!this.panelContainer)return this._$q((function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")}));if(!this.panelContainer.hasClass(i))return this._$q.when(this);var t=this;return this._$q((function(n,r){var o=t._done(n,t),a=t.config.onOpenComplete||e.noop;t._$q.all([t._backdropRef?t._backdropRef.show():t,(t.panelContainer.removeClass(i),t._animateOpen()).then((function(){t._focusOnOpen()}),r)]).then(a).then((function(){t.config.groupName&&e.forEach(t.config.groupName,(function(e){t._$mdPanel._groups[e].openPanels.push(t)}))})).then(o).catch(r)}))},u.prototype.hide=function(){if(!this.panelContainer)return this._$q((function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")}));if(this.panelContainer.hasClass(i))return this._$q.when(this);var t=this;return this._$q((function(n,r){var o=t._done(n,t),a=t.config.onRemoving||e.noop;t._$q.all([t._backdropRef?t._backdropRef.hide():t,t._animateClose().then(a).then((function(){t.panelContainer.addClass(i)})).then((function(){var n;t.config.groupName&&e.forEach(t.config.groupName,(function(e){e=t._$mdPanel._groups[e],(n=e.openPanels.indexOf(t))>-1&&e.openPanels.splice(n,1)}))})).then((function(){var e=t.config.origin;e&&f(e).focus()})).catch(r)]).then(o,r)}))},u.prototype.addClass=function(t,e){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e||this.panelContainer.hasClass(t)?e&&!this.panelEl.hasClass(t)&&this.panelEl.addClass(t):this.panelContainer.addClass(t)},u.prototype.removeClass=function(t,e){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!e&&this.panelContainer.hasClass(t)?this.panelContainer.removeClass(t):e&&this.panelEl.hasClass(t)&&this.panelEl.removeClass(t)},u.prototype.toggleClass=function(t,e){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e?this.panelEl.toggleClass(t):this.panelContainer.toggleClass(t)},u.prototype._compile=function(){var t=this;return t._$mdCompiler.compile(t.config).then((function(n){var i=t.config;if(i.contentElement){var r=n.element;t._restoreCache.styles=r[0].style.cssText,t._restoreCache.classes=r[0].className,t.panelContainer=t._$mdPanel._wrapContentElement(r),t.panelEl=r}else t.panelContainer=n.link(i.scope),t.panelEl=e.element(t.panelContainer[0].querySelector(".md-panel"));return t._compilerCleanup=n.cleanup,f(t.config.attachTo).append(t.panelContainer),t}))},u.prototype._createPanel=function(){var t=this;return this._$q((function(e,n){t.config.locals||(t.config.locals={}),t.config.locals.mdPanelRef=t,t._compile().then((function(){t.config.disableParentScroll&&(t._restoreScroll=t._$mdUtil.disableScrollAround(null,t.panelContainer,{disableScrollMask:!0})),t.config.panelClass&&t.panelEl.addClass(t.config.panelClass),t.config.propagateContainerEvents&&t.panelContainer.css("pointer-events","none"),t._$animate.pin&&t._$animate.pin(t.panelContainer,f(t.config.attachTo)),t._configureTrapFocus(),t._addStyles().then((function(){e(t)}),n)}),n)}))},u.prototype._addStyles=function(){var t=this;return this._$q((function(e){t.panelContainer.css("z-index",t.config.zIndex),t.panelEl.css("z-index",t.config.zIndex+1);var n=function(){t._setTheming(),t.panelEl.removeClass("_md-panel-offscreen"),t.panelContainer.addClass(i),e(t)};if(t.config.fullscreen)return t.panelEl.addClass("_md-panel-fullscreen"),void n();t.config.position?t._$rootScope.$$postDigest((function(){t._updatePosition(!0),t._setTheming(),e(t)})):n()}))},u.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},u.prototype.updatePosition=function(t){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=t,this._updatePosition()},u.prototype._updatePosition=function(t){var e=this.config.position;e&&(e._setPanelPosition(this.panelEl),t&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass(i)),this.panelEl.css(h.absPosition.TOP,e.getTop()),this.panelEl.css(h.absPosition.BOTTOM,e.getBottom()),this.panelEl.css(h.absPosition.LEFT,e.getLeft()),this.panelEl.css(h.absPosition.RIGHT,e.getRight()))},u.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var t=this;this._$rootScope.$$postDigest((function(){(t._$mdUtil.findFocusTarget(t.panelEl)||t.panelEl).focus()}))}},u.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var t=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&t.duration(this.config.animation._rawDuration);var e={animation:t,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(e)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},u.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},u.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach((function(t){t()})),this._removeListeners=[]},u.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var t=f(this.config.attachTo),e=this,n=function(t){t.keyCode===e._$mdConstant.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),e.close(u.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),t.on("keydown",n),this._removeListeners.push((function(){e.panelContainer.off("keydown",n),t.off("keydown",n)}))}},u.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var t,n=this.config.propagateContainerEvents?e.element(document.body):this.panelContainer,i=function(e){t=e.target},r=this,o=function(e){r.config.propagateContainerEvents?t===r.panelEl[0]||r.panelEl[0].contains(t)||r.close():t===n[0]&&e.target===n[0]&&(e.stopPropagation(),e.preventDefault(),r.close(u.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",i),n.on("mouseup",o),this._removeListeners.push((function(){n.off("mousedown",i),n.off("mouseup",o)}))}},u.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var t=e.bind(this,this._updatePosition),n=this._$$rAF.throttle(t),i=this,r=function(){n()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push((function(){i._$window.removeEventListener("scroll",r,!0)}))}},u.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var t=this.panelEl;this._topFocusTrap=r.clone()[0],this._bottomFocusTrap=r.clone()[0];var e=function(){t.focus()};this._topFocusTrap.addEventListener("focus",e),this._bottomFocusTrap.addEventListener("focus",e),this._removeListeners.push(this._simpleBind((function(){this._topFocusTrap.removeEventListener("focus",e),this._bottomFocusTrap.removeEventListener("focus",e)}),this)),t[0].parentNode.insertBefore(this._topFocusTrap,t[0]),t.after(this._bottomFocusTrap)}},u.prototype.updateAnimation=function(t){this.config.animation=t,this._backdropRef&&this._backdropRef.config.animation.duration(t._rawDuration)},u.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var t=this.config.animation;if(!t)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q((function(n){var i=e._done(n,e);t.animateOpen(e.panelEl).then(i,(function(){e._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),i()}))}))},u.prototype._animateClose=function(){var t=this.config.animation;if(!t)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q((function(n){var i=function(){e.panelContainer.removeClass("md-panel-is-showing"),n(e)};t.animateClose(e.panelEl).then(i,(function(){e._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),i()}))}))},u.prototype.registerInterceptor=function(t,n){var i=null;if(e.isString(t)?e.isFunction(n)||(i="Interceptor callback must be a function, instead got "+typeof n):i="Interceptor type must be a string, instead got "+typeof t,i)throw new Error("MdPanel: "+i);var r=this._interceptors[t]=this._interceptors[t]||[];return-1===r.indexOf(n)&&r.push(n),this},u.prototype.removeInterceptor=function(t,e){var n=this._interceptors[t]?this._interceptors[t].indexOf(e):-1;return n>-1&&this._interceptors[t].splice(n,1),this},u.prototype.removeAllInterceptors=function(t){return t?this._interceptors[t]=[]:this._interceptors=Object.create(null),this},u.prototype._callInterceptors=function(t){var n=this,i=n._$q;return(n._interceptors&&n._interceptors[t]||[]).reduceRight((function(t,r){var o=r&&e.isFunction(r.then)?r:null;return t.then((function(){if(!o)try{o=r(n)}catch(t){o=i.reject(t)}return o}))}),i.resolve(n))},u.prototype._simpleBind=function(t,e){return function(n){return t.apply(e,n)}},u.prototype._done=function(t,e){return function(){t(e)}},u.prototype.addToGroup=function(t){this._$mdPanel._groups[t]||this._$mdPanel.newPanelGroup(t);var e=this._$mdPanel._groups[t];e.panels.indexOf(this)<0&&e.panels.push(this)},u.prototype.removeFromGroup=function(t){if(!this._$mdPanel._groups[t])throw new Error("mdPanel: The group "+t+" does not exist.");var e=this._$mdPanel._groups[t],n=e.panels.indexOf(this);n>-1&&e.panels.splice(n,1)},u.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},h.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},h.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},h.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},h.viewportMargin=8,h.prototype.absolute=function(){return this._absolute=!0,this},h.prototype._setPosition=function(t,n){if(t===h.absPosition.RIGHT||t===h.absPosition.LEFT)this._left=this._right="";else{if(t!==h.absPosition.BOTTOM&&t!==h.absPosition.TOP){var i=Object.keys(h.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+i+".")}this._top=this._bottom=""}return this["_"+t]=e.isString(n)?n:"0",this},h.prototype.top=function(t){return this._setPosition(h.absPosition.TOP,t)},h.prototype.bottom=function(t){return this._setPosition(h.absPosition.BOTTOM,t)},h.prototype.start=function(t){var e=this._isRTL?h.absPosition.RIGHT:h.absPosition.LEFT;return this._setPosition(e,t)},h.prototype.end=function(t){var e=this._isRTL?h.absPosition.LEFT:h.absPosition.RIGHT;return this._setPosition(e,t)},h.prototype.left=function(t){return this._setPosition(h.absPosition.LEFT,t)},h.prototype.right=function(t){return this._setPosition(h.absPosition.RIGHT,t)},h.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},h.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},h.prototype.center=function(){return this.centerHorizontally().centerVertically()},h.prototype.relativeTo=function(t){return this._absolute=!1,this._relativeToEl=f(t),this},h.prototype.addPanelPosition=function(t,e){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(t),this._validateYPosition(e),this._positions.push({x:t,y:e}),this},h.prototype._validateYPosition=function(t){if(null!=t){for(var e,n=Object.keys(h.yPosition),i=[],r=0;e=n[r];r++){var o=h.yPosition[e];if(i.push(o),o===t)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+i.join(" | "))}},h.prototype._validateXPosition=function(t){if(null!=t){for(var e,n=Object.keys(h.xPosition),i=[],r=0;e=n[r];r++){var o=h.xPosition[e];if(i.push(o),o===t)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+i.join(" | "))}},h.prototype.withOffsetX=function(t){return this._translateX.push(t),this},h.prototype.withOffsetY=function(t){return this._translateY.push(t),this},h.prototype.getTop=function(){return this._top},h.prototype.getBottom=function(){return this._bottom},h.prototype.getLeft=function(){return this._left},h.prototype.getRight=function(){return this._right},h.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},h.prototype._setTransform=function(t){return t.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},h.prototype._isOnscreen=function(t){var e=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=function(t,e){var n=getComputedStyle(t[0]||t)[e],i=n.indexOf("("),r=n.lastIndexOf(")"),o={x:0,y:0};if(i>-1&&r>-1){var a=n.substring(i+1,r).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}(t,this._$mdConstant.CSS.TRANSFORM);e+=i.x,n+=i.y}var r=e+t[0].offsetWidth,o=n+t[0].offsetHeight;return e>=0&&n>=0&&o<=this._$window.innerHeight&&r<=this._$window.innerWidth},h.prototype.getActualPosition=function(){return this._actualPosition},h.prototype._reduceTranslateValues=function(t,n){return n.map((function(n){var i=e.isFunction(n)?n(this):n;return t+"("+i+")"}),this).join(" ")},h.prototype._setPanelPosition=function(t){if(t.removeClass("_md-panel-position-adjusted"),this._absolute)this._setTransform(t);else{if(this._actualPosition)return this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),void this._constrainToViewport(t);for(var e=0;e<this._positions.length;e++)if(this._actualPosition=this._positions[e],this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),this._isOnscreen(t))return;this._constrainToViewport(t)}},h.prototype._constrainToViewport=function(t){var e=h.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var r=parseInt(this.getTop()),o=t[0].offsetHeight+r,a=this._$window.innerHeight;r<e?this._top=e+"px":o>a&&(this._top=r-(o-a+e)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),c=t[0].offsetWidth+s,l=this._$window.innerWidth;s<e?this._left=e+"px":c>l&&(this._left=s-(c-l+e)+"px")}t.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},h.prototype._reverseXPosition=function(t){if(t!==h.xPosition.CENTER){var e="start";return t.indexOf(e)>-1?t.replace(e,"end"):t.replace("end",e)}},h.prototype._bidi=function(t){return this._isRTL?this._reverseXPosition(t):t},h.prototype._calculatePanelPosition=function(t,e){var n=t[0].getBoundingClientRect(),i=n.width,r=n.height,o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,c=o.width;switch(this._bidi(e.x)){case h.xPosition.OFFSET_START:this._left=a-i+"px";break;case h.xPosition.ALIGN_END:this._left=s-i+"px";break;case h.xPosition.CENTER:var l=a+.5*c-.5*i;this._left=l+"px";break;case h.xPosition.ALIGN_START:this._left=a+"px";break;case h.xPosition.OFFSET_END:this._left=s+"px"}var u=o.top,d=o.bottom,f=o.height;switch(e.y){case h.yPosition.ABOVE:this._top=u-r+"px";break;case h.yPosition.ALIGN_BOTTOMS:this._top=d-r+"px";break;case h.yPosition.CENTER:var p=u+.5*f-.5*r;this._top=p+"px";break;case h.yPosition.ALIGN_TOPS:this._top=u+"px";break;case h.yPosition.BELOW:this._top=d+"px"}},d.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},d.prototype.openFrom=function(t){return t=t.target?t.target:t,this._openFrom=this._getPanelAnimationTarget(t),this._closeTo||(this._closeTo=this._openFrom),this},d.prototype.closeTo=function(t){return this._closeTo=this._getPanelAnimationTarget(t),this},d.prototype.duration=function(t){return t&&(e.isNumber(t)?this._openDuration=this._closeDuration=n(t):e.isObject(t)&&(this._openDuration=n(t.open),this._closeDuration=n(t.close))),this._rawDuration=t,this;function n(t){if(e.isNumber(t))return t/1e3}},d.prototype._getPanelAnimationTarget=function(t){return e.isDefined(t.top)||e.isDefined(t.left)?{element:n,bounds:{top:t.top||0,left:t.left||0}}:this._getBoundingClientRect(f(t))},d.prototype.withAnimation=function(t){return this._animationClass=t,this},d.prototype.animateOpen=function(t){var n=this._$mdUtil.dom.animator;this._fixBounds(t);var i={},r=t[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case d.animation.SLIDE:t.css("opacity","1"),i={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(t,this._openFrom)||"";o=n.toTransformCss(s+" "+r);break;case d.animation.SCALE:i={transitionInClass:"_md-panel-animate-enter"};var c=n.calculateZoomToOrigin(t,this._openFrom)||"";o=n.toTransformCss(c+" "+r);break;case d.animation.FADE:i={transitionInClass:"_md-panel-animate-enter"};break;default:i=e.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.duration=this._openDuration,n.translate3d(t,o,a,i)},d.prototype.animateClose=function(t){var n=this._$mdUtil.dom.animator,i={},r=t[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case d.animation.SLIDE:t.css("opacity","1"),i={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(t,this._closeTo)||"";a=n.toTransformCss(s+" "+r);break;case d.animation.SCALE:i={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var c=n.calculateZoomToOrigin(t,this._closeTo)||"";a=n.toTransformCss(c+" "+r);break;case d.animation.FADE:i={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:i=e.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.duration=this._closeDuration,n.translate3d(t,o,a,i)},d.prototype._fixBounds=function(t){var e=t[0].offsetWidth,n=t[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=e),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=e)},d.prototype._getBoundingClientRect=function(t){if(t instanceof e.element)return{element:t,bounds:t[0].getBoundingClientRect()}}}(),function(){function t(t,n,i){var r="determinate",o="indeterminate",a="buffer",s="query",c="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:function(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),l}};function l(i,l,h){var d;t(l);var f=h.hasOwnProperty("disabled"),p=n.dom.animator.toCss,m=e.element(l[0].querySelector(".md-bar1")),g=e.element(l[0].querySelector(".md-bar2")),v=e.element(l[0].querySelector(".md-container"));function b(){var t=(h.mdMode||"").trim();if(t)switch(t){case r:case o:case a:case s:break;default:t=o}return t}function y(t,i){if(!f&&b()){var r=n.supplant("translateX({0}%) scale({1},1)",[(i-100)/2,i/100]),o=p({transform:r});e.element(t).css(o)}}l.attr("md-mode",b()).toggleClass(c,f),function(){if(e.isUndefined(h.mdMode)){var t=e.isDefined(h.value)?r:o;l.attr("md-mode",t),h.mdMode=t}}(),h.$observe("value",(function(t){var e=u(t);l.attr("aria-valuenow",e),b()!=s&&y(g,e)})),h.$observe("mdBufferValue",(function(t){y(m,u(t))})),h.$observe("disabled",(function(t){f=!0===t||!1===t?!!t:e.isDefined(t),l.toggleClass(c,f),v.toggleClass(d,!f)})),h.$observe("mdMode",(function(t){switch(d&&v.removeClass(d),t){case s:case a:case r:case o:v.addClass(d="md-mode-"+t);break;default:v.addClass(d="md-mode-"+o)}}))}function u(t){return Math.max(0,Math.min(t||0,100))}}t.$inject=["$mdTheming","$mdUtil","$log"],e.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t)}(),function(){function t(t,n,i,r){return o.prototype={init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=e.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach((function(t){t()}))},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return a(this.$element,1)},selectPrevious:function(){return a(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}},{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:function(o,a,s,c){a.addClass("_md"),i(a);var l=c[0],u=c[1]||t.fakeNgModel();function h(){a.hasClass("md-focused")||a.addClass("md-focused")}l.init(u),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",(function(i){var r=i.which||i.keyCode;if(r==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),l.selectPrevious(),h();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),l.selectNext(),h();break;case n.KEY_CODE.ENTER:var o=e.element(t.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}})).on("mousedown",(function(t){o.mouseActive=!0,r((function(){o.mouseActive=!1}),100)})).on("focus",(function(){!1===o.mouseActive&&l.$element.addClass("md-focused")})).on("blur",(function(){l.$element.removeClass("md-focused")}))}}};function o(t){this._radioButtonRenderFns=[],this.$element=t}function a(n,i){var r=t.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=n[0].querySelector("md-radio-button.md-checked"),a=r[i<0?"previous":"next"](o,(function(t){return!e.element(t).attr("disabled")}))||r.first();e.element(a).triggerHandler("click")}}}function n(t,e,n){var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:function(r,o,a,s){var c;function l(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(h),a.$observe("value",h),o.on("click",u).on("$destroy",(function(){s.remove(h)}))}function u(t){o[0].hasAttribute("disabled")||s.isDisabled()||r.$apply((function(){s.setViewValue(a.value,t&&t.type)}))}function h(){var t=s.getViewValue()==a.value;t!==c&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(i,t),t&&s.setActiveDescendant(o.attr("id")),c=t,o.attr("aria-checked",t).toggleClass(i,t))}n(o),function(n,i){n.attr({id:a.id||"radio_"+e.nextUid(),role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}(o),a.ngValue?e.nextTick(l,!1):l()}}}t.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],e.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",n)}(),function(){function t(t,e){return["$mdUtil","$window",function(n,i){return{restrict:"A",multiElement:!0,link:function(r,o,a){var s=r.$on("$md-resize-enable",(function(){s();var c=o[0],l=c.nodeType===i.Node.ELEMENT_NODE?i.getComputedStyle(c):{};r.$watch(a[t],(function(t){if(!!t===e){n.nextTick((function(){r.$broadcast("$md-resize")}));var i={cachedTransitionStyles:l};n.dom.animator.waitTransitionEnd(o,i).then((function(){r.$broadcast("$md-resize")}))}}))}))}}}]}e.module("material.components.showHide",["material.core"]).directive("ngShow",t("ngShow",!0)).directive("ngHide",t("ngHide",!1))}(),function(){function t(t,i,r,o){var a="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",s={find:function(e,r){var s=t.get(e);return s||r?s:(o.error(i.supplant(a,[e||""])),n)},waitFor:c};return function(t,n){if(e.isUndefined(t))return s;var o=!0===n,l=s.find(t,o);return!l&&o?s.waitFor(t):!l&&e.isUndefined(n)?function(t,n){var o=function(){return!1},s=function(){return r.when(i.supplant(a,[n||""]))};return e.extend({isLockedOpen:o,isOpen:o,toggle:s,open:s,close:s,onClose:e.noop,then:function(t){return c(n).then(t||e.noop)}},t)}(s,t):l};function c(e){return t.when(e).catch(o.error)}}function i(t,i,r,o,a,s,c,l,u,h,d,f,p){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed").attr("tabIndex","-1"),m}};function m(c,m,g,v){var b,y,w,E,C=null,$=null,A=h.when(!0),x=l(g.mdIsLockedOpen),k=e.element(f);function S(t){return t.keyCode===r.KEY_CODE.ESCAPE?T(t):h.when(!0)}function T(t){return t.preventDefault(),v.close()}g.mdDisableScrollTarget&&((C=d[0].querySelector(g.mdDisableScrollTarget))?C=e.element(C):u.warn(i.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),C||(C=m.parent()),g.hasOwnProperty("mdDisableBackdrop")||(y=i.createBackdrop(c,"md-sidenav-backdrop md-opaque ng-enter")),m.addClass("_md"),o(m),y&&o.inherit(y,m),m.on("$destroy",(function(){y&&y.remove(),v.destroy()})),c.$on("$destroy",(function(){y&&y.remove()})),c.$watch((function(){return x(c.$parent,{$media:function(e){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),t(e)},$mdMedia:t})}),(function(t,e){c.isLockedOpen=t,t===e?m.toggleClass("md-locked-open",!!t):s[t?"addClass":"removeClass"](m,"md-locked-open"),y&&y.toggleClass("md-locked-open",!!t)})),c.$watch("isOpen",(function(t){var r=i.findFocusTarget(m)||i.findFocusTarget(m,"[md-sidenav-focus]")||m,o=m.parent();o[t?"on":"off"]("keydown",S),y&&y[t?"on":"off"]("click",T);var l=function(t,e){var n=m[0],i=t[0].scrollTop;if(e&&i){E={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var r={top:i+"px",bottom:"auto",height:t[0].clientHeight+"px"};m.css(r),y.css(r)}if(!e&&E)return function(){n.style.top=E.top,n.style.bottom=E.bottom,n.style.height=E.height,y[0].style.top=null,y[0].style.bottom=null,y[0].style.height=null,E=null}}(o,t);return t&&($=d[0].activeElement,w=a.getLastInteractionType()),function(t){t&&!b?(b=C.css("overflow"),C.css("overflow","hidden")):e.isDefined(b)&&(C.css("overflow",b),b=n)}(t),A=h.all([t&&y?s.enter(y,o):y?s.leave(y):h.when(!0),s[t?"removeClass":"addClass"](m,"md-closed")]).then((function(){c.isOpen&&(p((function(){k.triggerHandler("resize")})),r&&r.focus()),l&&l()}))})),v.$toggleOpen=function(t){return c.isOpen==t?h.when(!0):(c.isOpen&&v.onCloseCb&&v.onCloseCb(),h((function(e){c.isOpen=t,i.nextTick((function(){A.then((function(t){!c.isOpen&&$&&"keyboard"===w&&($.focus(),$=null),e(t)}))}))})))}}}function r(t,e,n,i,r){var o=this;o.isOpen=function(){return!!t.isOpen},o.isLockedOpen=function(){return!!t.isLockedOpen},o.onClose=function(t){return o.onCloseCb=t,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!t.isOpen)},o.$toggleOpen=function(e){return i.when(t.isOpen=e)};var a=e.mdComponentId,s=a&&a.indexOf(r.startSymbol())>-1,c=s?r(a)(t.$parent):a;o.destroy=n.register(o,c),s&&e.$observe("mdComponentId",(function(t){t&&t!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,t))}))}t.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],i.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],r.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],e.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",i).directive("mdSidenavFocus",(function(){return{restrict:"A",require:"^mdSidenav",link:function(t,e,n,i){}}})).controller("$mdSidenavController",r)}(),function(){a.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],s.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],c.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],l.$inject=["$$interimElementProvider"];var i=8,r=0,o=e.element('<div class="md-container"><div class="md-icon"></div></div>');function a(t,i,r,o,a,s,c,l){var h=r.KEY_CODE;return h.SPACE,h.ENTER,h.UP_ARROW,h.DOWN_ARROW,{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:function(l,h){var d=e.element("<md-select-value><span></span></md-select-value>");if(d.append('<span class="md-select-icon" aria-hidden="true"></span>'),d.addClass("md-select-value"),d[0].hasAttribute("id")||d.attr("id","select_value_label_"+i.nextUid()),l.find("md-content").length||l.append(e.element("<md-content>").append(l.contents())),h.mdOnOpen&&(l.find("md-content").prepend(e.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),l.find("md-option").attr("ng-show","$$loadingAsyncDone")),h.name){var f=e.element('<select class="md-visually-hidden">');f.attr({name:h.name,"aria-hidden":"true",tabindex:"-1"});var p=l.find("md-option");e.forEach(p,(function(t){var n=e.element("<option>"+t.innerHTML+"</option>");t.hasAttribute("ng-value")?n.attr("ng-value",t.getAttribute("ng-value")):t.hasAttribute("value")&&n.attr("value",t.getAttribute("value")),f.append(n)})),f.append('<option ng-value="'+h.ngModel+'" selected></option>'),l.parent().append(f)}var m=i.parseAttributeBoolean(h.multiple),g=m?"multiple":"",v='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return v=i.supplant(v,[g,l.html()]),l.empty().append(d),l.append(v),h.tabindex||h.$set("tabindex",0),function(l,h,d,f){var p,g,v,b,y,w=!0,E=f[0],C=f[1],$=f[2],A=f[3],x=h.find("md-select-value"),k=e.isDefined(d.readonly),S=i.parseAttributeBoolean(d.mdNoAsterisk);if(S&&h.addClass("md-no-asterisk"),E){var T=E.isErrorGetter||function(){return $.$invalid&&($.$touched||A&&A.$submitted)};if(E.input&&h.find("md-select-header").find("input")[0]!==E.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");E.input=h,E.label||a.expect(h,"aria-label",h.attr("placeholder")),l.$watch(T,E.setInvalid)}!function(){if(v=e.element(h[0].querySelector(".md-select-menu-container")),b=l,d.mdContainerClass){var t=v[0].getAttribute("class")+" "+d.mdContainerClass;v[0].setAttribute("class",t)}(y=v.find("md-select-menu").controller("mdSelectMenu")).init($,d.ngModel),h.on("$destroy",(function(){v.remove()}))}(),o(h),A&&e.isDefined(d.multiple)&&i.nextTick((function(){($.$modelValue||$.$viewValue)&&A.$setPristine()}));var _,M=$.$render;function F(){v&&(y=y||v.find("md-select-menu").controller("mdSelectMenu"),C.setLabelText(y.selectedLabels()))}function D(){if(g){var t=y.selectedLabels({mode:"aria"});h.attr("aria-label",t.length?g+": "+t:g)}}$.$render=function(){M(),F(),D(),L()},d.$observe("placeholder",$.$render),E&&E.label&&d.$observe("required",(function(t){E.label.toggleClass("md-required",t&&!S)})),C.setLabelText=function(t){C.setIsPlaceholder(!t);var e=!1;if(d.mdSelectedText&&d.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");d.mdSelectedText||d.mdSelectedHtml?(t=s(d.mdSelectedText||d.mdSelectedHtml)(l),e=!0):t||(t=d.placeholder||(E&&E.label?E.label.text():"")||"",e=!0);var n=x.children().eq(0);d.mdSelectedHtml?n.html(c.getTrustedHtml(t)):e?n.text(t):n.html(t)},C.setIsPlaceholder=function(t){t?(x.addClass("md-select-placeholder"),E&&E.label&&E.label.addClass("md-placeholder")):(x.removeClass("md-select-placeholder"),E&&E.label&&E.label.removeClass("md-placeholder"))},k||(h.on("focus",(function(t){E&&E.setFocused(!0)})),h.on("blur",(function(t){w&&(w=!1,b._mdSelectIsOpen&&t.stopImmediatePropagation()),b._mdSelectIsOpen||(E&&E.setFocused(!1),L())}))),C.triggerClose=function(){s(d.mdOnClose)(l)},l.$$postDigest((function(){!function(){var t=h.attr("aria-label")||h.attr("placeholder");!t&&E&&E.label&&(t=E.label.text()),g=t,a.expect(h,"aria-label",t)}(),F(),D()})),l.$watch((function(){return y.selectedLabels()}),F),d.$observe("ngMultiple",(function(t){_&&_();var e=s(t);_=l.$watch((function(){return e(l)}),(function(t,e){t===n&&e===n||(t?h.attr("multiple","multiple"):h.removeAttr("multiple"),h.attr("aria-multiselectable",t?"true":"false"),v&&(y.setMultiple(t),M=$.$render,$.$render=function(){M(),F(),D(),L()},$.$render()))}))})),d.$observe("disabled",(function(t){e.isString(t)&&(t=!0),p!==n&&p===t||(p=t,t?h.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",N).off("keydown",I):h.attr({tabindex:d.tabindex,"aria-disabled":"false"}).on("click",N).on("keydown",I))})),d.hasOwnProperty("disabled")||d.hasOwnProperty("ngDisabled")||(h.attr({"aria-disabled":"false"}),h.on("click",N),h.on("keydown",I));var R={role:"listbox","aria-expanded":"false","aria-multiselectable":m&&!d.ngMultiple?"true":"false"};h[0].hasAttribute("id")||(R.id="select_"+i.nextUid());var O="select_container_"+i.nextUid();function L(){E&&E.setHasValue(y.selectedLabels().length>0||(h[0].validity||{}).badInput)}function I(t){if(r.isNavigationKey(t))t.preventDefault(),N();else if(u(t,r)){t.preventDefault();var n=y.optNodeForKeyboardSearch(t);if(!n||n.hasAttribute("disabled"))return;var i=e.element(n).controller("mdOption");y.isMultiple||y.deselect(Object.keys(y.selected)[0]),y.select(i.hashKey,i.value),y.refreshViewValue()}}function N(){b._mdSelectIsOpen=!0,h.attr("aria-expanded","true"),t.show({scope:b,preserveScope:!0,skipCompile:!0,element:v,target:h[0],selectCtrl:C,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!d.mdOnOpen&&(l.$eval(d.mdOnOpen)||!0)}).finally((function(){b._mdSelectIsOpen=!1,h.focus(),h.attr("aria-expanded","false"),$.$setTouched()}))}v.attr("id",O),R["aria-owns"]=O,h.attr(R),l.$on("$destroy",(function(){t.destroy().finally((function(){E&&(E.setFocused(!1),E.setHasValue(!1),E.input=null),$.$setTouched()}))}))}},controller:function(){}}}function s(t,i,o,a){return s.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:s,link:{pre:function(t,n,r,o){var s=o[0];function c(n){var r=i.getClosest(n.target,"md-option"),o=r&&e.element(r).data("$mdOptionController");if(r&&o){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=s.hashGetter(o.value),c=e.isDefined(s.selected[a]);t.$apply((function(){s.isMultiple?c?s.deselect(a):s.select(a,o.value):c||(s.deselect(Object.keys(s.selected)[0]),s.select(a,o.value)),s.refreshViewValue()}))}}n.addClass("_md"),a(n),n.on("click",c),n.on("keypress",(function(t){13!=t.keyCode&&32!=t.keyCode||c(t)}))}}};function s(a,s,c){var l,u=this;u.isMultiple=e.isDefined(s.multiple),u.selected={},u.options={},a.$watchCollection((function(){return u.options}),(function(){u.ngModel.$render()})),u.setMultiple=function(t){var n=u.ngModel;function i(t,n){return e.isArray(t||n||[])}l=l||n.$isEmpty,u.isMultiple=t,u.isMultiple?(n.$validators["md-multiple"]=i,n.$render=m,a.$watchCollection(u.modelBinding,(function(t){i(t)&&m(),u.ngModel.$setPristine()})),n.$isEmpty=function(t){return!t||0===t.length}):(delete n.$validators["md-multiple"],n.$render=g)};var h,d,f,p="";function m(){var t=u.ngModel.$modelValue||u.ngModel.$viewValue||[];if(e.isArray(t)){var n=Object.keys(u.selected),i=t.map(u.hashGetter);n.filter((function(t){return-1===i.indexOf(t)})).forEach(u.deselect),i.forEach((function(e,n){u.select(e,t[n])}))}}function g(){var t=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(t),t)}u.optNodeForKeyboardSearch=function(t){h&&clearTimeout(h),h=setTimeout((function(){h=n,p="",f=n,d=n}),300);var i=t.keyCode-(o.isNumPadKey(t)?48:0);p+=String.fromCharCode(i);var r=new RegExp("^"+p,"i");d||(d=c.find("md-option"),f=new Array(d.length),e.forEach(d,(function(t,e){f[e]=t.textContent.trim()})));for(var a=0;a<f.length;++a)if(r.test(f[a]))return d[a]},u.init=function(n,o){u.ngModel=n,u.modelBinding=o,u.ngModel.$isEmpty=function(t){return!u.options[u.hashGetter(t)]};var s=i.getModelOption(n,"trackBy");if(s){var c={},l=t(s);u.hashGetter=function(t,e){return c.$value=t,l(e||a,c)}}else u.hashGetter=function(t){return e.isObject(t)?"object_"+(t.$$mdSelectId||(t.$$mdSelectId=++r)):t};u.setMultiple(u.isMultiple)},u.selectedLabels=function(t){var e,n=(t=t||{}).mode||"html",r=i.nodesToArray(c[0].querySelectorAll("md-option[selected]"));return r.length?("html"==n?e=function(t){if(t.hasAttribute("md-option-empty"))return"";var e=t.innerHTML,n=t.querySelector(".md-ripple-container");n&&(e=e.replace(n.outerHTML,""));var i=t.querySelector(".md-container");return i&&(e=e.replace(i.outerHTML,"")),e}:"aria"==n&&(e=function(t){return t.hasAttribute("aria-label")?t.getAttribute("aria-label"):t.textContent}),i.uniq(r.map(e)).join(", ")):""},u.select=function(t,e){var n=u.options[t];n&&n.setSelected(!0),u.selected[t]=e},u.deselect=function(t){var e=u.options[t];e&&e.setSelected(!1),delete u.selected[t]},u.addOption=function(t,n){if(e.isDefined(u.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');u.options[t]=n,e.isDefined(u.selected[t])&&(u.select(t,n.value),e.isDefined(u.ngModel.$modelValue)&&u.hashGetter(u.ngModel.$modelValue)===t&&u.ngModel.$validate(),u.refreshViewValue())},u.removeOption=function(t){delete u.options[t]},u.refreshViewValue=function(){var t,n=[];for(var r in u.selected)(t=u.options[r])?n.push(t.value):n.push(u.selected[r]);var o=i.getModelOption(u.ngModel,"trackBy"),a=u.isMultiple?n:n[0],s=u.ngModel.$modelValue;(o?e.equals(s,a):s+""===a)||(u.ngModel.$setViewValue(a),u.ngModel.$render())}}}function c(t,n,i){return a.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:a,compile:function(t,n){return t.append(e.element('<div class="md-text">').append(t.contents())),t.attr("tabindex",n.tabindex||"0"),function(t){var e=t.value,n=t.ngValue;return e||n}(n)||t.attr("md-option-empty",""),r}};function r(r,a,s,c){var l=c[0],u=c[1];function h(t,e,n){if(u.hashGetter){var i=u.hashGetter(e,r),o=u.hashGetter(t,r);l.hashKey=o,l.value=t,u.removeOption(i,l),u.addOption(o,l)}else n||r.$$postDigest((function(){h(t,e,!0)}))}i(a),u.isMultiple&&(a.addClass("md-checkbox-enabled"),a.prepend(o.clone())),e.isDefined(s.ngValue)?r.$watch(s.ngValue,h):e.isDefined(s.value)?h(s.value):r.$watch((function(){return a.text().trim()}),h),s.$observe("disabled",(function(t){t?a.attr("tabindex","-1"):a.attr("tabindex","0")})),r.$$postDigest((function(){s.$observe("selected",(function(t){e.isDefined(t)&&("string"==typeof t&&(t=!0),t?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(l.hashKey,l.value)):u.deselect(l.hashKey),u.refreshViewValue())}))})),t.attach(r,a),function(){var t={role:"option","aria-selected":"false"};a[0].hasAttribute("id")||(t.id="select_option_"+n.nextUid()),a.attr(t)}(),r.$on("$destroy",(function(){u.removeOption(l.hashKey,l)}))}function a(t){this.selected=!1,this.setSelected=function(e){e&&!this.selected?t.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(t.removeAttr("selected"),t.attr("aria-selected","false")),this.selected=e}}}function l(r){return o.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],r("$mdSelect").setDefaults({methods:["target"],options:o});function o(r,o,s,c,l,h,d,f,p){var m=s.dom.animator,g=o.KEY_CODE;return{parent:"body",themable:!0,onShow:function(t,i,a){return a.loadingAsync&&!a.isRemoved&&(t.$$loadingAsyncDone=!1,l.when(a.loadingAsync).then((function(){t.$$loadingAsyncDone=!0,delete a.loadingAsync})).then((function(){h(b)}))),function(t,n){var r=i.find("md-select-menu");if(!n.target)throw new Error(s.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[n.target]));e.extend(n,{isRemoved:!1,target:e.element(n.target),parent:e.element(n.parent),selectEl:r,contentEl:i.find("md-content"),optionNodes:r[0].getElementsByTagName("md-option")})}(0,a),a.hideBackdrop=function(t,e,n){return n.disableParentScroll&&!s.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=s.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=s.createBackdrop(t,"md-select-backdrop md-click-catcher"),f.enter(n.backdrop,p[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}(t,0,a),function(t,e,n){return n.parent.append(e),l((function(t,n){try{d(e,{removeClass:"md-leave",duration:0}).start().then(b).then(t)}catch(t){n(t)}}))}(0,i,a).then((function(l){return i.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=function(){if(!a.isRemoved){var t=a.selectEl,e=t.controller("mdSelectMenu")||{};return i.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",c),t.on("keydown",l),t.on("click",d),function(){a.backdrop&&a.backdrop.off("click",c),t.off("keydown",l),t.off("click",d),i.removeClass("md-clickable"),a.isRemoved=!0}}function c(t){t.preventDefault(),t.stopPropagation(),a.restoreFocus=!1,s.nextTick(r.hide,!0)}function l(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case g.UP_ARROW:return void h("prev");case g.DOWN_ARROW:return void h("next");case g.SPACE:case g.ENTER:var n=s.getClosest(e.target,"md-option");n&&(t.triggerHandler({type:"click",target:n}),e.preventDefault()),d(e);break;case g.TAB:case g.ESCAPE:e.stopPropagation(),e.preventDefault(),a.restoreFocus=!0,s.nextTick(r.hide,!0);break;default:if(u(e,o)){var i=t.controller("mdSelectMenu").optNodeForKeyboardSearch(e);a.focusedNode=i||a.focusedNode,i&&i.focus()}}}function h(t){var e,i=s.nodesToArray(a.optionNodes),r=i.indexOf(a.focusedNode);do{-1===r?r=0:"next"===t&&r<i.length-1?r++:"prev"===t&&r>0&&r--,(e=i[r]).hasAttribute("disabled")&&(e=n)}while(!e&&r<i.length-1&&r>0);e&&e.focus(),a.focusedNode=e}function d(n){if(!(n&&"click"==n.type&&n.currentTarget!=t[0]||function(){var t=!1;if(n&&n.currentTarget.children.length>0){var e=n.currentTarget.children[0];e.scrollHeight>e.clientHeight&&e.children.length>0&&n.pageX-n.currentTarget.getBoundingClientRect().left>e.querySelector("md-option").offsetWidth&&(t=!0)}return t}())){var i=s.getClosest(n.target,"md-option");i&&i.hasAttribute&&!i.hasAttribute("disabled")&&(n.preventDefault(),n.stopPropagation(),e.isMultiple||(a.restoreFocus=!0,s.nextTick((function(){r.hide(e.ngModel.$viewValue)}),!0)))}}}(),a.cleanupResizing=function(){var n=function(t,e,n){return function(){if(!n.isRemoved){var i=v(t,e,n),r=i.container,o=i.dropDown;r.element.css(m.toCss(r.styles)),o.element.css(m.toCss(o.styles))}}}(t,i,a),r=e.element(c);return r.on("resize",n),r.on("orientationchange",n),function(){r.off("resize",n),r.off("orientationchange",n)}}(),l}),a.hideBackdrop);function b(){return l((function(e){if(a.isRemoved)return l.reject(!1);var n=v(t,i,a);n.container.element.css(m.toCss(n.container.styles)),n.dropDown.element.css(m.toCss(n.dropDown.styles)),h((function(){var t;i.addClass("md-active"),n.dropDown.element.css(m.toCss({transform:""})),(t=a.focusedNode)&&!t.hasAttribute("disabled")&&t.focus(),e()}))}))}},onRemove:function(t,e,n){return(n=n||{}).cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?i():d(e,{addClass:"md-leave"}).start().then(i);function i(){e.removeClass("md-active"),e.attr("aria-hidden","true"),e[0].style.display="none",function(t){var e=t.selectCtrl;if(e){var n=t.selectEl.controller("mdSelectMenu");e.setLabelText(n?n.selectedLabels():""),e.triggerClose()}}(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}},hasBackdrop:!0,disableParentScroll:!0};function v(n,r,o){var l,u,h=r[0],d=o.target[0].children[0],f=p[0].body,m=o.selectEl[0],g=o.contentEl[0],v=f.getBoundingClientRect(),b=d.getBoundingClientRect(),y={left:v.left+i,top:i,bottom:v.height-i,right:v.width-i-(s.floatingScrollbars()?16:0)},w=b.top-y.top,E=(b.left,b.left,b.width,y.bottom-(b.top+b.height)),C=v.width-2*i,$=m.querySelector("md-option[selected]"),A=m.getElementsByTagName("md-option"),x=m.getElementsByTagName("md-optgroup"),k=function(t,e){var n=!1;try{var i=t[0].style.display;t[0].style.display="block",n=e.scrollHeight>e.offsetHeight,t[0].style.display=i}finally{}return n}(r,g);l=(u=o.loadingAsync)&&e.isFunction(u.then)?g.firstElementChild||g:$||(x.length?x[0]:A.length?A[0]:g.firstElementChild||g),g.offsetWidth>C?g.style["max-width"]=C+"px":g.style.maxWidth=null,k&&m.classList.add("md-overflow");var S=l;"MD-OPTGROUP"===(S.tagName||"").toUpperCase()&&(l=S=A[0]||g.firstElementChild||g),o.focusedNode=S,h.style.display="block";var T,_,M,F,D,R,O=m.getBoundingClientRect(),L=(T=l)?{left:T.offsetLeft,top:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}:{left:0,top:0,width:0,height:0};if(l){var I=c.getComputedStyle(l);L.paddingLeft=parseInt(I.paddingLeft,10)||0,L.paddingRight=parseInt(I.paddingRight,10)||0}if(k){var N=g.offsetHeight/2;g.scrollTop=L.top+L.height/2-N,w<N?g.scrollTop=Math.min(L.top,g.scrollTop+N-w):E<N&&(g.scrollTop=Math.max(L.top+L.height-O.height,g.scrollTop-N+E))}_=b.left+L.left-L.paddingLeft+2,M=Math.floor(b.top+b.height/2-L.height/2-L.top+g.scrollTop)+2,F=L.left+b.width/2+"px "+(L.top+L.height/2-g.scrollTop)+"px 0px",D=Math.min(b.width+L.paddingLeft+L.paddingRight,C),R=t.getComputedStyle(d)["font-size"];var B=h.getBoundingClientRect(),P=Math.round(100*Math.min(b.width/O.width,1))/100,H=Math.round(100*Math.min(b.height/O.height,1))/100;return{container:{element:e.element(h),styles:{left:Math.floor(a(y.left,_,y.right-B.width)),top:Math.floor(a(y.top,M,y.bottom-B.height)),"min-width":D,"font-size":R}},dropDown:{element:e.element(m),styles:{transformOrigin:F,transform:o.alreadyOpen?"":s.supplant("scale({0},{1})",[P,H])}}}}}function a(t,e,n){return Math.max(t,Math.min(e,n))}}function u(t,e){var n=String.fromCharCode(t.keyCode),i=t.keyCode<=31;return n&&n.length&&!i&&!e.isMetaKey(t)&&!e.isFnLockKey(t)&&!e.hasModifierKey(t)}e.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",a).directive("mdSelectMenu",s).directive("mdOption",c).directive("mdOptgroup",(function(){return{restrict:"E",compile:function(t,n){t.parent().find("md-select-header").length||function(){var i=t.find("label");i.length||(i=e.element("<label>"),t.prepend(i)),i.addClass("md-container-ignore"),n.label&&i.text(n.label)}()}}})).directive("mdSelectHeader",(function(){return{restrict:"E"}})).provider("$mdSelect",l)}(),function(){function t(t,n,i,r,o,a,s,c,l,u){return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:function(t,n){var r=e.element(t[0].getElementsByClassName("md-slider-wrapper")),o=n.tabindex||0;return r.attr("tabindex",o),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),r.attr("role","slider"),i.expect(t,"aria-label"),h}};function h(i,h,d,f){a(h);var p=f[0]||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach((function(t){t()}))},$parsers:[],$formatters:[],$viewChangeListeners:[]},m=f[1],g=(e.element(r.getClosest(h,"_md-slider-container",!0)),d.ngDisabled?e.bind(null,c(d.ngDisabled),i.$parent):function(){return h[0].hasAttribute("disabled")}),v=e.element(h[0].querySelector(".md-thumb")),b=e.element(h[0].querySelector(".md-thumb-text")),y=v.parent(),w=e.element(h[0].querySelector(".md-track-container")),E=e.element(h[0].querySelector(".md-track-fill")),C=e.element(h[0].querySelector(".md-track-ticks")),$=e.element(h[0].getElementsByClassName("md-slider-wrapper")),A=(e.element(h[0].getElementsByClassName("md-slider-content")),r.throttle(j,5e3)),x=e.isDefined(d.mdVertical),k=e.isDefined(d.mdDiscrete),S=e.isDefined(d.mdInvert);function T(){j(),V()}e.isDefined(d.min)?d.$observe("min",I):I(0),e.isDefined(d.max)?d.$observe("max",N):N(100),e.isDefined(d.step)?d.$observe("step",B):B(1),e.isDefined(d.round)?d.$observe("round",P):P(3),e.noop,d.ngDisabled&&i.$parent.$watch(d.ngDisabled,(function(){h.attr("aria-disabled",!!g())})),s.register($,"drag",{horizontal:!x}),i.mouseActive=!1,$.on("keydown",(function(t){var e;g()||((x?t.keyCode===o.KEY_CODE.DOWN_ARROW:t.keyCode===o.KEY_CODE.LEFT_ARROW)?e=-F:(x?t.keyCode===o.KEY_CODE.UP_ARROW:t.keyCode===o.KEY_CODE.RIGHT_ARROW)&&(e=F),(e=S?-e:e)&&((t.metaKey||t.ctrlKey||t.altKey)&&(e*=4),t.preventDefault(),t.stopPropagation(),i.$evalAsync((function(){W(p.$viewValue+e)}))))})).on("mousedown",(function(){(function(){if(k&&!g()&&!e.isUndefined(F)){if(F<=0){var t="Slider step value must be greater than zero when in discrete mode";throw l.error(t),new Error(t)}var i=Math.floor((M-_)/F);R||(R=e.element("<canvas>").css("position","absolute"),C.append(R),O=R[0].getContext("2d"));var r,o=U();!o||o.height||o.width||(j(),o=H),R[0].width=o.width,R[0].height=o.height;for(var a=0;a<=i;a++){var s=n.getComputedStyle(C[0]);O.fillStyle=s.color||"black",r=Math.floor((x?o.height:o.width)*(a/i)),O.fillRect(x?0:r-1,x?r-1:0,x?o.width:2,x?2:o.height)}}})(),i.mouseActive=!0,$.removeClass("md-focused"),u((function(){i.mouseActive=!1}),100)})).on("focus",(function(){!1===i.mouseActive&&$.addClass("md-focused")})).on("blur",(function(){$.removeClass("md-focused"),h.removeClass("md-active"),function(){if(R&&O){var t=U();O.clearRect(0,0,t.width,t.height)}}()})).on("$md.pressdown",(function(t){if(!g()){h.addClass("md-active"),h[0].focus(),j();var e=z(q(Q(X(x?t.pointer.y:t.pointer.x))));i.$apply((function(){W(e),Y(J(e))}))}})).on("$md.pressup",(function(t){if(!g()){h.removeClass("md-dragging");var e=z(q(Q(X(x?t.pointer.y:t.pointer.x))));i.$apply((function(){W(e),V()}))}})).on("$md.dragstart",(function(t){g()||(K=!0,t.stopPropagation(),h.addClass("md-dragging"),G(t))})).on("$md.drag",(function(t){K&&(t.stopPropagation(),G(t))})).on("$md.dragend",(function(t){K&&(t.stopPropagation(),K=!1)})),setTimeout(T,0);var _,M,F,D,R,O,L=t.throttle(T);function I(t){_=parseFloat(t),h.attr("aria-valuemin",t),T()}function N(t){M=parseFloat(t),h.attr("aria-valuemax",t),T()}function B(t){F=parseFloat(t)}function P(t){D=z(parseInt(t),0,6)}e.element(n).on("resize",L),i.$on("$destroy",(function(){e.element(n).off("resize",L)})),p.$render=V,p.$viewChangeListeners.push(V),p.$formatters.push(z),p.$formatters.push(q);var H={};function j(){H=w[0].getBoundingClientRect()}function U(){return A(),H}function W(t){p.$setViewValue(z(q(t)))}function V(){isNaN(p.$viewValue)&&(p.$viewValue=p.$modelValue),p.$viewValue=z(p.$viewValue);var t=J(p.$viewValue);i.modelValue=p.$viewValue,h.attr("aria-valuenow",p.$viewValue),Y(t),b.text(p.$viewValue)}function z(t,n,i){if(e.isNumber(t))return n=e.isNumber(n)?n:_,i=e.isNumber(i)?i:M,Math.max(n,Math.min(i,t))}function q(t){if(e.isNumber(t)){var n=Math.round((t-_)/F)*F+_;return n=Math.round(n*Math.pow(10,D))/Math.pow(10,D),m&&m.fitInputWidthToTextLength&&r.debounce((function(){m.fitInputWidthToTextLength(n.toString().length)}),100)(),n}}function Y(t){var e;e=t;var n=100*(t=Math.max(0,Math.min(e||0,1)))+"%",i=S?100*(1-t)+"%":n;x?y.css("bottom",n):r.bidiProperty(y,"left","right",n),E.css(x?"height":"width",i),h.toggleClass(S?"md-max":"md-min",0===t),h.toggleClass(S?"md-min":"md-max",1===t)}j();var K=!1;function G(t){var e,n;k?(n=z(q(Q(X(e=x?t.pointer.y:t.pointer.x)))),Y(X(e)),b.text(n)):function(t){i.$evalAsync((function(){W(Q(X(t)))}))}(x?t.pointer.y:t.pointer.x)}function X(t){var e=(t-(x?H.top:H.left))/(x?H.height:H.width);return x||"rtl"!==r.bidi()||(e=1-e),Math.max(0,Math.min(1,x?1-e:e))}function Q(t){return _+(S?1-t:t)*(M-_)}function J(t){var e=(t-_)/(M-_);return S?1-e:e}}}t.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],e.module("material.components.slider",["material.core"]).directive("mdSlider",t).directive("mdSliderContainer",(function(){return{controller:function(){},compile:function(t){var i=t.find("md-slider");if(i)return i.attr("md-vertical")!==n&&t.attr("md-vertical",""),i.attr("flex")||i.attr("flex",""),function(t,n,i,r){function o(t){n.children().attr("disabled",t),n.find("input").attr("disabled",t)}n.addClass("_md");var a,s=e.noop;i.disabled?o(!0):i.ngDisabled&&(s=t.$watch(i.ngDisabled,(function(t){o(t)}))),t.$on("$destroy",(function(){s()})),r.fitInputWidthToTextLength=function(t){var e=n[0].querySelector("md-input-container");if(e){var i=getComputedStyle(e),r=parseInt(i.minWidth),o=2*parseInt(i.padding);a=a||parseInt(i.maxWidth);var s=Math.max(a,r+o+r/2*t);e.style.maxWidth=s+"px"}}}}}}))}(),function(){function t(t,e,i,r){var o=i.checkStickySupport();return function(a,s,c){var l=s.controller("mdContent");if(l)if(o)s.css({position:o,top:0,"z-index":2});else{var u=l.$element.data("$$sticky");u||(u=function(r){var o,a=r.$element,s=e.throttle(c);return function(t){var n,r;function o(){+i.now()-r>200?(n=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),e.throttle(o))}t.on("scroll touchmove",(function(){n||(n=!0,e.throttle(o),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),r=+i.now()}))}(a),a.on("$scrollstart",s),a.on("$scroll",(function t(){var e=a.prop("scrollTop"),n=e>(t.prevScrollTop||0);if(t.prevScrollTop=e,0!==e){if(n){if(o.next&&o.next.top<=e)return void u(o.next);if(o.current&&o.next&&o.next.top-e<=o.next.height)return void d(o.current,e+(o.next.top-o.next.height-e))}if(!n){if(o.current&&o.prev&&e<o.current.top)return void u(o.prev);if(o.next&&o.current&&e>=o.next.top-o.current.height)return void d(o.current,e+(o.next.top-e-o.current.height))}o.current&&d(o.current,e)}else u(null)})),o={prev:null,current:null,next:null,items:[],add:function(t,e){e.addClass("md-sticky-clone");var n={element:t,clone:e};return o.items.push(n),i.nextTick((function(){a.prepend(n.clone)})),s(),function(){o.items.forEach((function(e,n){e.element[0]===t[0]&&(o.items.splice(n,1),e.clone.remove())})),s()}},refreshElements:c};function c(){var t;o.items.forEach(l),o.items=o.items.sort((function(t,e){return t.top<e.top?-1:1}));for(var e=a.prop("scrollTop"),n=o.items.length-1;n>=0;n--)if(e>o.items[n].top){t=o.items[n];break}u(t)}function l(t){var e=t.element[0];for(t.top=0,t.left=0,t.right=0;e&&e!==a[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent&&(t.right+=e.offsetParent.offsetWidth-e.offsetWidth-e.offsetLeft),e=e.offsetParent;t.height=t.element.prop("offsetHeight");var r=i.floatingScrollbars()?"0":n;i.bidi(t.clone,"margin-left",t.left,r),i.bidi(t.clone,"margin-right",r,t.right)}function u(t){if(o.current!==t){o.current&&(d(o.current,null),h(o.current,null)),t&&h(t,"active"),o.current=t;var e=o.items.indexOf(t);o.next=o.items[e+1],o.prev=o.items[e-1],h(o.next,"next"),h(o.prev,"prev")}}function h(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function d(e,r){e&&(null===r||r===n?e.translateY&&(e.translateY=null,e.clone.css(t.CSS.TRANSFORM,"")):(e.translateY=r,i.bidi(e.clone,t.CSS.TRANSFORM,"translate3d("+e.left+"px,"+r+"px,0)","translateY("+r+"px)")))}}(l),l.$element.data("$$sticky",u));var h=c||r(s.clone())(a),d=u.add(s,h);a.$on("$destroy",d)}}}t.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],e.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t)}(),function(){function t(t,n,i,r,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,c,l,u){i(s),s.addClass("_md"),r.prefixer().removeAttribute(s,"ng-repeat");var h=s[0].outerHTML;function d(t){return e.element(t[0].querySelector(".md-subheader-content"))}c.$set("role","heading"),o.expect(s,"aria-level","2"),u(a,(function(t){d(s).append(t)})),s.hasClass("md-no-sticky")||u(a,(function(e){var i=n('<div class="md-subheader-wrapper" aria-hidden="true">'+h+"</div>")(a);r.nextTick((function(){d(i).append(e)})),t(a,s,i)}))}}}t.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],e.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t)}(),function(){function t(t,n,i,r,o,a,s){var c=t[0];return{restrict:"E",priority:i.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:function(t,l){var u=c.compile(t,l).post;return t.addClass("md-dragging"),function(t,c,l,h){h[0];var d=h[1]||n.fakeNgModel(),f=(h[2],null);null!=l.disabled?f=function(){return!0}:l.ngDisabled&&(f=r(l.ngDisabled));var p,m=e.element(c[0].querySelector(".md-thumb-container")),g=e.element(c[0].querySelector(".md-container")),v=e.element(c[0].querySelector(".md-label"));o((function(){c.removeClass("md-dragging")})),u(t,c,l,h),f&&t.$watch(f,(function(t){c.attr("tabindex",t?-1:0)})),l.$observe("mdInvert",(function(t){var e=n.parseAttributeBoolean(t);e?c.prepend(v):c.prepend(g),c.toggleClass("md-inverted",e)})),a.register(g,"drag"),g.on("$md.dragstart",(function(e){f&&f(t)||(e.stopPropagation(),c.addClass("md-dragging"),p={width:m.prop("offsetWidth")})})).on("$md.drag",(function(t){if(p){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/p.width,n=d.$viewValue?1+e:e;n=Math.max(0,Math.min(1,n)),m.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),p.translate=n}})).on("$md.dragend",(function(e){var n;p&&(e.stopPropagation(),c.removeClass("md-dragging"),m.css(i.CSS.TRANSFORM,""),(d.$viewValue?p.translate<.5:p.translate>.5)&&(n=!d.$viewValue,t.$apply((function(){d.$setViewValue(n),d.$render()}))),p=null,t.skipToggle=!0,s((function(){t.skipToggle=!1}),1))}))}}}}t.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],e.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t)}(),function(){function t(t){i.$inject=["$parse"];var e="md"+t,n="$md."+t.toLowerCase();return i;function i(t){return{restrict:"A",link:function(i,r,o){r.css("touch-action",o.mdSwipeTouchAction||"none");var a=t(o[e]);r.on(n,(function(t){i.$applyAsync((function(){a(i,{$event:t})}))}))}}}}e.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",t("SwipeLeft")).directive("mdSwipeRight",t("SwipeRight")).directive("mdSwipeUp",t("SwipeUp")).directive("mdSwipeDown",t("SwipeDown"))}(),e.module("material.components.tabs",["material.core","material.components.icon"]),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",(function(){t.destroy()}))}}}function n(t){var n;function i(t){n=t}return r.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"],t("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:r}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(t,e){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(e){var i=this;i.highlightAction&&(e.highlightClasses=["md-highlight",i.highlightClass]),e.$watch((function(){return n}),(function(){i.content=n})),this.resolve=function(){t.hide("ok")}}],theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",i).addMethod("updateContent",i);function r(t,i,r,o){var a="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:function(e,s,c){n=c.textContent||c.content;var l=!o("gt-sm");return s=r.extractElementByName(s,"md-toast",!0),c.element=s,c.onSwipe=function(t,e){var n=t.type.replace("$md.",""),o=n.replace("swipe","");"down"===o&&-1!=c.position.indexOf("top")&&!l||"up"===o&&(-1!=c.position.indexOf("bottom")||l)||("left"!==o&&"right"!==o||!l)&&(s.addClass("md-"+n),r.nextTick(i.cancel))},c.openClass=function(t){return o("gt-xs")?"md-toast-open-"+(t.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}(c.position),s.addClass(c.toastClass),c.parent.addClass(c.openClass),r.hasComputedStyle(c.parent,"position","static")&&c.parent.css("position","relative"),s.on(a,c.onSwipe),s.addClass(l?"md-bottom":c.position.split(" ").map((function(t){return"md-"+t})).join(" ")),c.parent&&c.parent.addClass("md-toast-animating"),t.enter(s,c.parent).then((function(){c.parent&&c.parent.removeClass("md-toast-animating")}))},onRemove:function(e,n,i){return n.off(a,i.onSwipe),i.parent&&i.parent.addClass("md-toast-animating"),i.openClass&&i.parent.removeClass(i.openClass),(1==i.$destroy?n.remove():t.leave(n)).then((function(){i.parent&&i.parent.removeClass("md-toast-animating"),r.hasComputedStyle(i.parent,"position","static")&&i.parent.css("position","")}))},toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(t,n){if(n.autoWrap&&t&&!/md-toast-content/g.test(t)){var i=document.createElement("md-template");i.innerHTML=t;for(var r=0;r<i.children.length;r++)if("MD-TOAST"===i.children[r].nodeName){var o=e.element('<div class="md-toast-content">');o.append(e.element(i.children[r].childNodes)),i.children[r].appendChild(o[0])}return i.innerHTML}return t||""}}}}t.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"],e.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",n)}(),function(){function t(t,n,i,r,o){var a=e.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,c,l){c.addClass("_md"),r(c),i.nextTick((function(){c.addClass("_md-toolbar-transitions")}),!1),e.isDefined(l.mdScrollShrink)&&function(){var r,u,h=e.noop,d=0,f=0,p=l.mdShrinkSpeedFactor||.5,m=t.throttle(b),g=i.debounce(w,5e3);function v(t,e){e&&c.parent()[0]===e.parent()[0]&&(u&&u.off("scroll",m),u=e,h=y())}function b(t){var e=t?t.target.scrollTop:f;g(),d=Math.min(r/p,Math.max(0,d+e-f)),c.css(n.CSS.TRANSFORM,a([-d*p])),u.css(n.CSS.TRANSFORM,a([(r-d)*p])),f=e,i.nextTick((function(){var t=c.hasClass("md-whiteframe-z1");t&&!d?o.removeClass(c,"md-whiteframe-z1"):!t&&d&&o.addClass(c,"md-whiteframe-z1")}))}function y(){return u?(u.on("scroll",m),u.attr("scroll-shrink","true"),i.nextTick(w,!1),function(){u.off("scroll",m),u.attr("scroll-shrink","false"),w()}):e.noop}function w(){var t=-(r=c.prop("offsetHeight"))*p+"px";u.css({"margin-top":t,"margin-bottom":t}),b()}s.$on("$mdContentLoaded",v),l.$observe("mdScrollShrink",(function(t){var e=c.parent().find("md-content");!u&&e.length&&v(null,e),!1===(t=s.$eval(t))?h():h=y()})),l.ngShow&&s.$watch(l.ngShow,w),l.ngHide&&s.$watch(l.ngHide,w),s.$on("$destroy",h)}()}}}t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],e.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t)}(),function(){function n(t,n,i,r,o,a,s,c){var l="focus touchstart mouseenter",u="blur touchcancel mouseleave",h={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:function(d,f,p){var m,g,v,b,y,w="md-tooltip-"+a.nextUid(),E=a.getParentWithPointerEvents(f),C=i.throttle(S),$=!1,A=null;function x(){d.mdZIndex=d.mdZIndex||100,d.mdDelay=d.mdDelay||0,h[d.mdDirection]||(d.mdDirection="bottom")}function k(t){var e=t||o(f.text().trim())(d.$parent);(!E.attr("aria-label")&&!E.attr("aria-labelledby")||E.attr("md-labeled-by-tooltip"))&&(E.attr("aria-label",e),E.attr("md-labeled-by-tooltip")||E.attr("md-labeled-by-tooltip",w))}function S(){x(),b&&b.panelEl&&b.panelEl.removeClass(m),m="md-origin-"+d.mdDirection,g=h[d.mdDirection],v=s.newPanelPosition().relativeTo(E).addPanelPosition(g.x,g.y),b&&b.panelEl&&(b.panelEl.addClass(m),b.updatePosition(v))}function T(e){T.queued&&T.value===!!e||!T.queued&&d.mdVisible===!!e||(T.value=!!e,T.queued||(e?(T.queued=!0,y=t((function(){d.mdVisible=T.value,T.queued=!1,y=null,d.visibleWatcher||_(d.mdVisible)}),d.mdDelay)):a.nextTick((function(){d.mdVisible=!1,d.visibleWatcher||_(!1)}))))}function _(t){t?function(){if(!f[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!b){var t=e.element(document.body),n=s.newPanelAnimation().openFrom(E).closeTo(E).withAnimation({open:"md-show",close:"md-hide"}),i={id:w,attachTo:t,contentElement:f,propagateContainerEvents:!0,panelClass:"md-tooltip "+m,animation:n,position:v,zIndex:d.mdZIndex,focusOnOpen:!1};b=s.create(i)}b.open().then((function(){b.panelEl.attr("role","tooltip")}))}():b&&b.close()}x(),k(),f.detach(),S(),function(){if(E[0]&&"MutationObserver"in n){var e=new MutationObserver((function(t){(function(t){return t.some((function(t){return"disabled"===t.attributeName&&E[0].disabled})),!1})(t)&&a.nextTick((function(){T(!1)}))}));e.observe(E[0],{attributes:!0})}function i(){T(!1)}function o(){A=document.activeElement===E[0]}function s(t){"focus"===t.type&&A?A=!1:d.mdVisible||(E.on(u,h),T(!0),"touchstart"===t.type&&E.one("touchend",(function(){a.nextTick((function(){r.one("touchend",h)}),!1)})))}function h(){((d.hasOwnProperty("mdAutohide")?d.mdAutohide:p.hasOwnProperty("mdAutohide"))||$||r[0].activeElement!==E[0])&&(y&&(t.cancel(y),T.queued=!1,y=null),E.off(u,h),E.triggerHandler("blur"),T(!1)),$=!1}function f(){$=!0}A=!1,c.register("scroll",i,!0),c.register("blur",o),c.register("resize",C),d.$on("$destroy",(function(){c.deregister("scroll",i,!0),c.deregister("blur",o),c.deregister("resize",C),E.off(l,s).off(u,h).off("mousedown",f),h(),e&&e.disconnect()})),E.on("mousedown",f),E.on(l,s)}(),function(){if(f[0]&&"MutationObserver"in n){var t=new MutationObserver((function(t){t.forEach((function(t){"md-visible"!==t.attributeName||d.visibleWatcher||(d.visibleWatcher=d.$watch("mdVisible",_))}))}));t.observe(f[0],{attributes:!0}),p.hasOwnProperty("mdVisible")&&(d.visibleWatcher=d.$watch("mdVisible",_))}else d.visibleWatcher=d.$watch("mdVisible",_);function e(){d.$destroy()}d.$watch("mdDirection",S),f.one("$destroy",e),E.one("$destroy",e),d.$on("$destroy",(function(){T(!1),b&&b.destroy(),t&&t.disconnect(),f.remove()})),f.text().indexOf(o.startSymbol())>-1&&d.$watch((function(){return f.text().trim()}),k)}()}}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],e.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",(function(){var n={},i=e.element(t);return{register:function(e,o,a){var s=n[e]=n[e]||[];s.length||(a?t.addEventListener(e,r,!0):i.on(e,r)),-1===s.indexOf(o)&&s.push(o)},deregister:function(e,o,a){var s=n[e],c=s?s.indexOf(o):-1;c>-1&&(s.splice(c,1),0===s.length&&(a?t.removeEventListener(e,r,!0):i.off(e,r)))}};function r(t){n[t.type]&&n[t.type].forEach((function(e){e.call(this,t)}),this)}}))}(),function(){function t(t){t.addClass("md-truncate")}t.$inject=["$element"],e.module("material.components.truncate",["material.core"]).directive("mdTruncate",(function(){return{restrict:"AE",controller:t,controllerAs:"$ctrl",bindToController:!0}}))}(),function(){function t(t){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+t[0].innerHTML+"</div></div>"}function n(t,n,i,r,o,a,s,c,l){this.$rootScope=o,this.$scope=s,this.$element=c,this.$attrs=l,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=i.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),e.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,e.bind(this,(function(t){t!==this.topIndex&&this.scrollToIndex(t)})))):this.topIndex=0,this.scroller=c[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var u=e.bind(this,this.updateSize);t(e.bind(this,(function(){u();var t=n.debounce(u,10,null,!1),i=e.element(a);this.size||t(),i.on("resize",t),s.$on("$destroy",(function(){i.off("resize",t)})),s.$emit("$md-resize-enable"),s.$on("$md-resize",u)})))}function i(t){return{controller:r,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(e,n){var i=n.mdVirtualRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=i[1],o=t(i[2]),a=n.mdExtraName&&t(n.mdExtraName);return function(t,e,n,i,s){i[0].link_(i[1],s,r,o,a)}}}}function r(t,n,i,r,o,a,s,c){this.$scope=t,this.$element=n,this.$attrs=i,this.$browser=r,this.$document=o,this.$rootScope=a,this.$$rAF=s,this.onDemand=c.parseAttributeBoolean(i.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=t.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=e.noop,this.blocks={},this.pooledBlocks=[],t.$on("$destroy",e.bind(this,this.cleanupBlocks_))}function o(t){if(!e.isFunction(t.getItemAtIndex)||!e.isFunction(t.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=t}n.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],r.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],i.$inject=["$parse"],e.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",(function(){return{controller:n,template:t,compile:function(t,e){t.addClass("md-virtual-repeat-container").addClass(e.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}})).directive("mdVirtualRepeat",i),n.prototype.register=function(t){this.repeater=t,e.element(this.scroller).on("scroll wheel touchmove touchend",e.bind(this,this.handleScroll_))},n.prototype.isHorizontal=function(){return this.horizontal},n.prototype.getSize=function(){return this.size},n.prototype.setSize_=function(t){var e=this.getDimensionName_();this.size=t,this.$element[0].style[e]=t+"px"},n.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},n.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},n.prototype.getScrollSize=function(){return this.scrollSize},n.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},n.prototype.sizeScroller_=function(t){var e=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",t<this.maxElementPixels)this.sizer.style[e]=t+"px";else{this.sizer.style[e]="auto",this.sizer.style[n]="auto";var i=Math.floor(t/this.maxElementPixels),r=document.createElement("div");r.style[e]=this.maxElementPixels+"px",r.style[n]="1px";for(var o=0;o<i;o++)this.sizer.appendChild(r.cloneNode(!1));r.style[e]=t-i*this.maxElementPixels+"px",this.sizer.appendChild(r)}},n.prototype.autoShrink_=function(t){var e=Math.max(t,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&e!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||e<n)this.originalSize||(this.originalSize=this.size),this.setSize_(e);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},n.prototype.setScrollSize=function(t){var e=t+this.offsetSize;this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},n.prototype.getScrollOffset=function(){return this.scrollOffset},n.prototype.scrollTo=function(t){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=t,this.handleScroll_()},n.prototype.scrollToIndex=function(t){var e=this.repeater.getItemSize(),n=this.repeater.itemsLength;t>n&&(t=n-1),this.scrollTo(e*t)},n.prototype.resetScroll=function(){this.scrollTo(0)},n.prototype.handleScroll_=function(){var t="rtl"!=document.dir&&"rtl"!=document.body.dir;t||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var e=this.isHorizontal()?t?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(e===this.scrollOffset||e>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var i=Math.max(0,Math.floor(e/n)-3),r=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||t?i*n:-i*n)+"px)";if(this.scrollOffset=e,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var o=Math.floor(e/n);o!==this.topIndex&&o<this.repeater.getItemCount()&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},r.Block,r.prototype.link_=function(t,n,i,r,o){this.container=t,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=r,this.extraName=o,this.sized=!1,this.repeatListExpression=e.bind(this,this.repeatListExpression_),this.container.register(this)},r.prototype.cleanupBlocks_=function(){e.forEach(this.pooledBlocks,(function(t){t.element.remove()}))},r.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var t=this.getBlock_(0);t.element[0].parentNode||this.parentNode.appendChild(t.element[0]),this.itemSize=t.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=t,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},r.prototype.repeatListExpression_=function(t){var e=this.rawRepeatListExpression(t);if(this.onDemand&&e){var n=new o(e);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return e},r.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==e.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,e.bind(this,(function(t){t&&t.length&&this.readItemSize_()}))),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,e.bind(this,(function(t,e){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(t,e)})))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof o&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},r.prototype.getItemSize=function(){return this.itemSize},r.prototype.getItemCount=function(){return this.itemsLength},r.prototype.virtualRepeatUpdate_=function(t,n){this.isVirtualRepeatUpdating_=!0;var i=t&&t.length||0,r=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset()){this.items=t;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}i!==this.itemsLength&&(r=!0,this.itemsLength=i),this.items=t,(t!==n||r)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(i*this.itemSize);var a,s=!1;this.isFirstRender&&(s=!0,this.isFirstRender=!1,a=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex,this.container.scrollToIndex(a)),Object.keys(this.blocks).forEach((function(t){var e=parseInt(t,10);(e<this.newStartIndex||e>=this.newEndIndex)&&this.poolBlock_(e)}),this),this.$browser.$$checkUrlChange=e.noop;var c,l,u=[],h=[];for(c=this.newStartIndex;c<this.newEndIndex&&null==this.blocks[c];c++)l=this.getBlock_(c),this.updateBlock_(l,c),u.push(l);for(;null!=this.blocks[c];c++)this.updateBlock_(this.blocks[c],c);for(var d=c-1;c<this.newEndIndex;c++)l=this.getBlock_(c),this.updateBlock_(l,c),h.push(l);u.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(u),this.$element[0].nextSibling),h.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(h),this.blocks[d]&&this.blocks[d].element[0].nextSibling),s&&this.container.scrollToIndex(a),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},r.prototype.getBlock_=function(t){return this.pooledBlocks.length?this.pooledBlocks.pop():(this.transclude(e.bind(this,(function(e,i){n={element:e,new:!0,scope:i},this.updateScope_(i,t),this.parentNode.appendChild(e[0])}))),n);var n},r.prototype.updateBlock_=function(t,e){this.blocks[e]=t,(t.new||t.scope.$index!==e||t.scope[this.repeatName]!==this.items[e])&&(t.new=!1,this.updateScope_(t.scope,e),this.$rootScope.$$phase||t.scope.$digest())},r.prototype.updateScope_=function(t,e){t.$index=e,t[this.repeatName]=this.items&&this.items[e],this.extraName&&(t[this.extraName(this.$scope)]=this.items[e])},r.prototype.poolBlock_=function(t){this.pooledBlocks.push(this.blocks[t]),this.parentNode.removeChild(this.blocks[t].element[0]),delete this.blocks[t]},r.prototype.domFragmentFromBlocks_=function(t){var e=this.$document[0].createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element[0])})),e},r.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,e=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-e,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+e+3,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},o.prototype.$$includeIndexes=function(t,e){for(var n=t;n<e;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){function t(t){return{link:function(e,n,i){var r="";i.$observe("mdWhiteframe",(function(e){-1!=(e=parseInt(e,10)||4)&&(e>24||e<1)&&(t.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",n[0]),e=4);var o=-1==e?"":"md-whiteframe-"+e+"dp";i.$updateClass(o,r),r=o}))}}}t.$inject=["$log"],e.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",t)}(),function(){a.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],e.module("material.components.autocomplete").controller("MdAutocompleteCtrl",a);var t=48,i=5,r=8,o=2;function a(a,s,c,l,u,h,d,f,p,m,g,v){var b,y,w=this,E=a.itemsExpr.split(/ in /i),C=E[1],$=null,A={},x=!1,k=[],S=!1,T=0,_=null,M=null,F=c.debounce((function(){w.hidden||L()}));b=function(t,n){!t&&n?(L(),Z(!0,R.Count|R.Selected),$&&(c.disableScrollAround($.ul),_=function(t){function e(t){t.preventDefault()}return t.on("wheel",e),t.on("touchmove",e),function(){t.off("wheel",e),t.off("touchmove",e)}}(e.element($.wrap)))):t&&!n&&(c.enableScrolling(),_&&(_(),_=null))},y=!0,Object.defineProperty(w,"hidden",{get:function(){return y},set:function(t){var e=y;y=t,b(t,e)}}),w.scope=a,w.parent=a.$parent,w.itemName=E[0],w.matches=[],w.loading=!1,w.hidden=!0,w.index=null,w.id=c.nextUid(),w.isDisabled=null,w.isRequired=null,w.isReadonly=null,w.hasNotFound=!1,w.keydown=function(t){switch(t.keyCode){case l.KEY_CODE.DOWN_ARROW:if(w.loading)return;t.stopPropagation(),t.preventDefault(),w.index=Math.min(w.index+1,w.matches.length-1),tt(),Z(!1,R.Selected);break;case l.KEY_CODE.UP_ARROW:if(w.loading)return;t.stopPropagation(),t.preventDefault(),w.index=w.index<0?w.matches.length-1:Math.max(0,w.index-1),tt(),Z(!1,R.Selected);break;case l.KEY_CODE.TAB:if(N(),w.hidden||w.loading||w.index<0||w.matches.length<1)return;X(w.index);break;case l.KEY_CODE.ENTER:if(w.hidden||w.loading||w.index<0||w.matches.length<1)return;if(Y())return;t.stopPropagation(),t.preventDefault(),X(w.index);break;case l.KEY_CODE.ESCAPE:if(t.preventDefault(),!(z("blur")||!w.hidden||w.loading||z("clear")&&a.searchText))return;t.stopPropagation(),Q(),a.searchText&&z("clear")&&J(),w.hidden=!0,z("blur")&&(x=!1,S=!1,$.input.blur())}},w.blur=function(t){S=!1,x||(w.hidden=W(),ot("ngBlur",{$event:t}))},w.focus=function(t){S=!0,V()&&G()&&it(),w.hidden=W(),ot("ngFocus",{$event:t})},w.clear=function(){Q(),J()},w.select=X,w.listEnter=function(){x=!0},w.listLeave=N,w.mouseUp=function(){$.input.focus()},w.getCurrentDisplayValue=K,w.registerSelectedItemWatcher=function(t){-1==k.indexOf(t)&&k.push(t)},w.unregisterSelectedItemWatcher=function(t){var e=k.indexOf(t);-1!=e&&k.splice(e,1)},w.notFoundVisible=nt,w.loadingIsVisible=function(){return w.loading&&!Y()},w.positionDropdown=L;var D,R={Count:1,Selected:2};return c.initOptionalProperties(a,p,{searchText:"",selectedItem:null,clearButton:!1}),u(s),D=parseInt(a.delay,10)||0,p.$observe("disabled",(function(t){w.isDisabled=c.parseAttributeBoolean(t,!1)})),p.$observe("required",(function(t){w.isRequired=c.parseAttributeBoolean(t,!1)})),p.$observe("readonly",(function(t){w.isReadonly=c.parseAttributeBoolean(t,!1)})),a.$watch("searchText",D?c.debounce(B,D):B),a.$watch("selectedItem",(function(t,n){O(),t?H(t).then((function(e){a.searchText=e,function(t,e){k.forEach((function(n){n(t,e)}))}(t,n)})):n&&a.searchText&&H(n).then((function(t){e.isString(a.searchText)&&t.toString().toLowerCase()===a.searchText.toLowerCase()&&(a.searchText="")})),t!==n&&e.isFunction(a.itemChange)&&a.itemChange(j(a.selectedItem))})),e.element(h).on("resize",F),a.$on("$destroy",(function(){w.hidden||c.enableScrolling(),e.element(h).off("resize",F),$&&e.forEach(["ul","scroller","scrollContainer","input"],(function(t){$.$[t].remove()}))})),void c.nextTick((function(){var t;t=function(){var t,n;for(t=s;t.length&&(n=t.attr("md-autocomplete-snap"),!e.isDefined(n));t=t.parent());if(t.length)return{snap:t[0],wrap:"width"===n.toLowerCase()?t[0]:s.find("md-autocomplete-wrap")[0]};var i=s.find("md-autocomplete-wrap")[0];return{snap:i,wrap:i}}(),($={main:s[0],scrollContainer:s[0].querySelector(".md-virtual-repeat-container"),scroller:s[0].querySelector(".md-virtual-repeat-scroller"),ul:s.find("ul")[0],input:s.find("input")[0],wrap:t.wrap,snap:t.snap,root:document.body}).li=$.ul.getElementsByTagName("li"),$.$=function(t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e.element(t[i]));return n}($),M=$.$.input.controller("ngModel"),$.$.root.length&&(u($.$.scrollContainer),$.$.scrollContainer.detach(),$.$.root.append($.$.scrollContainer),d.pin&&d.pin($.$.scrollContainer,f)),a.autofocus&&s.on("focus",I)}));function O(){a.requireMatch&&M&&M.$setValidity("md-require-match",!!a.selectedItem||!a.searchText)}function L(){if(!$)return c.nextTick(L,!1,a);var e,n=(a.dropdownItems||i)*t,l=$.wrap.getBoundingClientRect(),u=$.snap.getBoundingClientRect(),h=$.root.getBoundingClientRect(),d=u.bottom-h.top,f=h.bottom-u.top,m=l.left-h.left,g=l.width,v=function(){var t=0,e=s.find("md-input-container");if(e.length){var n=e.find("input");t=e.prop("offsetHeight"),t-=n.prop("offsetTop"),t-=n.prop("offsetHeight"),t+=e.prop("offsetTop")}return t}(),b=a.dropdownPosition;if(b||(b=d>f&&h.height-d-r<n?"top":"bottom"),p.mdFloatingLabel&&(m+=o,g-=2*o),e={left:m+"px",minWidth:g+"px",maxWidth:Math.max(l.right-h.left,h.right-l.left)-r+"px"},"top"===b)e.top="auto",e.bottom=f+"px",e.maxHeight=Math.min(n,l.top-h.top-r)+"px";else{var y=h.bottom-l.bottom-r+c.getViewportTop();e.top=d-v+"px",e.bottom="auto",e.maxHeight=Math.min(n,y)+"px"}$.$.scrollContainer.css(e),c.nextTick((function(){var t=$.scrollContainer.getBoundingClientRect(),e={};t.right>h.right-r&&(e.left=l.right-t.width+"px"),$.$.scrollContainer.css(e)}),!1)}function I(){$.input.focus()}function N(){S||w.hidden||$.input.focus(),x=!1,w.hidden=W()}function B(t,n){w.index=a.autoselect?0:-1,t!==n&&(O(),H(a.selectedItem).then((function(i){t!==i&&(a.selectedItem=null,t!==n&&e.isFunction(a.textChange)&&a.textChange(),G()?it():(w.matches=[],U(!1),Z(!1,R.Count)))})))}function P(){return e.isNumber(a.minLength)?a.minLength:1}function H(t){return m.when(function(t){return t&&a.itemText?a.itemText(j(t)):null}(t)||t).then((function(t){return t&&!e.isString(t)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),t}))}function j(t){if(!t)return n;var e={};return w.itemName&&(e[w.itemName]=t),e}function U(t){w.loading!=t&&(w.loading=t),w.hidden=W()}function W(){return!V()||!(G()&&q()||nt())}function V(){return!(w.loading&&!q()||Y()||!S)}function z(t){return!a.escapeOptions||-1!==a.escapeOptions.toLowerCase().indexOf(t)}function q(){return!!w.matches.length}function Y(){return!!w.scope.selectedItem}function K(){return H(w.matches[w.index])}function G(){return(a.searchText||"").length>=P()}function X(t){c.nextTick((function(){H(w.matches[t]).then((function(t){var e=$.$.input.controller("ngModel");e.$setViewValue(t),e.$render()})).finally((function(){a.selectedItem=w.matches[t],U(!1)}))}),!1)}function Q(){w.index=0,w.matches=[]}function J(){U(!0),a.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),$.input.dispatchEvent(t),$.input.blur(),a.searchText="",$.input.focus()}function Z(t,e){var n=t?"polite":"assertive",i=[];e&R.Selected&&-1!==w.index&&i.push(K()),e&R.Count&&i.push(m.resolve(function(){switch(w.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+w.matches.length+" matches available."}}())),m.all(i).then((function(t){v.announce(t.join(" "),n)}))}function tt(){if($.li[0]){var t=$.li[0].offsetHeight,e=t*w.index,n=e+t,i=$.scroller.clientHeight,r=$.scroller.scrollTop;e<r?et(e):n>r+i&&et(n-i)}}function et(t){$.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(t)}function nt(){var t=(w.scope.searchText||"").length;return w.hasNotFound&&!q()&&(!w.loading||0!==T)&&t>=P()&&(S||x)&&!Y()}function it(){var t=a.searchText||"",n=t.toLowerCase();!a.noCache&&A[n]?rt(A[n]):function(t){var n=a.$parent.$eval(C),i=t.toLowerCase(),r=e.isArray(n),o=!!n.then;function s(e){A[i]=e,(t||"")===(a.searchText||"")&&rt(e)}r?s(n):o&&function(t){t&&(t=m.when(t),T++,U(!0),c.nextTick((function(){t.then(s).finally((function(){0==--T&&U(!1)}))}),!0,a))}(n)}(t),w.hidden=W()}function rt(t){var e,n,i;w.matches=t,w.hidden=W(),w.loading&&U(!1),a.selectOnMatch&&(e=a.searchText,i=(n=w.matches)[0],1===n.length&&H(i).then((function(t){var n=e==t;a.matchInsensitive&&!n&&(n=e.toLowerCase()==t.toLowerCase()),n&&X(0)}))),L(),Z(!0,R.Count)}function ot(t,e){p[t]&&a.$parent.$eval(p[t],e||{})}}}(),function(){function t(t){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(t,n){var i=t.find("input");return["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"].forEach((function(t){var e=n[n.$normalize(t)];null!==e&&i.attr(t,e)})),function(t,n,i,r){r.hasNotFound=!!n.attr("md-has-not-found"),e.isDefined(i.mdClearButton)||t.floatingLabel||(t.clearButton=!0)}},template:function(e,n){var i,r,o=(r=(i=e.find("md-not-found").detach()).length?i.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+r+"</li>":"",a=function(){var t=e.find("md-item-template").detach(),n=t.length?t.html():e.html();return t.length||e.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}(),s=e.html(),c=n.tabindex;return o&&e.attr("md-has-not-found",!0),e.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+(n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=c?'tabindex="'+c+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+s+"</div>            </md-input-container>":'            <input type="search"                '+(null!=c?'tabindex="'+c+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>')+'          <button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+t.mdClose+'"></md-icon></button>          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+a+"                  </li>"+o+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}t.$inject=["$$mdSvgRegistry"],e.module("material.components.autocomplete").directive("mdAutocomplete",t)}(),function(){function t(t,e){return{restrict:"AE",compile:function(t,n,i){return function(t,n,r){var o,a,s=t.$mdAutocompleteCtrl,c=s.parent.$new(),l=s.itemName;function u(n,i){c[i]=t[n],t.$watch(n,(function(t){e.nextTick((function(){c[i]=t}))}))}u("$index","$index"),u("item",l),o=!1,a=!1,t.$watch((function(){a||o||(o=!0,t.$$postDigest((function(){a||c.$digest(),o=a=!1})))})),c.$watch((function(){a=!0})),i(c,(function(t){n.after(t)}))}},terminal:!0,transclude:"element"}}t.$inject=["$compile","$mdUtil"],e.module("material.components.autocomplete").directive("mdAutocompleteParentScope",t)}(),function(){function t(t,e,n){this.$scope=t,this.$element=e,this.$attrs=n,this.regex=null}t.$inject=["$scope","$element","$attrs"],e.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.prototype.init=function(t,e){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:t(n),contentText:e(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},t.prototype.onRender=function(t,e){var n=t.contentText;null!==this.regex&&t.term===e.term||(this.regex=this.createRegex(t.term,this.flags)),t.term?this.applyRegex(n):this.$element.text(n)},t.prototype.applyRegex=function(t){var n=this.resolveTokens(t);this.$element.empty(),n.forEach(function(t){if(t.isMatch){var n=e.element('<span class="highlight">').text(t.text);this.$element.append(n)}else this.$element.append(document.createTextNode(t))}.bind(this))},t.prototype.resolveTokens=function(t){var e=[],n=0;return t.replace(this.regex,(function(t,r){i(n,r),e.push({text:t,isMatch:!0}),n=r+t.length})),i(n),e;function i(n,i){var r=t.slice(n,i);r&&e.push(r)}},t.prototype.createRegex=function(t,e){var n="",i="",r=this.sanitizeRegex(t);return e.indexOf("^")>=0&&(n="^"),e.indexOf("$")>=0&&(i="$"),new RegExp(n+r+i,e.replace(/[$\^]/g,""))},t.prototype.sanitizeRegex=function(t){return t&&t.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function t(t,e){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var r=e(i.mdHighlightText),o=t(n.html());return function(t,e,n,i){i.init(r,o)}}}}t.$inject=["$interpolate","$parse"],e.module("material.components.autocomplete").directive("mdHighlightText",t)}(),function(){function i(t,e,i,r,o){this.$scope=t,this.$element=e,this.$mdConstant=i,this.$timeout=r,this.$mdUtil=o,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}i.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],e.module("material.components.chips").controller("MdChipCtrl",i),i.prototype.init=function(t){this.parentController=t,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},i.prototype.getChipContent=function(){var t=this.$element[0].getElementsByClassName("md-chip-content");return e.element(t[0])},i.prototype.getContentElement=function(){return e.element(this.getChipContent().children()[0])},i.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},i.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var t=this.getChipIndex();this.getContentElement().text()?(this.parentController.updateChipContents(t,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===t&&this.parentController.focusChip(t)}.bind(this))):this.parentController.removeChipAndFocusInput(t)}},i.prototype.selectNodeContents=function(e){var n,i;document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(e),n.select()):t.getSelection&&(i=t.getSelection(),(n=document.createRange()).selectNodeContents(e),i.removeAllRanges(),i.addRange(n))},i.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},i.prototype.chipKeyDown=function(t){this.isEditting||t.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&t.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&t.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(t.preventDefault(),this.goOutOfEditMode()):(t.preventDefault(),this.goInEditMode())},i.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){n.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],e.module("material.components.chips").directive("mdChip",n);var t='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';function n(n,i,r,o){var a=i.processTemplate(t);return{restrict:"E",require:["^?mdChips","mdChip"],link:function(t,i,s,c){var l=c.shift(),u=c.shift(),h=e.element(i[0].querySelector(".md-chip-content"));n(i),l&&(u.init(l),h.append(r(a)(t)),h.on("blur",(function(){l.resetSelectedChip(),l.$scope.$applyAsync()}))),o((function(){l&&l.shouldFocusLastChip&&l.focusLastChipThenInput()}))},controller:"MdChipCtrl"}}}(),function(){function t(t){return{restrict:"A",require:"^mdChips",scope:!1,link:function(e,n,i,r){n.on("click",(function(t){e.$apply((function(){r.removeChip(e.$$replacedScope.$index)}))})),t((function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")}))}}}t.$inject=["$timeout"],e.module("material.components.chips").directive("mdChipRemove",t)}(),function(){function t(t){return{restrict:"EA",terminal:!0,link:function(e,n,i){var r=e.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=e,o.$chip=e.$chip,o.$index=e.$index,o.$mdChipsCtrl=r;var a=r.$scope.$eval(i.mdChipTransclude);n.html(a),t(n.contents())(o)},scope:!1}}t.$inject=["$compile"],e.module("material.components.chips").directive("mdChipTransclude",t)}(),function(){n.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var t=300;function n(e,n,i,r,o,a,s){this.$timeout=a,this.$mdConstant=i,this.$scope=e,this.parent=e.$parent,this.$mdUtil=s,this.$log=r,this.$element=o,this.$attrs=n,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(n.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(n.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=t,this.init()}e.module("material.components.chips").controller("MdChipsCtrl",n),n.prototype.init=function(){var e=this;e.wrapperId="_md-chips-wrapper-"+e.$mdUtil.nextUid(),e.$scope.$watchCollection("$mdChipsCtrl.items",(function(){e.setupInputAria(),e.setupWrapperAria()})),e.$attrs.$observe("mdChipAppendDelay",(function(n){e.chipAppendDelay=parseInt(n)||t}))},n.prototype.setupInputAria=function(){var t=this.$element.find("input");t&&(t.attr("role","textbox"),t.attr("aria-multiline",!0))},n.prototype.setupWrapperAria=function(){var t=this,e=this.$element.find("md-chips-wrap");this.items&&this.items.length?(e.attr("role","listbox"),this.contentIds=this.items.map((function(){return t.wrapperId+"-chip-"+t.$mdUtil.nextUid()})),e.attr("aria-owns",this.contentIds.join(" "))):(e.removeAttr("role"),e.removeAttr("aria-owns"))},n.prototype.inputKeydown=function(t){var e=this.getChipBuffer();if(!(this.autocompleteCtrl&&t.isDefaultPrevented&&t.isDefaultPrevented())){if(t.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(t.target))return;return t.preventDefault(),t.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(t.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!e)return;if(t.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(e.trim()),this.resetChipBuffer(),!1}}},n.prototype.getCursorPosition=function(t){try{if(t.selectionStart===t.selectionEnd)return t.selectionStart}catch(e){if(!t.value)return 0}},n.prototype.updateChipContents=function(t,e){t>=0&&t<this.items.length&&(this.items[t]=e,this.ngModelCtrl.$setDirty())},n.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},n.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!e.isDefined(this.removable)||this.removable)},n.prototype.chipKeydown=function(t){if(!this.getChipBuffer()&&!this.isEditingChip())switch(t.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(t.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:t.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:t.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;t.preventDefault(),this.onFocus()}},n.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},n.prototype.removeAndSelectAdjacentChip=function(t){var e=this,n=e.getAdjacentChipIndex(t);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+t+'"]'),e.removeChip(t),e.$timeout((function(){e.$timeout((function(){e.selectAndFocusChipSafe(n)}))}))},n.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},n.prototype.getAdjacentChipIndex=function(t){var e=this.items.length-1;return 0==e?-1:t==e?t-1:t},n.prototype.appendChip=function(t){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:t});e.isDefined(n)&&(t=n)}if(!(e.isObject(t)&&this.items.some((function(n){return e.equals(t,n)}))||null==t||this.items.indexOf(t)+1)){var i=this.items.push(t)-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:t,$index:i})}},n.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},n.prototype.useOnAddExpression=function(){this.useOnAdd=!0},n.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},n.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},n.prototype.getChipBuffer=function(){var t=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return e.isString(t)?t:""},n.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},n.prototype.hasMaxChipsReached=function(){return e.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},n.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},n.prototype.removeChip=function(t){var e=this.items.splice(t,1);this.ngModelCtrl.$setDirty(),this.validateModel(),e&&e.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:e[0],$index:t})},n.prototype.removeChipAndFocusInput=function(t){this.removeChip(t),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},n.prototype.selectAndFocusChipSafe=function(t){if(!this.items.length||-1===t)return this.focusInput();if(t>=this.items.length){if(!this.readonly)return this.onFocus();t=0}t=Math.max(t,0),t=Math.min(t,this.items.length-1),this.selectChip(t),this.focusChip(t)},n.prototype.focusLastChipThenInput=function(){var t=this;t.shouldFocusLastChip=!1,t.focusChip(this.items.length-1),t.$timeout((function(){t.focusInput()}),t.chipAppendDelay)},n.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},n.prototype.selectChip=function(t){t>=-1&&t<=this.items.length?(this.selectedChip=t,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[t]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},n.prototype.selectAndFocusChip=function(t){this.selectChip(t),-1!=t&&this.focusChip(t)},n.prototype.focusChip=function(t){var e=this.$element[0].querySelector('md-chip[index="'+t+'"] .md-chip-content');this.ariaTabIndex=t,e.focus()},n.prototype.configureNgModel=function(t){this.ngModelCtrl=t;var e=this;t.$render=function(){e.items=e.ngModelCtrl.$viewValue}},n.prototype.onFocus=function(){var t=this.$element[0].querySelector("input");t&&t.focus(),this.resetSelectedChip()},n.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},n.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},n.prototype.configureUserInput=function(t){this.userInputElement=t;var n=t.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this,o=function(t,n){i.$evalAsync(e.bind(r,n,t))};t.attr({tabindex:0}).on("keydown",(function(t){o(t,r.inputKeydown)})).on("focus",(function(t){o(t,r.onInputFocus)})).on("blur",(function(t){o(t,r.onInputBlur)}))},n.prototype.configureAutocomplete=function(t){t&&(this.autocompleteCtrl=t,t.registerSelectedItemWatcher(e.bind(this,(function(t){if(t){if(this.hasMaxChipsReached())return;this.appendChip(t),this.resetChipBuffer()}}))),this.$element.find("input").on("focus",e.bind(this,this.onInputFocus)).on("blur",e.bind(this,this.onInputBlur)))},n.prototype.shouldAddOnBlur=function(){this.validateModel();var t=this.getChipBuffer().trim(),e=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(e=e&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&t&&e&&!n},n.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},n.prototype.contentIdFor=function(t){return this.contentIds[t]}}(),function(){o.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],e.module("material.components.chips").directive("mdChips",o);var t='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',n='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',i="      <span>{{$chip}}</span>",r='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';function o(e,o,a,s,c,l){var u={chips:o.processTemplate(t),input:o.processTemplate(n),default:o.processTemplate(i),remove:o.processTemplate(r)};return{template:function(t,e){return e.$mdUserTemplate=t.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:function(t,n){var i=n.$mdUserTemplate;n.$mdUserTemplate=null;var r=m("md-chips>md-chip-template"),h=m(o.prefixer().buildList("md-chip-remove").map((function(t){return"md-chips>*["+t+"]"})).join(","))||u.remove,d=r||u.default,f=m("md-chips>md-autocomplete")||m("md-chips>input")||u.input,p=i.find("md-chip");function m(t){if(n.ngModel){var e=i[0].querySelector(t);return e&&e.outerHTML}}return i[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(t,i,s,m){o.initOptionalProperties(t,n),e(i);var g=m[0];if(r&&(g.enableChipEdit=!1),g.chipContentsTemplate=d,g.chipRemoveTemplate=h,g.chipInputTemplate=f,g.mdCloseIcon=l.mdClose,i.attr({tabindex:-1}).on("focus",(function(){g.onFocus()})),n.ngModel&&(g.configureNgModel(i.controller("ngModel")),s.mdTransformChip&&g.useTransformChipExpression(),s.mdOnAppend&&g.useOnAppendExpression(),s.mdOnAdd&&g.useOnAddExpression(),s.mdOnRemove&&g.useOnRemoveExpression(),s.mdOnSelect&&g.useOnSelectExpression(),f!=u.input&&t.$watch("$mdChipsCtrl.readonly",(function(t){t||o.nextTick((function(){if(0===f.indexOf("<md-autocomplete")){var t=i.find("md-autocomplete");g.configureAutocomplete(t.controller("mdAutocomplete"))}g.configureUserInput(i.find("input"))}))})),o.nextTick((function(){var t=i.find("input");t&&t.toggleClass("md-input",!0)}))),p.length>0){var v=a(p.clone())(t.$parent);c((function(){i.find("md-chips-wrap").prepend(v)}))}}},scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}}(),function(){function t(){this.selectedItem=null,this.searchText=""}e.module("material.components.chips").controller("MdContactChipsCtrl",t),t.prototype.queryContact=function(t){return this.contactQuery({$query:t})},t.prototype.itemName=function(t){return t[this.contactName]}}(),function(){n.$inject=["$mdTheming","$mdUtil"],e.module("material.components.chips").directive("mdContactChips",n);var t='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function n(e,n){return{template:function(e,n){return t},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:function(t,i){return function(t,r,o,a){var s=a;n.initOptionalProperties(t,i),e(r),r.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",(function(t){s.chipAppendDelay=t}))}},scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}}(),function(){n.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendar",(function(){return{template:function(t,e){return'<div ng-switch="calendarCtrl.currentView" '+(e.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"')+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"calendarCtrl",bindToController:!0,link:function(t,e,n,i){var r=i[0];i[1].configureNgModel(r)}}}));var t=0;function n(n,i,r,o,a,s,c,l,u){s(n),this.$element=n,this.$scope=i,this.dateUtil=r,this.$mdUtil=o,this.keyCode=a.KEY_CODE,this.$$rAF=c,this.$mdDateLocale=u,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=t++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,l.tabindex||n.attr("tabindex","-1");var h,d=e.bind(this,this.handleKeyEvent);(h=n.parent().hasClass("md-datepicker-calendar")?e.element(document.body):n).on("keydown",d),i.$on("$destroy",(function(){h.off("keydown",d)})),1===e.version.major&&e.version.minor<=4&&this.$onInit()}n.prototype.$onInit=function(){this.currentView=this._currentView||"month";var t=this.$mdDateLocale;this.minDate&&this.minDate>t.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=t.firstRenderableDate,this.maxDate&&this.maxDate<t.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=t.lastRenderableDate},n.prototype.configureNgModel=function(t){var e=this;e.ngModelCtrl=t,e.$mdUtil.nextTick((function(){e.isInitialized=!0})),t.$render=function(){var t=this.$viewValue;e.$scope.$broadcast("md-calendar-parent-changed",t),e.selectedDate||(e.selectedDate=t),e.displayDate||(e.displayDate=e.selectedDate||e.today)}},n.prototype.setNgModelValue=function(t){var e=this.dateUtil.createDateAtMidnight(t);return this.focus(e),this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render(),e},n.prototype.setCurrentView=function(t,n){var i=this;i.$mdUtil.nextTick((function(){i.currentView=t,n&&(i.displayDate=e.isDate(n)?n:new Date(n))}))},n.prototype.focus=function(t){if(this.dateUtil.isValidDate(t)){var e=this.$element[0].querySelector(".md-focus");e&&e.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(t,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=t)}else{var r=this.$element[0].querySelector("[ng-switch]");r&&r.focus()}},n.prototype.getActionFromKeyEvent=function(t){var e=this.keyCode;switch(t.which){case e.ENTER:return"select";case e.RIGHT_ARROW:return"move-right";case e.LEFT_ARROW:return"move-left";case e.DOWN_ARROW:return t.metaKey?"move-page-down":"move-row-down";case e.UP_ARROW:return t.metaKey?"move-page-up":"move-row-up";case e.PAGE_DOWN:return"move-page-down";case e.PAGE_UP:return"move-page-up";case e.HOME:return"start";case e.END:return"end";default:return null}},n.prototype.handleKeyEvent=function(t){var e=this;this.$scope.$apply((function(){if(t.which==e.keyCode.ESCAPE||t.which==e.keyCode.TAB)return e.$scope.$emit("md-calendar-close"),void(t.which==e.keyCode.TAB&&t.preventDefault());var n=e.getActionFromKeyEvent(t);n&&(t.preventDefault(),t.stopPropagation(),e.$scope.$broadcast("md-calendar-parent-action",n))}))},n.prototype.hideVerticalScrollbar=function(t){var e=this,n=t.$element[0],i=n.querySelector(".md-calendar-scroll-mask");function r(){var n=e.width||340,r=e.scrollbarWidth,o=t.calendarScroller;i.style.width=n+"px",o.style.width=n+r+"px",o.style.paddingRight=r+"px"}e.width>0?r():e.$$rAF((function(){var i=t.calendarScroller;e.scrollbarWidth=i.offsetWidth-i.clientWidth,e.width=n.querySelector("table").offsetWidth,r()}))},n.prototype.getDateId=function(t,e){if(!e)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,e,t.getFullYear(),t.getMonth(),t.getDate()].join("-")},n.prototype.updateVirtualRepeat=function(){var t=this.$scope,e=t.$on("$md-resize-enable",(function(){t.$$phase||t.$apply(),e()}))}}(),function(){i.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarMonth",(function(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(n-t)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+t+'"><tr aria-hidden="true" style="height:'+t+'px;"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar","mdCalendarMonth"],controller:i,controllerAs:"monthCtrl",bindToController:!0,link:function(t,e,n,i){var r=i[0];i[1].initialize(r)}}}));var t=265,n=45;function i(t,e,n,i,r,o){this.$element=t,this.$scope=e,this.$animate=n,this.$q=i,this.dateUtil=r,this.dateLocale=o,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var t=r.getTimestampFromNode(this);a.$scope.$apply((function(){a.calendarCtrl.setNgModelValue(t)}))},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",r.getTimestampFromNode(this))}}i.prototype.initialize=function(t){this.items={length:this.dateUtil.getMonthDistance(t.firstRenderableDate,t.lastRenderableDate)+2},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},i.prototype.getSelectedMonthIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getMonthDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},i.prototype.changeSelectedDate=function(t){var e=this.calendarCtrl,n=e.selectedDate;e.selectedDate=t,this.changeDisplayDate(t).then((function(){var i=e.SELECTED_DATE_CLASS,r="month";if(n){var o=document.getElementById(e.getDateId(n,r));o&&(o.classList.remove(i),o.setAttribute("aria-selected","false"))}if(t){var a=document.getElementById(e.getDateId(t,r));a&&(a.classList.add(i),a.setAttribute("aria-selected","true"))}}))},i.prototype.changeDisplayDate=function(t){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(t)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var e=this.animateDateChange(t);this.calendarCtrl.displayDate=t;var n=this;return e.then((function(){n.isMonthTransitionInProgress=!1})),e},i.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var n=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=n*t}return this.$q.when()},i.prototype.buildWeekHeader=function(){for(var t=this.dateLocale.firstDayOfWeek,e=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var r=document.createElement("th");r.textContent=e[(i+t)%7],n.appendChild(r)}this.$element.find("thead").append(n)},i.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",(function(e,n){t.changeSelectedDate(n)})),t.$scope.$on("md-calendar-parent-action",e.bind(this,this.handleKeyEvent))},i.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,i=n.displayDate;if("select"===e)n.setNgModelValue(i);else{var r=null,o=this.dateUtil;switch(e){case"move-right":r=o.incrementDays(i,1);break;case"move-left":r=o.incrementDays(i,-1);break;case"move-page-down":r=o.incrementMonths(i,1);break;case"move-page-up":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementDays(i,7);break;case"move-row-up":r=o.incrementDays(i,-7);break;case"start":r=o.getFirstDateOfMonth(i);break;case"end":r=o.getLastDateOfMonth(i)}r&&(r=this.dateUtil.clampDate(r,n.minDate,n.maxDate),this.changeDisplayDate(r).then((function(){n.focus(r)})))}}}(),function(){function t(t,i){var r=t('<md-icon md-svg-src="'+i.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(t,n,i,o){var a=o[0],s=o[1],c=o[2];c.calendarCtrl=a,c.monthCtrl=s,c.arrowIcon=r.cloneNode(!0),t.$watch((function(){return c.offset}),(function(t){e.isNumber(t)&&c.generateContent()}))}}}function n(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarMonthBody",t),n.prototype.generateContent=function(){var t=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(t){var e=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),t){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(t)),i.id=n.getDateId(t,"month"),i.setAttribute("data-timestamp",t.getTime()),this.dateUtil.isSameDay(t,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(t,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[t.getDate()];if(this.isDateEnabled(t)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=r,i.appendChild(o),i.addEventListener("click",e.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(t,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=r}return i},n.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!e.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(t))},n.prototype.buildDateRow=function(t){var e=document.createElement("tr");return e.setAttribute("role","row"),e.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(t)),e},n.prototype.buildCalendarForMonth=function(t){var e=this.dateUtil.isValidDate(t)?t:new Date,n=this.dateUtil.getFirstDateOfMonth(e),i=this.getLocaleDay_(n),r=this.dateUtil.getNumberOfDaysInMonth(e),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var c=this.offset===this.monthCtrl.items.length-1,l=0,u=document.createElement("td"),h=document.createElement("span");if(h.textContent=this.dateLocale.monthHeaderFormatter(e),u.appendChild(h),u.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?u.classList.add("md-calendar-month-label-disabled"):(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(e)),u.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){u.setAttribute("colspan","7");var d=this.buildDateRow();if(d.appendChild(u),o.insertBefore(d,s),c)return o}else l=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var f=l;f<i;f++)s.appendChild(this.buildDateCell());for(var p=i,m=n,g=1;g<=r;g++){if(7===p){if(c)return o;p=0,a++,s=this.buildDateRow(a),o.appendChild(s)}m.setDate(g);var v=this.buildDateCell(m);s.appendChild(v),p++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var b=this.buildDateRow(),y=0;y<7;y++)b.appendChild(this.buildDateCell());o.appendChild(b)}return o},n.prototype.getLocaleDay_=function(t){return(t.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}(),function(){n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],e.module("material.components.datepicker").directive("mdCalendarYear",(function(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+t+'"><tr aria-hidden="true" style="height:'+t+'px;"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(t,e,n,i){var r=i[0];i[1].initialize(r)}}}));var t=88;function n(t,e,n,i,r){this.$element=t,this.$scope=e,this.$animate=n,this.$q=i,this.dateUtil=r,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var o=this;this.cellClickHandler=function(){o.calendarCtrl.setCurrentView("month",r.getTimestampFromNode(this))}}n.prototype.initialize=function(t){this.items={length:this.dateUtil.getYearDistance(t.firstRenderableDate,t.lastRenderableDate)+1},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},n.prototype.getFocusedYearIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getYearDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},n.prototype.changeDate=function(t){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(t)&&!this.isMonthTransitionInProgress){var e=this,n=this.animateDateChange(t);return e.isMonthTransitionInProgress=!0,e.calendarCtrl.displayDate=t,n.then((function(){e.isMonthTransitionInProgress=!1}))}},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var n=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=n*t}return this.$q.when()},n.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,i=n.displayDate;if("select"===e)this.changeDate(i).then((function(){n.setCurrentView("month",i),n.focus(i)}));else{var r=null,o=this.dateUtil;switch(e){case"move-right":r=o.incrementMonths(i,1);break;case"move-left":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementMonths(i,6);break;case"move-row-up":r=o.incrementMonths(i,-6)}if(r){var a=n.minDate?o.getFirstDateOfMonth(n.minDate):null,s=n.maxDate?o.getFirstDateOfMonth(n.maxDate):null;r=o.getFirstDateOfMonth(this.dateUtil.clampDate(r,a,s)),this.changeDate(r).then((function(){n.focus(r)}))}}},n.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",(function(e,n){t.changeDate(n)})),t.$scope.$on("md-calendar-parent-action",e.bind(t,t.handleKeyEvent))}}(),function(){function t(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$element","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarYearBody",(function(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:t,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(t,n,i,r){var o=r[0],a=r[1],s=r[2];s.calendarCtrl=o,s.yearCtrl=a,t.$watch((function(){return s.offset}),(function(t){e.isNumber(t)&&s.generateContent()}))}}})),t.prototype.generateContent=function(){var t=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},t.prototype.buildMonthCell=function(t,e){var n=this.calendarCtrl,i=this.yearCtrl,r=this.buildBlankCell(),o=new Date(t,e,1);r.setAttribute("aria-label",this.dateLocale.monthFormatter(o)),r.id=n.getDateId(o,"year"),r.setAttribute("data-timestamp",o.getTime()),this.dateUtil.isSameMonthAndYear(o,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(o,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[e];if(this.dateUtil.isMonthWithinRange(o,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,r.appendChild(s),r.addEventListener("click",i.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(o,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=a;return r},t.prototype.buildBlankCell=function(){var t=document.createElement("td");return t.tabIndex=-1,t.classList.add("md-calendar-date"),t.setAttribute("role","gridcell"),t.setAttribute("tabindex","-1"),t},t.prototype.buildCalendarForYear=function(t){var e,n=t.getFullYear(),i=document.createDocumentFragment(),r=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,r.appendChild(o),e=0;e<6;e++)r.appendChild(this.buildMonthCell(n,e));i.appendChild(r);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),e=6;e<12;e++)a.appendChild(this.buildMonthCell(n,e));return i.appendChild(a),i}}(),e.module("material.components.datepicker").config(["$provide",function(t){function e(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}e.prototype.$get=function(t,e){for(var n=t.DATETIME_FORMATS.SHORTDAY.map((function(t){return t.substring(0,1)})),i=Array(32),r=1;r<=31;r++)i[r]=r;var o=new Date(1880,0,1),a=new Date(o.getFullYear()+250,0,1),s={months:this.months||t.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||t.DATETIME_FORMATS.SHORTMONTH,days:this.days||t.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||i,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||function(t,n){if(!t)return"";var i=t.toLocaleTimeString(),r=t;return 0!==t.getHours()||-1===i.indexOf("11:")&&-1===i.indexOf("23:")||(r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1,0,0)),e("date")(r,"M/d/yyyy",n)},parseDate:this.parseDate||function(t){return new Date(t)},isDateComplete:this.isDateComplete||function(t){return t=t.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(t)},monthHeaderFormatter:this.monthHeaderFormatter||function(t){return s.shortMonths[t.getMonth()]+" "+t.getFullYear()},monthFormatter:this.monthFormatter||function(t){return s.months[t.getMonth()]+" "+t.getFullYear()},weekNumberFormatter:this.weekNumberFormatter||function(t){return"Week "+t},longDateFormatter:this.longDateFormatter||function(t){return[s.days[t.getDay()],s.months[t.getMonth()],s.dates[t.getDate()],t.getFullYear()].join(" ")},msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||o,lastRenderableDate:this.lastRenderableDate||a};return s},e.prototype.$get.$inject=["$locale","$filter"],t.provider("$mdDateLocale",new e)}]),e.module("material.components.datepicker").factory("$$mdDateUtil",(function(){return{getFirstDateOfMonth:t,getNumberOfDaysInMonth:n,getDateInNextMonth:i,getDateInPreviousMonth:r,isInNextMonth:function(t,e){return o(i(t),e)},isInPreviousMonth:function(t,e){return o(e,r(t))},getDateMidpoint:function(t,e){return l((t.getTime()+e.getTime())/2)},isSameMonthAndYear:o,getWeekOfMonth:function(e){var n=t(e);return Math.floor((n.getDay()+e.getDate()-1)/7)},incrementDays:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},incrementMonths:a,getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),n(t))},isSameDay:function(t,e){return t.getDate()==e.getDate()&&o(t,e)},getMonthDistance:function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())},isValidDate:s,setDateTimeToMidnight:c,createDateAtMidnight:l,isDateWithinRange:function(t,e,n){var i=l(t),r=s(e)?l(e):null,o=s(n)?l(n):null;return(!r||r<=i)&&(!o||o>=i)},incrementYears:function(t,e){return a(t,12*e)},getYearDistance:function(t,e){return e.getFullYear()-t.getFullYear()},clampDate:function(t,e,n){var i=t;return e&&t<e&&(i=new Date(e.getTime())),n&&t>n&&(i=new Date(n.getTime())),i},getTimestampFromNode:function(t){if(t&&t.hasAttribute("data-timestamp"))return Number(t.getAttribute("data-timestamp"))},isMonthWithinRange:function(t,e,n){var i=t.getMonth(),r=t.getFullYear();return(!e||e.getFullYear()<r||e.getMonth()<=i)&&(!n||n.getFullYear()>r||n.getMonth()>=i)}};function t(t){return new Date(t.getFullYear(),t.getMonth(),1)}function n(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function i(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function r(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function o(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function a(t,e){var i=new Date(t.getFullYear(),t.getMonth()+e,1),r=n(i);return r<t.getDate()?i.setDate(r):i.setDate(t.getDate()),i}function s(t){return t&&t.getTime&&!isNaN(t.getTime())}function c(t){s(t)&&t.setHours(0,0,0,0)}function l(t){var n;return c(n=e.isUndefined(t)?new Date:new Date(t)),n}})),function(){function n(t,n,i,r){return{template:function(e,n){var i=n.mdHideIcons,r=n.ariaLabel||n.mdPlaceholder,o="all"===i||"calendar"===i?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+t.mdCalendar+'"></md-icon></md-button>',a="";return"all"!==i&&"triangle"!==i&&(a='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',e.addClass(s)),o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+a+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:u,controllerAs:"ctrl",bindToController:!0,link:function(t,s,c,l){var u=l[0],h=l[1],d=l[2],f=l[3],p=n.parseAttributeBoolean(c.mdNoAsterisk);if(h.configureNgModel(u,d,r),d){var m=s[0].querySelector(".md-errors-spacer");m&&s.after(e.element("<div>").append(m)),d.setHasPlaceholder(c.mdPlaceholder),d.input=s,d.element.addClass(o).toggleClass(a,"calendar"!==c.mdHideIcons&&"all"!==c.mdHideIcons),d.label?p||c.$observe("required",(function(t){d.label.toggleClass("md-required",!!t)})):i.expect(s,"aria-label",c.mdPlaceholder),t.$watch(d.isErrorGetter||function(){return u.$invalid&&(u.$touched||f&&f.$submitted)},d.setInvalid)}else if(f)var g=t.$watch((function(){return f.$submitted}),(function(t){t&&(h.updateErrorState(),g())}))}}}u.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],n.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],e.module("material.components.datepicker").directive("mdDatepicker",n);var i="md-datepicker-invalid",r="md-datepicker-open",o="_md-datepicker-floating-label",a="_md-datepicker-has-calendar-icon",s="_md-datepicker-has-triangle-icon",c=360,l=/ipad|iphone|ipod|android/i;function u(n,i,r,o,a,s,c,u,h,d,f){this.$window=o,this.dateUtil=h,this.$mdConstant=a,this.$mdUtil=c,this.$$rAF=d,this.$mdDateLocale=u,this.documentElement=e.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=i[0].querySelector("input"),this.ngInputElement=e.element(this.inputElement),this.inputContainer=i[0].querySelector(".md-datepicker-input-container"),this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=i[0].querySelector(".md-datepicker-button"),this.inputMask=e.element(i[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=i,this.$attrs=r,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(i[0].disabled||e.isString(r.disabled)),this.isCalendarOpen=!1,this.openOnFocus=r.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+c.nextUid(),this.bodyClickHandler=e.bind(this,this.handleBodyClick),this.windowEventName=l.test(navigator.userAgent||navigator.vendor||t.opera)?"orientationchange":"resize",this.windowEventHandler=c.debounce(e.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=e.bind(this,this.handleWindowBlur),this.ngDateFilter=f("date"),this.leftMargin=20,this.topMargin=null,r.tabindex?(this.ngInputElement.attr("tabindex",r.tabindex),r.$set("tabindex",null)):r.$set("tabindex","-1"),r.$set("aria-owns",this.calendarPaneId),s(i),s(e.element(this.calendarPane));var p=this;n.$on("$destroy",(function(){p.detachCalendarPane()})),r.mdIsOpen&&n.$watch("ctrl.isOpen",(function(t){t?p.openCalendarPane({target:p.inputElement}):p.closeCalendarPane()})),1===e.version.major&&e.version.minor<=4&&this.$onInit()}u.prototype.$onInit=function(){this.locale=this.dateLocale?e.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},u.prototype.configureNgModel=function(t,n,i){this.ngModelCtrl=t,this.mdInputContainer=n,this.$attrs.$set("type","date"),i[0].link.pre(this.$scope,{on:e.noop,val:e.noop,0:{}},this.$attrs,[t]);var r=this;r.ngModelCtrl.$formatters.push((function(t){var n=e.isDefined(t)?Date.parse(t):null;if(!isNaN(n)&&e.isNumber(n)&&(t=new Date(n)),t&&!(t instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof t);return r.onExternalChange(t),t})),t.$viewChangeListeners.unshift(e.bind(this,this.updateErrorState));var o=r.$mdUtil.getModelOption(t,"updateOn");o&&this.ngInputElement.on(o,e.bind(this.$element,this.$element.triggerHandler,o))},u.prototype.attachChangeListeners=function(){var t=this;t.$scope.$on("md-calendar-change",(function(e,n){t.setModelValue(n),t.onExternalChange(n),t.closeCalendarPane()})),t.ngInputElement.on("input",e.bind(t,t.resizeInputElement));var n=e.isDefined(this.debounceInterval)?this.debounceInterval:500;t.ngInputElement.on("input",t.$mdUtil.debounce(t.handleInputEvent,n,t))},u.prototype.attachInteractionListeners=function(){var t=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;t.ngInputElement.on("keydown",(function(e){e.altKey&&e.keyCode==i.DOWN_ARROW&&(t.openCalendarPane(e),n.$digest())})),t.openOnFocus&&(t.ngInputElement.on("focus",e.bind(t,t.openCalendarPane)),e.element(t.$window).on("blur",t.windowBlurHandler),n.$on("$destroy",(function(){e.element(t.$window).off("blur",t.windowBlurHandler)}))),n.$on("md-calendar-close",(function(){t.closeCalendarPane()}))},u.prototype.installPropertyInterceptors=function(){var t=this;if(this.$attrs.ngDisabled){var e=this.$scope.$parent;e&&e.$watch(this.$attrs.ngDisabled,(function(e){t.setDisabled(e)}))}Object.defineProperty(this,"placeholder",{get:function(){return t.inputElement.placeholder},set:function(e){t.inputElement.placeholder=e||""}})},u.prototype.setDisabled=function(t){this.isDisabled=t,this.inputElement.disabled=t,this.calendarButton&&(this.calendarButton.disabled=t)},u.prototype.updateErrorState=function(t){var n=t||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var r=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=r)}if(this.dateUtil.isValidDate(this.maxDate)){var o=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=o)}e.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);e.element(this.inputContainer).toggleClass(i,!this.ngModelCtrl.$valid)},u.prototype.clearErrorState=function(){this.inputContainer.classList.remove(i),["mindate","maxdate","filtered","valid"].forEach((function(t){this.ngModelCtrl.$setValidity(t,!0)}),this)},u.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},u.prototype.handleInputEvent=function(){var t=this.inputElement.value,e=t?this.locale.parseDate(t):null;this.dateUtil.setDateTimeToMidnight(e),(""==t||this.dateUtil.isValidDate(e)&&this.locale.isDateComplete(t)&&this.isDateEnabled(e))&&(this.setModelValue(e),this.date=e),this.updateErrorState(e)},u.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.minDate,this.maxDate)&&(!e.isFunction(this.dateFilter)||this.dateFilter(t))},u.prototype.attachCalendarPane=function(){var t=this.calendarPane,n=document.body;t.style.transform="",this.$element.addClass(r),this.mdInputContainer&&this.mdInputContainer.element.addClass(r),e.element(n).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),o=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var a=i.top-o.top-this.topMargin,s=i.left-o.left-this.leftMargin,l=o.top<0&&0==document.body.scrollTop?-o.top:document.body.scrollTop,u=o.left<0&&0==document.body.scrollLeft?-o.left:document.body.scrollLeft,h=l+this.$window.innerHeight,d=u+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),s+c>d){if(d-c>0)s=d-c;else{s=u;var f=this.$window.innerWidth/c;t.style.transform="scale("+f+")"}t.classList.add("md-datepicker-pos-adjusted")}a+368>h&&h-368>l&&(a=h-368,t.classList.add("md-datepicker-pos-adjusted")),t.style.left=s+"px",t.style.top=a+"px",document.body.appendChild(t),this.$$rAF((function(){t.classList.add("md-pane-open")}))},u.prototype.detachCalendarPane=function(){this.$element.removeClass(r),this.mdInputContainer&&this.mdInputContainer.element.removeClass(r),e.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},u.prototype.openCalendarPane=function(e){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=e.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick((function(){n.documentElement.on("click touchstart",n.bodyClickHandler)}),!1),t.addEventListener(this.windowEventName,this.windowEventHandler)}},u.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var e=this;e.detachCalendarPane(),e.ngModelCtrl.$setTouched(),e.evalAttr("ngBlur"),e.documentElement.off("click touchstart",e.bodyClickHandler),t.removeEventListener(e.windowEventName,e.windowEventHandler),e.calendarPaneOpenedFrom.focus(),e.calendarPaneOpenedFrom=null,e.openOnFocus?e.$mdUtil.nextTick(n):n()}function n(){e.isCalendarOpen=e.isOpen=!1}},u.prototype.getCalendarCtrl=function(){return e.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},u.prototype.focusCalendar=function(){var t=this;this.$mdUtil.nextTick((function(){t.getCalendarCtrl().focus()}),!1)},u.prototype.setFocused=function(t){t||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(t?"ngFocus":"ngBlur"),this.isFocused=t},u.prototype.handleBodyClick=function(t){this.isCalendarOpen&&(this.$mdUtil.getClosest(t.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest())},u.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},u.prototype.evalAttr=function(t){this.$attrs[t]&&this.$scope.$parent.$eval(this.$attrs[t])},u.prototype.setModelValue=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(t,"yyyy-MM-dd",e))},u.prototype.onExternalChange=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=t,this.inputElement.value=this.locale.formatDate(t,e),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!t),this.resizeInputElement(),this.updateErrorState()}}(),e.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",function(t,e,n,i){return{restrict:"E",link:function(i,r,o){e(r);var a=o.mdFontIcon,s=t.fontSet(o.mdFontSet);o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&r.addClass("md-font "+o.mdFontIcon),r.addClass(s)),o.$observe("mdFontIcon",u),o.$observe("mdFontSet",u),r[0].getAttribute(o.$attr.mdSvgSrc);var c,l=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");function u(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(r.removeClass(a),r.addClass(o.mdFontIcon),a=o.mdFontIcon);var e=t.fontSet(o.mdFontSet);s!==e&&(r.removeClass(s),r.addClass(e),s=e)}}o.role||(n.expect(r,"role","img"),o.role="img"),"img"!==o.role||o.ariaHidden||n.hasAriaLabel(r)||(o.alt?n.expect(r,"aria-label",o.alt):n.parentHasAriaLabel(r,2)?n.expect(r,"aria-hidden","true"):(c=o.mdFontIcon||o.mdSvgIcon||r.text())?n.expect(r,"aria-label",c):n.expect(r,"aria-hidden","true")),l&&o.$observe(l,(function(e){r.empty(),e&&t(e).then((function(t){r.empty(),r.append(t)}))}))}}}]),function(){o.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],e.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",i);var n={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function i(){}function r(t,e){this.url=t,this.viewBoxSize=e||n.defaultViewBoxSize}function o(n,i,r,o,a,s){var c={},l={},u=/[-\w@:%\+.~#?&//=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&//=]*)?/i,h=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return v.prototype={clone:function(){return this.element.cloneNode(!0)},prepare:function(){var t=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;e.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+t+" "+t,focusable:!1},(function(t,e){this.element.setAttribute(e,t)}),this)}},d.fontSet=function(t){if(e.isUndefined(t)||!t||!t.length)return n.defaultFontSet;var i=t;return e.forEach(n.fontSets,(function(e){e.alias==t&&(i=e.fontSet||i)})),i},d;function d(t){return t=t||"",e.isString(t)||(t=s.getTrustedUrl(t)),c[t]?r.when(function(t){var n=t.clone(),i="_cache"+a.nextUid();return n.id&&(n.id+=i),e.forEach(n.querySelectorAll("[id]"),(function(t){t.id+=i})),n}(c[t])):u.test(t)||h.test(t)?g(t).then(f(t)):(-1==t.indexOf(":")&&(t="$default:"+t),(n[t]?p:m)(t).then(f(t)))}function f(t){return function(i){var r;return c[t]=(r=i,e.isDefined(r.element)&&e.isDefined(r.config)?i:new v(i,n[t])),c[t].clone()}}function p(t){var e=n[t];return g(e.url).then((function(t){return new v(t,e)}))}function m(t){var e=t.substring(0,t.lastIndexOf(":"))||"$default",i=n[e];return i?g(i.url).then((function(e){var n=t.slice(t.lastIndexOf(":")+1),r=e.querySelector("#"+n);return r?new v(r,i):a(t)})):a(t);function a(t){var e="icon "+t+" not found";return o.warn(e),r.reject(e||t)}}function g(n){return h.test(n)?function(n){var i=h.exec(n),o=/base64/i.test(n)?t.atob(i[2]):i[2];return r.when(e.element(o)[0])}(n):function(t){return r((function(n,r){i(t,!0).then((function(i){l[t]||(l[t]=e.element("<div>").append(i)[0].querySelector("svg")),n(l[t])}),(function(t){var n=e.isString(t)?t:t.message||t.data||t.statusText;o.warn(n),r(t)}))}))}(n)}function v(t,n){t&&"svg"!=t.tagName&&(t=e.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t.cloneNode(!0))[0]),t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=n,this.prepare()}}i.prototype={icon:function(t,e,i){return-1==t.indexOf(":")&&(t="$default:"+t),n[t]=new r(e,i),this},iconSet:function(t,e,i){return n[t]=new r(e,i),this},defaultIconSet:function(t,e){var i="$default";return n[i]||(n[i]=new r(t,e)),n[i].viewBoxSize=e||n.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return n.defaultViewBoxSize=t,this},fontSet:function(t,e){return n.fontSets.push({alias:t,fontSet:e||t}),this},defaultFontSet:function(t){return n.defaultFontSet=t||"",this},defaultIconSize:function(t){return n.defaultIconSize=t,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(t,e,i,r,a){return o(n,t,e,i,r,a)}]}}(),function(){function t(t,i,r,o,a,s,c,l,u){var h,d,f=a.prefixer(),p=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(n,i){i=i||{},h=n,(d=r[0].querySelector(f.buildSelector(["ng-click","ng-mouseenter"]))).setAttribute("aria-expanded","false"),this.isInMenuBar=i.isInMenuBar,this.nestedMenus=a.nodesToArray(h[0].querySelectorAll(".md-nested-menu")),h.on("$mdInterimElementRemove",(function(){p.isOpen=!1,a.nextTick((function(){p.onIsOpenChanged(p.isOpen)}))})),a.nextTick((function(){p.onIsOpenChanged(p.isOpen)}));var s="menu_container_"+a.nextUid();h.attr("id",s),e.element(d).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",e.bind(this,(function(){this.disableHoverListener(),t.destroy()}))),h.on("$destroy",(function(){t.destroy()}))};var m,g,v=[];this.enableHoverListener=function(){v.push(c.$on("$mdMenuOpen",(function(t,e){h[0].contains(e[0])&&(p.currentlyOpenMenu=e.controller("mdMenu"),p.isAlreadyOpening=!1,p.currentlyOpenMenu.registerContainerProxy(p.triggerContainerProxy.bind(p)))}))),v.push(c.$on("$mdMenuClose",(function(t,e){h[0].contains(e[0])&&(p.currentlyOpenMenu=n)}))),(g=e.element(a.nodesToArray(h[0].children[0].children))).on("mouseenter",p.handleMenuItemHover),g.on("mouseleave",p.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",p.handleMenuItemHover),g&&g.off("mouseleave",p.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(t){if(!p.isAlreadyOpening){var n=t.target.querySelector("md-menu")||a.getClosest(t.target,"MD-MENU");m=s((function(){if(n&&(n=e.element(n).controller("mdMenu")),p.currentlyOpenMenu&&p.currentlyOpenMenu!=n){var t=p.nestLevel+1;p.currentlyOpenMenu.close(!0,{closeTo:t}),p.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(p.isAlreadyOpening=!!n,n&&n.open())}),n?100:250);var i=t.currentTarget.querySelector(".md-button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){m&&(s.cancel(m),m=n)},this.open=function(e){e&&e.stopPropagation(),e&&e.preventDefault(),p.isOpen||(p.enableHoverListener(),p.isOpen=!0,a.nextTick((function(){p.onIsOpenChanged(p.isOpen)})),(d=d||(e?e.target:r[0])).setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",r),t.show({scope:o,mdMenuCtrl:p,nestLevel:p.nestLevel,element:h,target:d,preserveElement:!0,parent:"body"}).finally((function(){d.setAttribute("aria-expanded","false"),p.disableHoverListener()})))},this.onIsOpenChanged=function(t){t?(h.attr("aria-hidden","false"),r[0].classList.add("md-open"),e.forEach(p.nestedMenus,(function(t){t.classList.remove("md-open")}))):(h.attr("aria-hidden","true"),r[0].classList.remove("md-open")),o.$mdMenuIsOpen=p.isOpen},this.focusMenuContainer=function(){var t=h[0].querySelector(f.buildSelector(["md-menu-focus-target","md-autofocus"]));t||(t=h[0].querySelector(".md-button:not([disabled])")),t.focus()},this.registerContainerProxy=function(t){this.containerProxy=t},this.triggerContainerProxy=function(t){this.containerProxy&&this.containerProxy(t)},this.destroy=function(){return p.isOpen?t.destroy():l.when(!1)},this.close=function(n,i){if(p.isOpen){p.isOpen=!1,a.nextTick((function(){p.onIsOpenChanged(p.isOpen)}));var s=e.extend({},i,{skipFocus:n});if(o.$emit("$mdMenuClose",r,s),t.hide(null,i),!n){var c=p.restoreFocusTo||r.find("button")[0];c instanceof e.element&&(c=c[0]),c&&c.focus()}}},this.positionMode=function(){var t=(i.mdPositionMode||"target").split(" ");return 1==t.length&&t.push(t[0]),{left:t[0],top:t[1]}},this.offsets=function(){var t=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==t.length)return{left:t[0],top:t[1]};if(1==t.length)return{top:t[0],left:t[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=e.bind(this,(function(){return u.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)}))}t.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],e.module("material.components.menu").controller("mdMenuCtrl",t)}(),function(){function t(t){var n="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:function(r){r.addClass("md-menu");var o=r.children()[0],a=r.children()[1],s=t.prefixer();s.hasAttribute(o,"ng-click")||(o=o.querySelector(s.buildSelector(["ng-click","ng-mouseenter"]))||o);var c="MD-BUTTON"===o.nodeName||"BUTTON"===o.nodeName;if(o&&c&&!o.hasAttribute("type")&&o.setAttribute("type","button"),!o)throw Error(n+"Expected the menu to have a trigger element.");if(!a||"MD-MENU-CONTENT"!==a.nodeName)throw Error(n+"Expected the menu to contain a `md-menu-content` element.");o&&o.setAttribute("aria-haspopup","true");var l=r[0].querySelectorAll("md-menu"),u=parseInt(r[0].getAttribute("md-nest-level"),10)||0;return l&&e.forEach(t.nodesToArray(l),(function(t){t.hasAttribute("md-position-mode")||t.setAttribute("md-position-mode","cascade"),t.classList.add("_md-nested-menu"),t.setAttribute("md-nest-level",u+1)})),i}};function i(t,n,i,r){var o=r[0],a=!!r[1],s=e.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),c=n.children()[1];n.addClass("_md"),c.hasAttribute("role")||c.setAttribute("role","menu"),s.append(c),n.on("$destroy",(function(){s.remove()})),n.append(s),s[0].style.display="none",o.init(s,{isInMenuBar:a})}}t.$inject=["$mdUtil"],e.module("material.components.menu").directive("mdMenu",t)}(),function(){function t(t){r.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var i=8;return t("$mdMenu").setDefaults({methods:["target"],options:r});function r(t,r,a,s,c,l,u,h,d,f){var p=t.prefixer(),m=t.dom.animator;return{parent:"body",onShow:function(n,i,o){return function(){if(!o.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");e.extend(o,{alreadyOpen:!1,isRemoved:!1,target:e.element(o.target),parent:e.element(o.parent),menuContentEl:e.element(i[0].querySelector("md-menu-content"))})}(),o.menuContentEl[0]?r.inherit(o.menuContentEl,o.target):f.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",i),o.cleanupResizing=function(){var t,e,n=(t=i,e=o,u.throttle((function(){if(!o.isRemoved){var n=y(t,e);t.css(m.toCss(n))}})));return c.addEventListener("resize",n),c.addEventListener("orientationchange",n),function(){c.removeEventListener("resize",n),c.removeEventListener("orientationchange",n)}}(),o.hideBackdrop=g(n,i,o),(o.parent.append(i),i[0].style.display="",l((function(t){var e=y(i,o);i.removeClass("md-leave"),h(i,{addClass:"md-active",from:m.toCss(e),to:m.toCss({transform:""})}).start().then(t)}))).then((function(r){return o.alreadyOpen=!0,o.cleanupInteraction=function(){if(!o.menuContentEl[0])return e.noop;o.menuContentEl.on("keydown",l),o.menuContentEl[0].addEventListener("click",u,!0);var i=o.menuContentEl[0].querySelector(p.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!i)for(var r=o.menuContentEl[0].children.length,s=0;s<r;s++){var c=o.menuContentEl[0].children[s];if(i=c.querySelector(".md-button:not([disabled])"))break;if(c.firstElementChild&&!c.firstElementChild.disabled){i=c.firstElementChild;break}}return i&&i.focus(),function(){o.menuContentEl.off("keydown",l),o.menuContentEl[0].removeEventListener("click",u,!0)};function l(e){var n;switch(e.keyCode){case a.KEY_CODE.ESCAPE:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:v(e,o.menuContentEl,o,-1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.DOWN_ARROW:v(e,o.menuContentEl,o,1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.LEFT_ARROW:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var i=t.getClosest(e.target,"MD-MENU");i&&i!=o.parent[0]?e.target.click():o.mdMenuCtrl.triggerContainerProxy(e),n=!0}n&&(e.preventDefault(),e.stopImmediatePropagation())}function u(e){var i=e.target;do{if(i==o.menuContentEl[0])return;if((a(i,["ng-click","ng-href","ui-sref"])||"BUTTON"==i.nodeName||"MD-BUTTON"==i.nodeName)&&!a(i,["md-prevent-menu-close"])){var r=t.getClosest(i,"MD-MENU");i.hasAttribute("disabled")||r&&r!=o.parent[0]||n.$apply((function(){o.mdMenuCtrl.close(!0,{closeAll:!0})}));break}}while(i=i.parentNode);function a(t,e){if(!t)return!1;for(var n,i=0;n=e[i];++i)if(p.hasAttribute(t,n))return!0;return!1}}}(),o.cleanupBackdrop=o.backdrop?(o.backdrop.on("click",s),function(){o.backdrop.off("click",s)}):e.noop,i.addClass("md-clickable"),r}));function s(t){t.preventDefault(),t.stopPropagation(),n.$apply((function(){o.mdMenuCtrl.close(!0,{closeAll:!0})}))}},onRemove:function(t,e,n){return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),e.removeClass("md-clickable"),!0===n.$destroy?i():h(e,{addClass:"md-leave"}).start().then(i);function i(){e.removeClass("md-active"),function(t,e){e.preserveElement?o(t).style.display="none":o(t).parentNode===o(e.parent)&&o(e.parent).removeChild(o(t))}(e,n),n.alreadyOpen=!1}},hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0};function g(n,i,r){return r.nestLevel?e.noop:(r.disableParentScroll&&!t.getClosest(r.target,"MD-DIALOG")?r.restoreScroll=t.disableScrollAround(r.element,r.parent):r.disableParentScroll=!1,r.hasBackdrop&&(r.backdrop=t.createBackdrop(n,"md-menu-backdrop md-click-catcher"),d.enter(r.backdrop,s[0].body)),function(){r.backdrop&&r.backdrop.remove(),r.disableParentScroll&&r.restoreScroll()})}function v(e,n,i,r){for(var o,a=t.getClosest(e.target,"MD-MENU-ITEM"),s=t.nodesToArray(n[0].children),c=s.indexOf(a)+r;c>=0&&c<s.length&&!(o=b(s[c].querySelector(".md-button")));c+=r);return o}function b(t){if(t&&-1!=t.getAttribute("tabindex"))return t.focus(),s[0].activeElement==t}function y(e,r){var o,a=e[0],l=e[0].firstElementChild,u=l.getBoundingClientRect(),h=s[0].body.getBoundingClientRect(),d=c.getComputedStyle(l),f=r.target[0].querySelector(p.buildSelector("md-menu-origin"))||r.target[0],m=f.getBoundingClientRect(),g={left:h.left+i,top:Math.max(h.top,0)+i,bottom:Math.max(h.bottom,Math.max(h.top,0)+h.height)-i,right:h.right-i},v={top:0,left:0,right:0,bottom:0},b={top:0,left:0,right:0,bottom:0},y=r.mdMenuCtrl.positionMode();"target"!=y.top&&"target"!=y.left&&"target-right"!=y.left||(o=function(){for(var t=0;t<l.children.length;++t)if("none"!=c.getComputedStyle(l.children[t]).display)return l.children[t]}())&&(v=(o=(o=o.firstElementChild||o).querySelector(p.buildSelector("md-menu-align-target"))||o).getBoundingClientRect(),b={top:parseFloat(a.style.top||0),left:parseFloat(a.style.left||0)});var w={},E="top ";switch(y.top){case"target":w.top=b.top+m.top-v.top;break;case"cascade":w.top=m.top-parseFloat(d.paddingTop)-f.style.top;break;case"bottom":w.top=m.top+m.height;break;default:throw new Error('Invalid target mode "'+y.top+'" specified for md-menu on Y axis.')}var C="rtl"==t.bidi();switch(y.left){case"target":w.left=b.left+m.left-v.left,E+=C?"right":"left";break;case"target-left":w.left=m.left,E+="left";break;case"target-right":w.left=m.right-u.width+(u.right-v.right),E+="right";break;case"cascade":var $=C?m.left-u.width<g.left:m.right+u.width<g.right;w.left=$?m.right-f.style.left:m.left-f.style.left-u.width,E+=$?"left":"right";break;case"right":C?(w.left=m.right-m.width,E+="left"):(w.left=m.right-u.width,E+="right");break;case"left":C?(w.left=m.right-u.width,E+="right"):(w.left=m.left,E+="left");break;default:throw new Error('Invalid target mode "'+y.left+'" specified for md-menu on X axis.')}var A,x=r.mdMenuCtrl.offsets();w.top+=x.top,w.left+=x.left,(A=w).top=Math.max(Math.min(A.top,g.bottom-a.offsetHeight),g.top),A.left=Math.max(Math.min(A.left,g.right-a.offsetWidth),g.left);var k=Math.round(100*Math.min(m.width/a.offsetWidth,1))/100,S=Math.round(100*Math.min(m.height/a.offsetHeight,1))/100;return{top:Math.round(w.top),left:Math.round(w.left),transform:r.alreadyOpen?n:t.supplant("scale({0},{1})",[k,S]),transformOrigin:E}}}function o(t){return t instanceof e.element&&(t=t[0]),t}}t.$inject=["$$interimElementProvider"],e.module("material.components.menu").provider("$mdMenu",t)}(),function(){i.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.module("material.components.menuBar").controller("MenuBarController",i);var t=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function i(n,i,r,o,a,s,c,l){this.$element=r,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=c,this.$document=s,this.$scope=n,this.$rootScope=i,this.$timeout=l;var u=this;e.forEach(t,(function(t){u[t]=e.bind(u,u[t])}))}i.prototype.init=function(){var t=this.$element,e=this.$mdUtil,i=this.$scope,r=this,o=[];t.on("keydown",this.handleKeyDown),this.parentToolbar=e.getClosest(t,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",(function(e,n){-1!=r.getMenus().indexOf(n[0])&&(t[0].classList.add("md-open"),n[0].classList.add("md-open"),r.currentlyOpenMenu=n.controller("mdMenu"),r.currentlyOpenMenu.registerContainerProxy(r.handleKeyDown),r.enableOpenOnHover())}))),o.push(this.$rootScope.$on("$mdMenuClose",(function(i,o,a){var s=r.getMenus();if(-1!=s.indexOf(o[0])&&(t[0].classList.remove("md-open"),o[0].classList.remove("md-open")),t[0].contains(o[0])){for(var c=o[0];c&&-1==s.indexOf(c);)c=e.getClosest(c,"MD-MENU",!0);c&&(a.skipFocus||c.querySelector("button:not([disabled])").focus(),r.currentlyOpenMenu=n,r.disableOpenOnHover(),r.setKeyboardMode(!0))}}))),i.$on("$destroy",(function(){for(r.disableOpenOnHover();o.length;)o.shift()()})),this.setKeyboardMode(!0)},i.prototype.setKeyboardMode=function(t){t?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},i.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var t=this;t.openOnHoverEnabled=!0,t.parentToolbar&&(t.parentToolbar.classList.add("md-has-open-menu"),t.$mdUtil.nextTick((function(){e.element(t.parentToolbar).on("click",t.handleParentClick)}),!1)),e.element(t.getMenus()).on("mouseenter",t.handleMenuHover)}},i.prototype.handleMenuHover=function(t){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(t)},i.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),e.element(this.parentToolbar).off("click",this.handleParentClick)),e.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},i.prototype.scheduleOpenHoveredMenu=function(t){var n=e.element(t.currentTarget).controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(n)},i.prototype.scheduleOpenMenu=function(t){var e=this,i=this.$timeout;t!=e.currentlyOpenMenu&&(i.cancel(e.pendingMenuOpen),e.pendingMenuOpen=i((function(){e.pendingMenuOpen=n,e.currentlyOpenMenu&&e.currentlyOpenMenu.close(!0,{closeAll:!0}),t.open()}),200,!1))},i.prototype.handleKeyDown=function(t){var n,i,r,o=this.$mdConstant.KEY_CODE,a=this.currentlyOpenMenu,s=a&&a.isOpen;switch(this.setKeyboardMode(!0),t.keyCode){case o.DOWN_ARROW:a?a.focusMenuContainer():this.openFocusedMenu(),n=!0;break;case o.UP_ARROW:a&&a.close(),n=!0;break;case o.LEFT_ARROW:i=this.focusMenu(-1),s&&(r=e.element(i).controller("mdMenu"),this.scheduleOpenMenu(r)),n=!0;break;case o.RIGHT_ARROW:i=this.focusMenu(1),s&&(r=e.element(i).controller("mdMenu"),this.scheduleOpenMenu(r)),n=!0}n&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopImmediatePropagation&&t.stopImmediatePropagation())},i.prototype.focusMenu=function(t){var e=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var i=!1;if(-1==n?(n=0,i=!0):(t<0&&n>0||t>0&&n<e.length-t)&&(n+=t,i=!0),i)return e[n].querySelector("button").focus(),e[n]},i.prototype.openFocusedMenu=function(){var t=this.getFocusedMenu();t&&e.element(t).controller("mdMenu").open()},i.prototype.getMenus=function(){var t=this.$element;return this.$mdUtil.nodesToArray(t[0].children).filter((function(t){return"MD-MENU"==t.nodeName}))},i.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},i.prototype.getFocusedMenuIndex=function(){var t=this.$mdUtil.getClosest(this.$document[0].activeElement,"MD-MENU");return t?this.getMenus().indexOf(t):-1},i.prototype.getOpenMenuIndex=function(){for(var t=this.getMenus(),e=0;e<t.length;++e)if(t[e].classList.contains("md-open"))return e;return-1},i.prototype.handleParentClick=function(t){var n=this.querySelector("md-menu.md-open");n&&!n.contains(t.target)&&e.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function t(t,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,r){return r.ariaRole||i[0].setAttribute("role","menubar"),e.forEach(i[0].children,(function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var i=t.nodesToArray(n.querySelectorAll("md-menu-content"));e.forEach(i,(function(t){t.classList.add("md-menu-bar-menu"),t.classList.add("md-dense"),t.hasAttribute("width")||t.setAttribute("width",5)}))}})),i.find("md-menu-item").addClass("md-in-menu-bar"),function(t,e,i,r){e.addClass("_md"),n(t,e),r.init()}}}}t.$inject=["$mdUtil","$mdTheming"],e.module("material.components.menuBar").directive("mdMenuBar",t)}(),e.module("material.components.menuBar").directive("mdMenuDivider",(function(){return{restrict:"E",compile:function(t,e){e.role||t[0].setAttribute("role","separator")}}})),function(){function t(t,e,n){this.$element=e,this.$attrs=n,this.$scope=t}t.$inject=["$scope","$element","$attrs"],e.module("material.components.menuBar").controller("MenuItemController",t),t.prototype.init=function(t){var e=this.$element,n=this.$attrs;this.ngModel=t,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=e[0].children[0],this.buttonEl=e[0].children[1],t&&this.initClickListeners())},t.prototype.clearNgAria=function(){var t=this.$element[0];e.forEach(["role","tabindex","aria-invalid","aria-checked"],(function(e){t.removeAttribute(e)}))},t.prototype.initClickListeners=function(){var t=this,n=this.ngModel,i=this.$scope,r=this.$attrs,o=(this.$element,this.mode);this.handleClick=e.bind(this,this.handleClick);var a=this.iconEl,s=e.element(this.buttonEl),c=this.handleClick;function l(t){t?s.off("click",c):s.on("click",c)}r.$observe("disabled",l),l(r.disabled),n.$render=function(){t.clearNgAria(),function(){if("radio"==o){var t=r.ngValue?i.$eval(r.ngValue):r.value;return n.$modelValue==t}return n.$modelValue}()?(a.style.display="",s.attr("aria-checked","true")):(a.style.display="none",s.attr("aria-checked","false"))},i.$$postDigest(n.$render)},t.prototype.handleClick=function(t){var e,n=this.mode,i=this.ngModel,r=this.$attrs;"checkbox"==n?e=!i.$modelValue:"radio"==n&&(e=r.ngValue?this.$scope.$eval(r.ngValue):r.value),i.$setViewValue(e),i.$render()}}(),function(){function t(t,n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,r){var o,a=r.type,s="md-in-menu-bar";if("checkbox"!=a&&"radio"!=a||!n.hasClass(s))h("role","menuitem",n[0].querySelector("md-button, button, a"));else{var c=n[0].textContent,l=e.element('<md-button type="button"></md-button>'),u='<md-icon md-svg-src="'+i.mdChecked+'"></md-icon>';l.html(c),l.attr("tabindex","0"),n.html(""),n.append(e.element(u)),n.append(l),n.addClass("md-indent").removeClass(s),h("role","checkbox"==a?"menuitemcheckbox":"menuitemradio",l),"ng-disabled",o=t.prefixer("ng-disabled"),e.forEach(o,(function(t){if(n[0].hasAttribute(t)){var e=n[0].getAttribute(t);l[0].setAttribute(t,e),n[0].removeAttribute(t)}}))}return function(t,e,n,i){var r=i[0],o=i[1];r.init(o)};function h(t,i,r){(r=r||n)instanceof e.element&&(r=r[0]),r.hasAttribute(t)||r.setAttribute(t,i)}}}}t.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],e.module("material.components.menuBar").directive("mdMenuItem",t)}(),function(){function t(t,n,i,r,o,a){var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||e.noop,c=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||e.noop,l="determinate",u="indeterminate",h="_md-progress-circular-disabled",d="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(t,n){if(t.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),e.isUndefined(n.mdMode)){var i=n.hasOwnProperty("value")?l:u;n.$set("mdMode",i)}else n.$set("mdMode",n.mdMode.trim());return f}};function f(a,f,y){var w,E,C=f[0],$=e.element(C.querySelector("svg")),A=e.element(C.querySelector("path")),x=n.startIndeterminate,k=n.endIndeterminate,S=0,T=0;function _(e,i,o,c,l,u){var h=++T,d=r.now(),f=i-e,p=v(a.mdDiameter),g=b(p),y=o||n.easeFn,E=c||n.duration,C=-90*(l||0),$=u||100;function x(t){A.attr("stroke-dashoffset",m(p,g,t,$)),A.attr("transform","rotate("+C+" "+p/2+" "+p/2+")")}i===e?x(i):w=s((function n(){var i=t.Math.max(0,t.Math.min(r.now()-d,E));x(y(i,e,f,E)),h===T&&i<E&&(w=s(n))}))}function M(){_(x,k,n.easeFnIndeterminate,n.durationIndeterminate,S,75),S=++S%4}function F(){E||(E=o(M,n.durationIndeterminate,0,!1),M(),f.addClass(d).removeAttr("aria-valuenow"))}function D(){E&&(o.cancel(E),E=null,f.removeClass(d))}i(f),f.toggleClass(h,y.hasOwnProperty("disabled")),a.mdMode===u&&F(),a.$on("$destroy",(function(){D(),w&&c(w)})),a.$watchGroup(["value","mdMode",function(){var t=C.disabled;return!0===t||!1===t?t:e.isDefined(f.attr("disabled"))}],(function(t,e){var n=t[1],i=t[2];if(i!==e[2]&&f.toggleClass(h,!!i),i)D();else if(n!==l&&n!==u&&(n=u,y.$set("mdMode",n)),n===u)F();else{var r=g(t[0]);D(),f.attr("aria-valuenow",r),_(g(e[0]),r)}})),a.$watch("mdDiameter",(function(e){var n=v(e),i=b(n),r=g(a.value),o=n/2+"px",s={width:n+"px",height:n+"px"};$[0].setAttribute("viewBox","0 0 "+n+" "+n),$.css(s).css("transform-origin",o+" "+o+" "+o),f.css(s),A.attr("stroke-width",i),A.attr("stroke-linecap","square"),a.mdMode==u?(A.attr("d",p(n,i,!0)),A.attr("stroke-dasharray",(n-i)*t.Math.PI*.75),A.attr("stroke-dashoffset",m(n,i,1,75))):(A.attr("d",p(n,i,!1)),A.attr("stroke-dasharray",(n-i)*t.Math.PI),A.attr("stroke-dashoffset",m(n,i,0,100)),_(r,r))}))}function p(t,e,n){var i=t/2,r=e/2,o=i+","+r,a=i-r;return"M"+o+"A"+a+","+a+" 0 1 1 "+r+","+i+(n?"":"A"+a+","+a+" 0 0 1 "+o)}function m(e,n,i,r){return(e-n)*t.Math.PI*(3*(r||100)/100-i/100)}function g(e){return t.Math.max(0,t.Math.min(e||0,100))}function v(t){var e=n.progressSize;if(t){var i=parseFloat(t);return t.lastIndexOf("%")===t.length-1&&(i=i/100*e),i}return e}function b(t){return n.strokeWidth/100*t}}t.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],e.module("material.components.progressCircular").directive("mdProgressCircular",t)}(),e.module("material.components.progressCircular").provider("$mdProgressCircular",(function(){var t={progressSize:50,strokeWidth:10,duration:100,easeFn:n,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:i,easingPresets:{linearEase:n,materialEase:i}};return{configure:function(n){return t=e.extend(t,n||{})},$get:function(){return t}};function n(t,e,n,i){return n*t/i+e}function i(t,e,n,i){var r=(t/=i)*t,o=r*t;return e+n*(6*o*r+-15*r*r+10*o)}})),e.module("material.components.tabs").directive("mdTab",(function(){return{require:"^?mdTabs",terminal:!0,compile:function(i,r){var o=n(i,"md-tab-label"),a=n(i,"md-tab-body");if(0===o.length&&(o=e.element("<md-tab-label></md-tab-label>"),r.label?o.text(r.label):o.append(i.contents()),0===a.length)){var s=i.contents().detach();(a=e.element("<md-tab-body></md-tab-body>")).append(s)}return i.append(o),a.html()&&i.append(a),t},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}};function t(t,i,r,o){if(o){var a=o.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),c=n(i,"md-tab-label").remove(),l=o.insertTab({scope:t,parent:t.$parent,index:a,element:i,template:s.html(),label:c.html()},a);t.select=t.select||e.noop,t.deselect=t.deselect||e.noop,t.$watch("active",(function(t){t&&o.select(l.getIndex(),!0)})),t.$watch("disabled",(function(){o.refreshIndex()})),t.$watch((function(){return o.getTabElementIndex(i)}),(function(t){l.index=t,o.updateTabOrder()})),t.$on("$destroy",(function(){o.removeTab(l)}))}}function n(t,n){for(var i=t[0].children,r=0,o=i.length;r<o;r++){var a=i[r];if(a.tagName===n.toUpperCase())return e.element(a)}return e.element()}})),e.module("material.components.tabs").directive("mdTabItem",(function(){return{require:"^?mdTabs",link:function(t,e,n,i){i&&i.attachRipple(t,e)}}})),e.module("material.components.tabs").directive("mdTabLabel",(function(){return{terminal:!0}})),function(){function t(t){return{restrict:"A",compile:function(e,n){var i=t(n.mdTabScroll,null,!0);return function(t,e){e.on("mousewheel",(function(e){t.$apply((function(){i(t,{$event:e})}))}))}}}}t.$inject=["$parse"],e.module("material.components.tabs").directive("mdTabScroll",t)}(),function(){function t(t,i,r,o,a,s,c,l,u,h,d){var f=this,p=!1,m=(R(),[]),g=!1,v=!1;function b(t,e){var n=l.$normalize("md-"+t);function i(e){f[t]="false"!==e}e&&I(t,e),l.hasOwnProperty(n)&&i(l[n]),l.$observe(n,i)}function y(){g=!0,e.element(r).off("resize",M)}function w(t){var n=R();e.element(n.wrapper).toggleClass("md-stretch-tabs",function(){switch(f.stretchTabs){case"always":return!0;case"never":return!1;default:return!f.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}()),V()}function E(t){f.shouldCenterTabs=O()}function C(t,n){if(t!==n){var i=R();e.forEach(i.tabs,(function(e){e.style.maxWidth=t+"px"})),s.nextTick(f.updateInkBarStyles)}}function $(t,e){t!==e&&(f.maxTabWidth=B(),f.shouldCenterTabs=O(),s.nextTick((function(){f.maxTabWidth=B(),j(f.selectedIndex)})))}function A(t){i[t?"removeClass":"addClass"]("md-no-tab-content")}function x(n){var i=R(),r=f.shouldCenterTabs?"":"-"+n+"px";e.element(i.paging).css(o.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),t.$broadcast("$mdTabsPaginationChanged")}function k(t,e){t!==e&&R().tabs[t]&&(j(),H())}function S(e,n){e!==n&&(f.selectedIndex=L(e),f.lastSelectedIndex=n,f.updateInkBarStyles(),W(),j(e),t.$broadcast("$mdTabsChanged"),f.tabs[n]&&f.tabs[n].scope.deselect(),f.tabs[e]&&f.tabs[e].scope.select())}function T(){T.watcher||(T.watcher=t.$watch((function(){s.nextTick((function(){T.watcher&&i.prop("offsetParent")&&(T.watcher(),T.watcher=null,M())}),!1)})))}function _(t,e){p||(f.focusIndex=f.selectedIndex=t),e&&f.noSelectClick||s.nextTick((function(){f.tabs[t].element.triggerHandler("click")}),!1)}function M(){f.lastSelectedIndex=f.selectedIndex,f.offsetLeft=z(f.offsetLeft),s.nextTick((function(){f.updateInkBarStyles(),N()}))}function F(t){e.element(R().inkBar).toggleClass("ng-hide",t)}function D(t){i.toggleClass("md-dynamic-height",t)}function R(){var t={},e=i[0];return t.wrapper=e.querySelector("md-tabs-wrapper"),t.canvas=t.wrapper.querySelector("md-tabs-canvas"),t.paging=t.canvas.querySelector("md-pagination-wrapper"),t.inkBar=t.paging.querySelector("md-ink-bar"),t.contents=e.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),t.tabs=t.paging.querySelectorAll("md-tab-item"),t.dummies=t.canvas.querySelectorAll("md-dummy-tab"),t}function O(){return f.centerTabs&&!f.shouldPaginate}function L(t){if(-1===t)return-1;var e,n,i=Math.max(f.tabs.length-t,t);for(e=0;e<=i;e++){if((n=f.tabs[t+e])&&!0!==n.scope.disabled)return n.getIndex();if((n=f.tabs[t-e])&&!0!==n.scope.disabled)return n.getIndex()}return t}function I(t,e,n){Object.defineProperty(f,t,{get:function(){return n},set:function(t){var i=n;n=t,e&&e(t,i)}})}function N(){f.maxTabWidth=B(),f.shouldPaginate=function(){if(f.noPagination||!v)return!1;var t=i.prop("clientWidth");return e.forEach(R().dummies,(function(e){t-=e.offsetWidth})),t<0}()}function B(){return i.prop("clientWidth")}function P(t,e){var n,i=e?"focusIndex":"selectedIndex";for(n=f[i]+t;f.tabs[n]&&f.tabs[n].scope.disabled;n+=t);f.tabs[n]&&(f[i]=n)}function H(){f.styleTabItemFocus="keyboard"===d.getLastInteractionType(),R().dummies[f.focusIndex].focus()}function j(t){var n=R();if(e.isNumber(t)||(t=f.focusIndex),n.tabs[t]&&!f.shouldCenterTabs){var i=n.tabs[t],r=i.offsetLeft,o=i.offsetWidth+r;f.offsetLeft=Math.max(f.offsetLeft,z(o-n.canvas.clientWidth+64)),f.offsetLeft=Math.min(f.offsetLeft,z(r))}}function U(){f.selectedIndex=L(f.selectedIndex),f.focusIndex=L(f.focusIndex)}function W(){if(!f.dynamicHeight)return i.css("height","");if(!f.tabs.length)return m.push(W);var t=R(),e=t.contents[f.selectedIndex],r=e?e.offsetHeight:0,o=t.wrapper.offsetHeight,a=r+o,l=i.prop("clientHeight");if(l!==a){"bottom"===i.attr("md-align-tabs")&&(l-=o,a-=o,i.attr("md-border-bottom")!==n&&++l),p=!0;var u={height:l+"px"},h={height:a+"px"};i.css(u),c(i,{from:u,to:h,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done((function(){i.css({transition:"none",height:""}),s.nextTick((function(){i.css("transition","")})),p=!1}))}}function V(){var t=R();if(t.tabs[f.selectedIndex]){if(!f.tabs.length)return m.push(f.updateInkBarStyles);if(!i.prop("offsetParent"))return T();var n=f.selectedIndex,r=t.paging.offsetWidth,o=t.tabs[n],a=o.offsetLeft,c=r-a-o.offsetWidth;f.shouldCenterTabs&&r>function(t){var n=0;return e.forEach(t,(function(t){n+=Math.max(t.offsetWidth,t.getBoundingClientRect().width)})),Math.ceil(n)}(t.tabs)&&s.nextTick(V,!1),!function(){var t=R(),n=f.selectedIndex,i=f.lastSelectedIndex,r=e.element(t.inkBar);e.isNumber(i)&&r.toggleClass("md-left",n<i).toggleClass("md-right",n>i)}(),e.element(t.inkBar).css({left:a+"px",right:c+"px"})}else e.element(t.inkBar).css({left:"auto",right:"auto"})}function z(t){var e=R();if(!e.tabs.length||!f.shouldPaginate)return 0;var n=e.tabs[e.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return t=Math.max(0,t),Math.min(i-e.canvas.clientWidth,t)}f.$onInit=function(){var n,o;(function(t,e){var n=l.$normalize("md-"+t);e&&I(t,e),l.$observe(n,(function(e){f[t]=e}))})("stretchTabs",w),I("focusIndex",k,f.selectedIndex||0),I("offsetLeft",x,0),I("hasContent",A,!1),I("maxTabWidth",C,B()),I("shouldPaginate",$,!1),b("noInkBar",F),b("dynamicHeight",D),b("noPagination"),b("swipeContent"),b("noDisconnect"),b("autoselect"),b("noSelectClick"),b("centerTabs",E),b("enableDisconnect"),f.scope=t,f.parent=t.$parent,f.tabs=[],f.lastSelectedIndex=null,f.hasFocus=!1,f.styleTabItemFocus=!1,f.shouldCenterTabs=O(),f.tabContentPrefix="tab-content-",f.selectedIndex=f.selectedIndex||0,n=l.$mdTabsTemplate,(o=e.element(i[0].querySelector("md-tab-data"))).html(n),u(o.contents())(f.parent),delete l.$mdTabsTemplate,t.$watch("$mdTabsCtrl.selectedIndex",S),e.element(r).on("resize",M),t.$on("$destroy",y),h(i),s.nextTick((function(){R(),W(),j(),V(),f.tabs[f.selectedIndex]&&f.tabs[f.selectedIndex].scope.select(),v=!0,N()}))},f.updatePagination=s.debounce(N,100),f.redirectFocus=H,f.attachRipple=function(t,n){var i=R(),r={colorElement:e.element(i.inkBar)};a.attach(t,n,r)},f.insertTab=function(t,n){var r=v,o={getIndex:function(){return f.tabs.indexOf(a)},isActive:function(){return this.getIndex()===f.selectedIndex},isLeft:function(){return this.getIndex()<f.selectedIndex},isRight:function(){return this.getIndex()>f.selectedIndex},shouldRender:function(){return!f.noDisconnect||this.isActive()},hasFocus:function(){return f.styleTabItemFocus&&f.hasFocus&&this.getIndex()===f.focusIndex},id:s.nextUid(),hasContent:!(!t.template||!t.template.trim())},a=e.extend(o,t);return e.isDefined(n)?f.tabs.splice(n,0,a):f.tabs.push(a),m.forEach((function(t){s.nextTick(t)})),m=[],function(){for(var t=!1,e=0;e<f.tabs.length;e++)if(f.tabs[e].hasContent){t=!0;break}f.hasContent=t}(),s.nextTick((function(){N(),function(t){if(t.hasContent){var n=i[0].querySelectorAll('[md-tab-id="'+t.id+'"]');e.element(n).attr("aria-controls",f.tabContentPrefix+t.id)}}(a),r&&f.autoselect&&s.nextTick((function(){s.nextTick((function(){_(f.tabs.indexOf(a))}))}))})),a},f.removeTab=function(t){if(!g){var e=f.selectedIndex,n=f.tabs.splice(t.getIndex(),1)[0];U(),f.selectedIndex===e&&(n.scope.deselect(),f.tabs[f.selectedIndex]&&f.tabs[f.selectedIndex].scope.select()),s.nextTick((function(){N(),f.offsetLeft=z(f.offsetLeft)}))}},f.select=_,f.scroll=function(t){f.shouldPaginate&&(t.preventDefault(),f.offsetLeft=z(f.offsetLeft-t.wheelDelta))},f.nextPage=function(){var t,e,n=R(),i=n.canvas.clientWidth,r=i+f.offsetLeft;for(t=0;t<n.tabs.length&&!((e=n.tabs[t]).offsetLeft+e.offsetWidth>r);t++);i>e.offsetWidth?f.offsetLeft=z(e.offsetLeft):f.offsetLeft=z(e.offsetLeft+(e.offsetWidth-i+1))},f.previousPage=function(){var t,e,n=R();for(t=0;t<n.tabs.length&&!((e=n.tabs[t]).offsetLeft+e.offsetWidth>=f.offsetLeft);t++);n.canvas.clientWidth>e.offsetWidth?f.offsetLeft=z(e.offsetLeft+e.offsetWidth-n.canvas.clientWidth):f.offsetLeft=z(e.offsetLeft)},f.keydown=function(t){switch(t.keyCode){case o.KEY_CODE.LEFT_ARROW:t.preventDefault(),P(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:t.preventDefault(),P(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:t.preventDefault(),p||_(f.focusIndex)}},f.canPageForward=function(){var t=R(),e=t.tabs[t.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>t.canvas.clientWidth+f.offsetLeft},f.canPageBack=function(){return f.offsetLeft>0},f.refreshIndex=U,f.incrementIndex=P,f.getTabElementIndex=function(t){var e=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(e,t[0])},f.updateInkBarStyles=s.debounce(V,100),f.updateTabOrder=s.debounce((function(){var t=f.tabs[f.selectedIndex],e=f.tabs[f.focusIndex];f.tabs=f.tabs.sort((function(t,e){return t.index-e.index})),f.selectedIndex=f.tabs.indexOf(t),f.focusIndex=f.tabs.indexOf(e)}),100),f.getFocusedTabId=function(){var t=f.tabs[f.focusIndex];return t&&t.id?"tab-item-"+t.id:null},1===e.version.major&&e.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction"],e.module("material.components.tabs").controller("MdTabsController",t)}(),function(){function t(t){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,n){return n.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="{{$mdTabsCtrl.getFocusedTabId()}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-touch-action="pan-y" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" md-swipe-touch-action="pan-y" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.$inject=["$$mdSvgRegistry"],e.module("material.components.tabs").directive("mdTabs",t)}(),function(){function t(t,e){return{require:"^?mdTabs",link:function(n,i,r,o){if(o){var a,s,c=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in e)(a=new MutationObserver(c)).observe(i[0],{childList:!0,subtree:!0,characterData:!0}),s=a.disconnect.bind(a);else{var l=t.debounce(c,15,null,!1);i.on("DOMSubtreeModified",l),s=i.off.bind(i,"DOMSubtreeModified",l)}n.$on("$destroy",(function(){s()}))}}}}t.$inject=["$mdUtil","$window"],e.module("material.components.tabs").directive("mdTabsDummyWrapper",t)}(),function(){function t(t,e){return{restrict:"A",link:function(n,i,r,o){if(o){var a=o.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),t(i.contents())(a),e.nextTick((function(){n.$watch("connected",(function(t){!1===t?o.enableDisconnect&&e.disconnectScope(a):s()})),n.$on("$destroy",s)}))}function s(){o.enableDisconnect&&e.reconnectScope(a)}},scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.$inject=["$compile","$mdUtil"],e.module("material.components.tabs").directive("mdTabsTemplate",t)}(),e.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}(window,window.angular),window.ngMaterial={version:{full:"1.1.4"}},function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Tether=e()}(this,(function(){"use strict";var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=void 0;void 0===n&&(n={modules:[]});var i=null;function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];try{if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var a=r(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}}catch(t){}return n}function o(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(t){}if(null==r)return n.push(i),n;var o=r,a=o.overflow,s=o.overflowX,c=o.overflowY;/(auto|scroll|overlay)/.test(a+c+s)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}var a,s=(a=0,function(){return++a}),c={},l=function(){var t=i;t&&document.body.contains(t)||((t=document.createElement("div")).setAttribute("data-tether-id",s()),m(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),i=t);var e=t.getAttribute("data-tether-id");return void 0===c[e]&&(c[e]=r(t),$((function(){delete c[e]}))),c[e]};function u(){i&&document.body.removeChild(i),i=null}function h(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),o=l();return i.top-=o.top,i.left-=o.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function d(t){return t.offsetParent||document.documentElement}var f=null;function p(){if(f)return f;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");m(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return f={width:r,height:r}}function m(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach((function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])})),t}function g(t,e){if(void 0!==t.classList)e.split(" ").forEach((function(e){e.trim()&&t.classList.remove(e)}));else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=y(t).replace(n," ");w(t,i)}}function v(t,e){if(void 0!==t.classList)e.split(" ").forEach((function(e){e.trim()&&t.classList.add(e)}));else{g(t,e);var n=y(t)+" "+e;w(t,n)}}function b(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=y(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function y(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function w(t,e){t.setAttribute("class",e)}function E(t,e,n){n.forEach((function(n){-1===e.indexOf(n)&&b(t,n)&&g(t,n)})),e.forEach((function(e){b(t,e)||v(t,e)}))}var C=[],$=function(t){C.push(t)},A=function(){for(var t=void 0;t=C.pop();)t()},x=function(){function n(){e(this,n)}return t(n,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],a=o.handler,s=o.ctx,c=o.once,l=s;void 0===l&&(l=this),a.apply(l,i),c?this.bindings[t].splice(e,1):++e}}}}]),n}();n.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:h,getOffsetParent:d,extend:m,addClass:v,removeClass:g,hasClass:b,updateClasses:E,defer:$,flush:A,uniqueId:s,Evented:x,getScrollBarSize:p,removeUtilElements:u};var k=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}if(t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),void 0===n)throw new Error("You must include the utils.js file before tether.js");var o=(Y=n.Utils).getScrollParents,d=(h=Y.getBounds,Y.getOffsetParent),v=(m=Y.extend,Y.addClass),g=Y.removeClass,p=(E=Y.updateClasses,$=Y.defer,A=Y.flush,Y.getScrollBarSize),u=Y.removeUtilElements;function S(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}var T,_,M,F,D=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),R=[],O=function(){R.forEach((function(t){t.position(!1)})),A()};function L(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}T=null,_=null,M=null,F=function t(){if(void 0!==_&&_>16)return _=Math.min(_-16,250),void(M=setTimeout(t,250));void 0!==T&&L()-T<10||(null!=M&&(clearTimeout(M),M=null),T=L(),O(),_=L()-T)},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach((function(t){window.addEventListener(t,F)}));var I={center:"center",left:"right",right:"left"},N={middle:"middle",top:"bottom",bottom:"top"},B={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},P=function(t){var e=t.left,n=t.top;return void 0!==B[t.left]&&(e=B[t.left]),void 0!==B[t.top]&&(n=B[t.top]),{left:e,top:n}};function H(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i})),t}function j(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}var U=function(t){var e=t.split(" "),n=k(e,2);return{top:n[0],left:n[1]}},W=U,V=function(i){function r(t){var i=this;e(this,r),function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}}(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.position=this.position.bind(this),R.push(this),this.history=[],this.setOptions(t,!1),n.modules.forEach((function(t){void 0!==t.initialize&&t.initialize.call(i)})),this.position()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),t(r,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=m({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t);var i=this.options,r=i.element,a=i.target,s=i.targetModifier;if(this.element=r,this.target=a,this.targetModifier=s,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach((function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),v(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&v(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=W(this.options.targetAttachment),this.attachment=W(this.options.attachment),this.offset=U(this.options.offset),this.targetOffset=U(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return h(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(t=h(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(o.height,t.height-(pageYOffset-t.top)),o.height=Math.min(o.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,t.width-(pageXOffset-t.left)),o.width=Math.min(o.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=h(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(i=15);var r=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,o={width:15,height:.975*r*(r/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},a=0;r<408&&this.target===document.body&&(a=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var s=this.target.scrollTop/(e.scrollHeight-r);return o.top=s*(r-o.height-a)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&v(this.target,this.getClass("enabled")),v(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach((function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)})),e&&this.position()}},{key:"disable",value:function(){var t=this;g(this.target,this.getClass("enabled")),g(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.position)}))}},{key:"destroy",value:function(){var t=this;this.disable(),R.forEach((function(e,n){e===t&&R.splice(n,1)})),0===R.length&&u()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var r=[];["left","top","bottom","right","middle","center"].forEach((function(t){r.push(n.getClass("element-attached")+"-"+t),r.push(n.getClass("target-attached")+"-"+t)})),$((function(){void 0!==n._addAttachClasses&&(E(n.element,n._addAttachClasses,r),!1!==n.options.addTargetClasses&&E(n.target,n._addAttachClasses,r),delete n._addAttachClasses)}))}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=I[e.left]),"auto"===i&&(i=N[e.top]),{left:n,top:i}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var r=this.cache("element-bounds",(function(){return h(t.element)})),o=r.width,a=r.height;if(0===o&&0===a&&void 0!==this.lastSize){var s=this.lastSize;o=s.width,a=s.height}else this.lastSize={width:o,height:a};var c=this.cache("target-bounds",(function(){return t.getTargetBounds()})),l=c,u=j(P(this.attachment),{width:o,height:a}),f=j(P(i),l),m=j(this.offset,{width:o,height:a}),g=j(this.targetOffset,l);u=H(u,m),f=H(f,g);for(var v=c.left+f.left-u.left,b=c.top+f.top-u.top,y=0;y<n.modules.length;++y){var w=n.modules[y].position.call(this,{left:v,top:b,targetAttachment:i,targetPos:c,elementPos:r,offset:u,targetOffset:f,manualOffset:m,manualTargetOffset:g,scrollbarSize:x,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(b=w.top,v=w.left)}var E={page:{top:b,left:v},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-a+innerHeight,left:v-pageXOffset,right:pageXOffset-v-o+innerWidth}},C=this.target.ownerDocument,$=C.defaultView,x=void 0;return $.innerHeight>C.documentElement.clientHeight&&(x=this.cache("scrollbar-size",p),E.viewport.bottom-=x.height),$.innerWidth>C.documentElement.clientWidth&&(x=this.cache("scrollbar-size",p),E.viewport.right-=x.width),-1!==["","static"].indexOf(C.body.style.position)&&-1!==["","static"].indexOf(C.body.parentElement.style.position)||(E.page.bottom=C.body.scrollHeight-b-a,E.page.right=C.body.scrollWidth-v-o),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",(function(){return d(t.target)})),n=t.cache("target-offsetparent-bounds",(function(){return h(e)})),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach((function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])})),n.right=C.body.scrollWidth-n.left-r.width+o.right,n.bottom=C.body.scrollHeight-n.top-r.height+o.bottom,E.page.top>=n.top+o.top&&E.page.bottom>=n.bottom&&E.page.left>=n.left+o.left&&E.page.right>=n.right){var a=e.scrollTop,s=e.scrollLeft;E.offset={top:E.page.top-n.top+a-o.top,left:E.page.left-n.left+s-o.left}}}(),this.move(E),this.history.unshift(E),this.history.length>3&&this.history.pop(),e&&A(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t)for(var r in n[i]={},t[i]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if(void 0!==s[i]&&!S(s[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}var c,l,u={top:"",left:"",right:"",bottom:""},h=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(u.top=0,i=n.top):(u.bottom=0,i=-n.bottom),t.left?(u.left=0,r=n.left):(u.right=0,r=-n.right),"number"==typeof window.devicePixelRatio&&devicePixelRatio%1==0&&(r=Math.round(r*devicePixelRatio)/devicePixelRatio,i=Math.round(i*devicePixelRatio)/devicePixelRatio),u[D]="translateX("+r+"px) translateY("+i+"px)","msTransform"!==D&&(u[D]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},f=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",h(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",h(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var i=e.cache("target-offsetparent",(function(){return d(e.target)}));d(e.element)!==i&&$((function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)})),h(n.offset,t.offset),f=!0}():(u.position="absolute",h({top:!0,left:!0},t.page)),!f)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var p=!0,g=this.element.parentNode;g&&1===g.nodeType&&"BODY"!==g.tagName&&(void 0,((l=(c=g).ownerDocument).fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement)!==c);){if("static"!==getComputedStyle(g).position){p=!1;break}g=g.parentNode}p||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var v={},b=!1;for(var r in u){var y=u[r];this.element.style[r]!==y&&(b=!0,v[r]=y)}b&&$((function(){m(e.element.style,v),e.trigger("repositioned")}))}}}]),r}(x);V.modules=[],n.position=O;var z=m(V,n),m=(k=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},h=(Y=n.Utils).getBounds,Y.extend),q=(E=Y.updateClasses,$=Y.defer,["left","top","right","bottom"]);n.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",(function(){return h(e.element)})),a=o.height,s=o.width;if(0===s&&0===a&&void 0!==this.lastSize){var c=this.lastSize;s=c.width,a=c.height}var l=this.cache("target-bounds",(function(){return e.getTargetBounds()})),u=l.height,d=l.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach((function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&f.push(e),n&&f.push(n)})),f.forEach((function(t){["left","top","right","bottom"].forEach((function(e){f.push(t+"-"+e)}))}));var p=[],g=m({},r),v=m({},this.attachment);return this.options.constraints.forEach((function(t){var o=t.to,c=t.attachment,l=t.pin;void 0===c&&(c="");var f=void 0,m=void 0;if(c.indexOf(" ")>=0){var b=c.split(" "),y=k(b,2);m=y[0],f=y[1]}else f=m=c;var w=function(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,n=h(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}q.forEach((function(t,n){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])}))}(),e}(e,o);"target"!==m&&"both"!==m||(n<w[1]&&"top"===g.top&&(n+=u,g.top="bottom"),n+a>w[3]&&"bottom"===g.top&&(n-=u,g.top="top")),"together"===m&&("top"===g.top&&("bottom"===v.top&&n<w[1]?(n+=u,g.top="bottom",n+=a,v.top="top"):"top"===v.top&&n+a>w[3]&&n-(a-u)>=w[1]&&(n-=a-u,g.top="bottom",v.top="bottom")),"bottom"===g.top&&("top"===v.top&&n+a>w[3]?(n-=u,g.top="top",n-=a,v.top="bottom"):"bottom"===v.top&&n<w[1]&&n+(2*a-u)<=w[3]&&(n+=a-u,g.top="top",v.top="top")),"middle"===g.top&&(n+a>w[3]&&"top"===v.top?(n-=a,v.top="bottom"):n<w[1]&&"bottom"===v.top&&(n+=a,v.top="top"))),"target"!==f&&"both"!==f||(i<w[0]&&"left"===g.left&&(i+=d,g.left="right"),i+s>w[2]&&"right"===g.left&&(i-=d,g.left="left")),"together"===f&&(i<w[0]&&"left"===g.left?"right"===v.left?(i+=d,g.left="right",i+=s,v.left="left"):"left"===v.left&&(i+=d,g.left="right",i-=s,v.left="right"):i+s>w[2]&&"right"===g.left?"left"===v.left?(i-=d,g.left="left",i-=s,v.left="right"):"right"===v.left&&(i-=d,g.left="left",i+=s,v.left="left"):"center"===g.left&&(i+s>w[2]&&"left"===v.left?(i-=s,v.left="right"):i<w[0]&&"right"===v.left&&(i+=s,v.left="left"))),"element"!==m&&"both"!==m||(n<w[1]&&"bottom"===v.top&&(n+=a,v.top="top"),n+a>w[3]&&"top"===v.top&&(n-=a,v.top="bottom")),"element"!==f&&"both"!==f||(i<w[0]&&("right"===v.left?(i+=s,v.left="left"):"center"===v.left&&(i+=s/2,v.left="left")),i+s>w[2]&&("left"===v.left?(i-=s,v.left="right"):"center"===v.left&&(i-=s/2,v.left="right"))),"string"==typeof l?l=l.split(",").map((function(t){return t.trim()})):!0===l&&(l=["top","left","right","bottom"]),l=l||[];var E,C,$=[],A=[];n<w[1]&&(l.indexOf("top")>=0?(n=w[1],$.push("top")):A.push("top")),n+a>w[3]&&(l.indexOf("bottom")>=0?(n=w[3]-a,$.push("bottom")):A.push("bottom")),i<w[0]&&(l.indexOf("left")>=0?(i=w[0],$.push("left")):A.push("left")),i+s>w[2]&&(l.indexOf("right")>=0?(i=w[2]-s,$.push("right")):A.push("right")),$.length&&(void 0,E=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),p.push(E),$.forEach((function(t){p.push(E+"-"+t)}))),A.length&&(void 0,C=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),p.push(C),A.forEach((function(t){p.push(C+"-"+t)}))),($.indexOf("left")>=0||$.indexOf("right")>=0)&&(v.left=g.left=!1),($.indexOf("top")>=0||$.indexOf("bottom")>=0)&&(v.top=g.top=!1),g.top===r.top&&g.left===r.left&&v.top===e.attachment.top&&v.left===e.attachment.left||(e.updateAttachClasses(v,g),e.trigger("update",{attachment:v,targetAttachment:g}))})),$((function(){!1!==e.options.addTargetClasses&&E(e.target,p,f),E(e.element,p,f)})),{top:n,left:i}}});var Y,h=(Y=n.Utils).getBounds,E=Y.updateClasses;return $=Y.defer,n.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",(function(){return h(e.element)})),o=r.height,a=r.width,s=this.getTargetBounds(),c=n+o,l=i+a,u=[];n<=s.bottom&&c>=s.top&&["left","right"].forEach((function(t){var e=s[t];e!==i&&e!==l||u.push(t)})),i<=s.right&&l>=s.left&&["top","bottom"].forEach((function(t){var e=s[t];e!==n&&e!==c||u.push(t)}));var d=[],f=[];return d.push(this.getClass("abutted")),["left","top","right","bottom"].forEach((function(t){d.push(e.getClass("abutted")+"-"+t)})),u.length&&f.push(this.getClass("abutted")),u.forEach((function(t){f.push(e.getClass("abutted")+"-"+t)})),$((function(){!1!==e.options.addTargetClasses&&E(e.target,f,d),E(e.element,f,d)})),!0}}),k=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var a=k(i,2);r=a[0],o=a[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return{top:e+=r,left:n+=o}}}}),z})),function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Shepherd=e(t.Tether)}(this,(function(t){"use strict";var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),n=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=t.Utils,a=o.Evented,s=o.addClass,c=o.extend,l=o.hasClass,u=o.removeClass,h=o.uniqueId,d=new a;function f(t){return void 0===t}function p(t){return"object"==typeof t}var m={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"};function g(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}var v=/^(.+) (top|left|right|bottom|center|\[[a-z ]+\])$/,b=function(o){function a(t,e){return i(this,a),n(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,t,e),this.tour=t,this.bindMethods(),this.setOptions(e),this}return r(a,o),e(a,[{key:"bindMethods",value:function(){var t=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"].map((function(e){t[e]=t[e].bind(t)}))}},{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t,this.destroy(),this.id=this.options.id||this.id||"step-"+h();var e=this.options.when;if(e)for(var n in e)if({}.hasOwnProperty.call(e,n)){var i=e[n];this.on(n,i,this)}var r,o=JSON.stringify(this.options.buttons),a=f(o)||"true"===o,s="{}"===o||"[]"===o||"null"===o||"false"===o,c=!a&&(r=this.options.buttons)&&r.constructor===Array,l=!a&&function(t){return t&&t.constructor===Object}(this.options.buttons);a?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!s&&l?this.options.buttons=[this.options.buttons]:!s&&c||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var t=this,e=function(t,e){if(null===t||f(t))return t;if(p(t))return t;for(var n=t.split(" "),i={},r=e.length-1,o=n.length-1;o>=0;o--){if(0===r){i[e[r]]=n.slice(0,o+1).join(" ");break}i[e[r]]=n[o],r--}return i}(this.options.advanceOn,["selector","event"]),n=e.event,i=e.selector,r=function(e){var n,r,o;t.isOpen()&&(f(i)?t.el&&e.target===t.el&&t.tour.next():(n=e.target,r=i,o=void 0,f(n.matches)?f(n.matchesSelector)?f(n.msMatchesSelector)?f(n.webkitMatchesSelector)?f(n.mozMatchesSelector)?f(n.oMatchesSelector)||(o=n.oMatchesSelector):o=n.mozMatchesSelector:o=n.webkitMatchesSelector:o=n.msMatchesSelector:o=n.matchesSelector:o=n.matches,o.call(n,r)&&t.tour.next()))};document.body.addEventListener(n,r),this.on("destroy",(function(){return document.body.removeEventListener(n,r)}))}},{key:"getAttachTo",value:function(){var t=function(t){if(p(t))return t.hasOwnProperty("element")&&t.hasOwnProperty("on")?t:null;var e=v.exec(t);if(!e)return null;var n=e[2];return"["===n[0]&&(n=n.substring(1,n.length-1)),{element:e[1],on:n}}(this.options.attachTo)||{},e=c({},t);return"string"==typeof t.element&&(e.element=document.querySelector(t.element),e.element||console.error("The element for this Shepherd step was not found "+t.element)),e}},{key:"setupTether",value:function(){if(f(t))throw new Error("Using the attachment feature of Shepherd requires the Tether library");var e=this.getAttachTo(),n=m[e.on]||m.right;f(e.element)&&(e.element="viewport",n="middle center");var i={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:e.element,offset:e.offset||"0 0",attachment:n};this.tether&&this.tether.destroy(),this.tether=new t(c(i,this.options.tetherOptions))}},{key:"show",value:function(){var t=this;if(!f(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!f(e))return e.then((function(){return t._show()}))}this._show()}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this.el||this.render(),s(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout((function(){t.scrollTo()})),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),u(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&l(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var t=this.getAttachTo().element;f(this.options.scrollToHandler)?f(t)||t.scrollIntoView():this.options.scrollToHandler(t)}},{key:"destroy",value:function(){!f(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var t=this;f(this.el)||this.destroy(),this.el=g("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var e=document.createElement("div");e.className="shepherd-content",this.el.appendChild(e);var n,i,r,o,a=document.createElement("header");if(e.appendChild(a),this.options.title&&(a.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var s=g("<a href class='shepherd-cancel-link'>â</a>");a.appendChild(s),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(s)}f(this.options.text)||(n=g("<div class='shepherd-text'></div>"),"function"==typeof(i=t.options.text)&&(i=i.call(t,n)),i instanceof HTMLElement?n.appendChild(i):("string"==typeof i&&(i=[i]),i.map((function(t){n.innerHTML+="<p>"+t+"</p>"}))),e.appendChild(n)),this.options.buttons&&(r=document.createElement("footer"),o=g("<ul class='shepherd-buttons'></ul>"),t.options.buttons.map((function(e){var n=g("<li><a class='shepherd-button "+(e.classes||"")+"'>"+e.text+"</a>");o.appendChild(n),t.bindButtonEvents(e,n.querySelector("a"))})),r.appendChild(o),e.appendChild(r)),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(t){var e=this;t.addEventListener("click",(function(t){t.preventDefault(),e.cancel()}))}},{key:"bindButtonEvents",value:function(t,e){var n=this;for(var i in t.events=t.events||{},f(t.action)||(t.events.click=t.action),t.events)if({}.hasOwnProperty.call(t.events,i)){var r=t.events[i];"string"==typeof r&&function(){var t=r;r=function(){return n.tour.show(t)}}(),e.addEventListener(i,r)}this.on("destroy",(function(){for(var n in t.events)if({}.hasOwnProperty.call(t.events,n)){var i=t.events[n];e.removeEventListener(n,i)}}))}}]),a}(a),y=function(t){function o(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return i(this,o),n(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e),this.bindMethods(),this.options=e,this.steps=this.options.steps||[],["complete","cancel","hide","start","show","active","inactive"].map((function(e){var n;n=e,t.on(n,(function(e){(e=e||{}).tour=t,d.trigger(n,e)}))})),this}return r(o,t),e(o,[{key:"bindMethods",value:function(){var t=this;["next","back","cancel","complete","hide"].map((function(e){t[e]=t[e].bind(t)}))}},{key:"addStep",value:function(t,e){return f(e)&&(e=t),e instanceof b?e.tour=this:("string"!=typeof t&&"number"!=typeof t||(e.id=t.toString()),e=c({},this.options.defaults,e),e=new b(this,e)),this.steps.push(e),this}},{key:"removeStep",value:function(t){for(var e=this.getCurrentStep(),n=0;n<this.steps.length;++n){var i=this.steps[n];if(i.id===t){i.isOpen()&&i.hide(),i.destroy(),this.steps.splice(n,1);break}}e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:"getById",value:function(t){for(var e=0;e<this.steps.length;++e){var n=this.steps[e];if(n.id===t)return n}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1,!0)}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:"cancel",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){d.activeTour=null,u(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.currentStep?this.currentStep.hide():(s(document.body,"shepherd-active"),this.trigger("active",{tour:this})),d.activeTour=this;var n=void 0;if(n="string"==typeof t?this.getById(t):this.steps[t])if(f(n.options.showOn)||n.options.showOn())this.trigger("show",{step:n,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),this.currentStep=n,n.show();else{var i=this.steps.indexOf(n),r=e?i+1:i-1;this.show(r,e)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),o}(a);return c(d,{Tour:y,Step:b,Evented:a}),d})),function(){"use strict";angular.module("html5DragDrop",[])}(),function(){"use strict";var t=0;angular.module("html5DragDrop").directive("html5Drag",["$log",function(e){return{restrict:"A",link:function(n,i,r){i.attr("id")||i.attr("id",(t||(t=0),"draggable-id-"+(t+=1)));var o=n.$eval(r.dragData),a=n.$eval(r.transferType)||r.transferType||"text",s=n.$eval(r.transferData)||r.transferData||i.attr("id"),c=n.$eval(r.onDragStart),l=n.$eval(r.onDrag),u=n.$eval(r.onDragEnd);(r.transferType&&!r.transferData||r.transferData&&!r.transferType)&&(e.error("Transfer-type and transfer-data must both be provided. Ignoring both..."),a="text",s=i.attr("id")),i.attr("draggable",!0),i.data("dragData",o),i.on("dragstart",(function(t){(t.dataTransfer||t.originalEvent.dataTransfer).setData(a,s),angular.element(document.getElementsByClassName("dragging")).removeClass("dragging"),i.addClass("dragging"),angular.isFunction(c)&&c(t,i,i.data("dragData"))})),i.on("drag",(function(t){angular.isFunction(l)&&l(t,i,i.data("dragData"))})),i.on("dragend",(function(t){i.removeClass("dragging"),angular.isFunction(u)&&u(t,i,i.data("dragData"))}))}}}])}(),function(){"use strict";angular.module("html5DragDrop").directive("html5Drop",(function(){return{restrict:"A",link:function(t,e,n){var i=t.$eval(n.onDragEnter),r=t.$eval(n.onDragOver),o=t.$eval(n.onDragLeave),a=t.$eval(n.onDrop);e.on("dragenter",(function(t){if(t.preventDefault(),angular.isFunction(i)){var n=document.getElementsByClassName("dragging")[0],r=angular.element(n);i(t,e,r,r.data("dragData"))}})),e.on("dragover",(function(t){if(t.preventDefault(),angular.isFunction(r)){var n=document.getElementsByClassName("dragging")[0],i=angular.element(n);r(t,e,i,i.data("dragData"))}})),e.on("dragleave",(function(t){if(angular.isFunction(o)){var n=document.getElementsByClassName("dragging")[0],i=angular.element(n);o(t,e,i,i.data("dragData"))}})),e.on("drop",(function(t){if(t.preventDefault(),angular.isFunction(a)){var n=(t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),i=angular.element(document.getElementById(n));a(t,e,i,i.data("dragData"))}}))}}}))}(),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=c.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,d=u.revokeObjectURL,f=u,p=t.btoa,m=t.atob,g=t.ArrayBuffer,v=t.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;l--;)s.prototype[c[l]]=l+1;return u.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(b),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof g||t instanceof v)){for(var r="",o=new v(t),c=0,l=o.length;c<l;c++)r+=String.fromCharCode(o[c]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&m?n.push(m(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var i=n&&n.type||"",r=new e;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t,e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof exports?e():(e(),t.FileSaver={})}(this,(function(){"use strict";function t(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){o(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function e(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(r,o,a){var s=i.URL||i.webkitURL,c=document.createElement("a");o=o||r.name||"download",c.download=o,c.rel="noopener","string"==typeof r?(c.href=r,c.origin===location.origin?n(c):e(c.href)?t(r,o,a):n(c,c.target="_blank")):(c.href=s.createObjectURL(r),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){n(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(i,r,o){if(r=r||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(i,o),r);else if(e(i))t(i,r,o);else{var a=document.createElement("a");a.href=i,a.target="_blank",setTimeout((function(){n(a)}))}}:function(e,n,o,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},u.readAsDataURL(e)}else{var h=i.URL||i.webkitURL,d=h.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});i.saveAs=o.saveAs=o,"undefined"!=typeof module&&(module.exports=o)})),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";t.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(t,e){"use strict";t.exports=function(t,e,n){return{saveAs:function(t,i,r){return n.isBlobInstance(t)||n.handleErrors("Data argument should be a blob instance"),n.isString(i)||n.handleErrors("Filename argument should be a string"),function(t,i,r){try{e(t,i,r)}catch(t){n.handleErrors(t.message)}}(t,i,r)}}}},function(t,e){"use strict";t.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return void 0===t},isBlobInstance:function(t){return t instanceof Blob}}}},function(t,e,n){"use strict";n(4),t.exports=function(t){return t.Blob}},function(t,e){
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=c.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,d=u.revokeObjectURL,f=u,p=t.btoa,m=t.atob,g=t.ArrayBuffer,v=t.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;l--;)s.prototype[c[l]]=l+1;return u.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(b),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof g||t instanceof v)){for(var r="",o=new v(t),c=0,l=o.length;c<l;c++)r+=String.fromCharCode(o[c]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&m?n.push(m(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var i=n&&n.type||"",r=new e;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e,n){"use strict";t.exports=function(){return n(6).saveAs||function(){}}},function(t,e,n){var i,r=r||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},c=function(t){setTimeout((function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}),4e4)},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},u=function(e,u,h){h||(e=l(e));var d,f=this,p="application/octet-stream"===e.type,m=function(){!function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,t)}catch(t){s(t)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,r)return d=n().createObjectURL(e),void setTimeout((function(){var t,e;i.href=d,i.download=u,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),m(),c(d),f.readyState=f.DONE}));!function(){if((a||p&&o)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,m()},i.readAsDataURL(e),void(f.readyState=f.INIT)}d||(d=n().createObjectURL(e)),p?t.location.href=d:t.open(d,"_blank")||(t.location.href=d),f.readyState=f.DONE,m(),c(d)}()},h=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,n){return new u(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==t&&t.exports?t.exports.saveAs=r:null!==n(7)&&null!==n(8)&&(void 0===(i=function(){return r}.call(e,n,e,t))||(t.exports=i))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}])}));
/*! @license Firebase v3.9.0
Build: rev-cc77c9e
Terms: https://firebase.google.com/terms/

---

typedarray.js
Copyright (c) 2010, Linden Research, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE. */
var firebase=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=void 0;if(void 0!==t)i=t;else if("undefined"!=typeof self)i=self;else try{i=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=i.Promise||n(8);e.local={Promise:r,GoogPromise:r}}).call(e,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(0,n(5).createFirebaseNamespace)();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=i(t[n],e[n]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=function(t){return i(void 0,t)},e.deepExtend=i,e.patchProperty=function(t,e,n){t[e]=n}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.patchCapture=function(t){var e=o;return o=t,e};var o=Error.captureStackTrace,a=function t(e,n){if(i(this,t),this.code=e,this.message=n,o)o(this,s.prototype.create);else{var r=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return r.stack}})}};(a.prototype=Object.create(Error.prototype)).constructor=a,a.prototype.name="FirebaseError";var s=e.ErrorFactory=function(){function t(e,n,r){i(this,t),this.service=e,this.serviceName=n,this.errors=r,this.pattern=/\{\$([^}]+)}/g}return r(t,[{key:"create",value:function(t,e){void 0===e&&(e={});var n=this.errors[t],i=this.service+"/"+t,r=void 0;r=void 0===n?"Error":n.replace(this.pattern,(function(t,n){var i=e[n];return void 0!==i?i.toString():"<"+n+"?>"})),r=this.serviceName+": "+r+" ("+i+").";var o=new a(i,r);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=e[s]);return o}}]),t}()},function(t,e,n){"use strict";function i(t,e){throw d.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.createFirebaseNamespace=function t(){function e(t){var e=d[t=t||u];return void 0===e&&i("no-app",{name:t}),e}function n(t,e){Object.keys(f).forEach((function(n){var i=r(t,n);null!==i&&p[i]&&p[i](e,t)}))}function r(t,e){if("serverAuth"===e)return null;var n=e,r=t.options;return"auth"===e&&(r.serviceAccount||r.credential)&&(n="serverAuth","serverAuth"in f||i("sa-not-supported")),n}var d={},f={},p={},m={__esModule:!0,initializeApp:function(t,e){void 0===e?e=u:"string"==typeof e&&""!==e||i("bad-app-name",{name:e+""}),void 0!==d[e]&&i("duplicate-app",{name:e});var r=new h(t,e,m);return d[e]=r,n(r,"create"),null!=r.INTERNAL&&null!=r.INTERNAL.getToken||(0,o.deepExtend)(r,{INTERNAL:{getUid:function(){return null},getToken:function(){return l.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),r},app:e,apps:null,Promise:l,SDK_VERSION:"3.9.0",INTERNAL:{registerService:function(t,n,r,a,s){var c;return f[t]&&i("duplicate-service",{name:t}),f[t]=s?n:function(t,e){return n(t,e,u)},a&&(p[t]=a),c=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&i("invalid-app-argument",{name:t}),n[t]()},void 0!==r&&(0,o.deepExtend)(c,r),m[t]=c,c},createFirebaseNamespace:t,extendNamespace:function(t){(0,o.deepExtend)(m,t)},createSubscribe:a.createSubscribe,ErrorFactory:s.ErrorFactory,removeApp:function(t){n(d[t],"delete"),delete d[t]},factories:f,useAsService:r,Promise:c.local.GoogPromise,deepExtend:o.deepExtend}};return(0,o.patchProperty)(m,"default",m),Object.defineProperty(m,"apps",{get:function(){return Object.keys(d).map((function(t){return d[t]}))}}),(0,o.patchProperty)(e,"App",h),m};var o=n(3),a=n(6),s=n(4),c=n(0),l=c.local.Promise,u="[DEFAULT]",h=function(){function t(e,n,i){var r=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=n,this.options_=(0,o.deepCopy)(e);var a="credential"in this.options_,s="serviceAccount"in this.options_;if(a||s){var c=s?"serviceAccount":"credential";"undefined"!=typeof console&&console.log("The '"+c+"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started.")}Object.keys(i.INTERNAL.factories).forEach((function(t){var e=i.INTERNAL.useAsService(r,t);if(null!==e){var n=r.getService.bind(r,e);(0,o.patchProperty)(r,t,n)}}))}return r(t,[{key:"delete",value:function(){var t=this;return new l((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach((function(n){Object.keys(t.services_[n]).forEach((function(i){e.push(t.services_[n][i])}))})),l.all(e.map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))}},{key:"getService",value:function(t,e){this.checkDestroyed_(),void 0===this.services_[t]&&(this.services_[t]={});var n=e||u;if(void 0===this.services_[t][n]){var i=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),e);return this.services_[t][n]=i,i}return this.services_[t][n]}},{key:"extendApp",value:function(t){(0,o.deepExtend)(this,t)}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&i("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new s.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.createSubscribe=function(t,e){var n=new s(t,e);return n.subscribe.bind(n)},e.async=function(t,e){return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];a.resolve(!0).then((function(){t.apply(void 0,i)})).catch((function(t){e&&e(t)}))}};var a=n(0).local.Promise,s=function(){function t(e,n){var i=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=a.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){e(i)})).catch((function(t){i.error(t)}))}return o(t,[{key:"next",value:function(t){this.forEachObserver((function(e){e.next(t)}))}},{key:"error",value:function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)}},{key:"complete",value:function(){this.forEachObserver((function(t){t.complete()})),this.close()}},{key:"subscribe",value:function(t,e,n){var o=this,a=void 0;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");a=function(t,e){if("object"!==(void 0===t?"undefined":r(t))||null===t)return!1;var n=!0,i=!1,o=void 0;try{for(var a,s=["next","error","complete"][Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(c in t&&"function"==typeof t[c])return!0}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return!1}(t)?t:{next:t,error:e,complete:n},void 0===a.next&&(a.next=i),void 0===a.error&&(a.error=i),void 0===a.complete&&(a.complete=i);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?a.error(o.finalError):a.complete()}catch(t){}})),this.observers.push(a),s}},{key:"unsubscribeOne",value:function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)}},{key:"sendOne",value:function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}},{key:"close",value:function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))}}]),t}()},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){p&&d&&(p=!1,d.length?f=d.concat(f):m=-1,f.length&&a())}function a(){if(!p){var t=r(o);p=!0;for(var e=f.length;e;){for(d=f,f=[];++m<e;)d&&d[m].run();m=-1,e=f.length}d=null,p=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,u,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var d,f=[],p=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||p||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){(function(e){!function(n){function i(){}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,r._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void s(e.promise,t)}a(e.promise,i)}else(1===t._state?a:s)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void u(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&r._immediateFn((function(){t._handled||r._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function u(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,s(e,t))}))}catch(t){if(n)return;n=!0,s(e,t)}}var h=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return o(this,new l(t,e,n)),n},r.all=function(t){var e=Array.prototype.slice.call(t);return new r((function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(o,t)}),n)}e[o]=a,0==--r&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)}))},r._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){h(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=r:n.Promise||(n.Promise=r)}(this)}).call(e,n(10).setImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){delete s[t]}function r(t){if(c)setTimeout(r,0,t);else{var e=s[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(undefined,n)}}(e)}finally{i(t),c=!1}}}}if(!t.setImmediate){var o,a=1,s={},c=!1,l=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){r(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&r(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){r(t.data)},o=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;o=function(e){var n=l.createElement("script");n.onreadystatechange=function(){r(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(r,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return s[a]=i,o(a),a++},u.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(1),n(7))},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(9),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){t.exports=n(2)}]);(function(){var t,e=e||{},n=this,i=function(){},r=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},o=function(t){return null===t},a=function(t){return"array"==r(t)},s=function(t){var e=r(t);return"array"==e||"object"==e&&"number"==typeof t.length},c=function(t){return"string"==typeof t},l=function(t){return"number"==typeof t},u=function(t){return"function"==r(t)},h=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},d=function(t,e,n){return t.call.apply(t.bind,arguments)},f=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},p=function(t,e,n){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:f).apply(null,arguments)},m=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},g=Date.now||function(){return+new Date},v=function(t,e){function n(){}n.prototype=e.prototype,t.xd=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Tf=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}},b=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};v(b,Error),b.prototype.name="CustomError";var y=function(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},w=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},E=/&/g,C=/</g,$=/>/g,A=/"/g,x=/'/g,k=/\x00/g,S=/[\x00&<>"']/,T=function(t,e){return-1!=t.indexOf(e)},_=function(t,e){return t<e?-1:t>e?1:0},M=function(t,e){e.unshift(t),b.call(this,y.apply(null,e)),e.shift()};v(M,b),M.prototype.name="AssertionError";var F,D=function(t,e,n,i){var r="Assertion failed";if(n){r=r+": "+n;var o=i}else t&&(r+=": "+t,o=e);throw new M(""+r,o||[])},R=function(t,e,n){t||D("",null,e,Array.prototype.slice.call(arguments,2))},O=function(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},L=function(t,e,n){return l(t)||D("Expected number but got %s: %s.",[r(t),t],e,Array.prototype.slice.call(arguments,2)),t},I=function(t,e,n){u(t)||D("Expected function but got %s: %s.",[r(t),t],e,Array.prototype.slice.call(arguments,2))},N=Array.prototype.indexOf?function(t,e,n){return R(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,c(t))return c(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){R(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=c(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},P=Array.prototype.map?function(t,e,n){return R(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=Array(i),o=c(t)?t.split(""):t,a=0;a<i;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},H=Array.prototype.some?function(t,e,n){return R(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=c(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&e.call(n,r[o],o,t))return!0;return!1},j=function(t,e){return 0<=N(t,e)},U=function(t,e){var n;return(n=0<=(e=N(t,e)))&&W(t,e),n},W=function(t,e){return R(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},V=function(t,e){!function(t,e){for(var n=c(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&W(t,i)}))},z=function(t){return Array.prototype.concat.apply([],arguments)},q=function(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]};t:{var Y=n.navigator;if(Y){var K=Y.userAgent;if(K){F=K;break t}}F=""}var G=function(t){return T(F,t)},X=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},Q=function(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n},J=function(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n},Z=function(t){for(var e in t)return!1;return!0},tt=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},et=function(t){var e,n={};for(e in t)n[e]=t[e];return n},nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),it=function(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<nt.length;o++)n=nt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}},rt=function(t){return rt[" "](t),t};rt[" "]=i;var ot,at,st=G("Opera"),ct=G("Trident")||G("MSIE"),lt=G("Edge"),ut=lt||ct,ht=G("Gecko")&&!(T(F.toLowerCase(),"webkit")&&!G("Edge"))&&!(G("Trident")||G("MSIE"))&&!G("Edge"),dt=T(F.toLowerCase(),"webkit")&&!G("Edge"),ft=function(){var t=n.document;return t?t.documentMode:void 0};t:{var pt="",mt=(at=F,ht?/rv\:([^\);]+)(\)|;)/.exec(at):lt?/Edge\/([\d\.]+)/.exec(at):ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(at):dt?/WebKit\/(\S+)/.exec(at):st?/(?:Version)[ \/]?(\S+)/.exec(at):void 0);if(mt&&(pt=mt?mt[1]:""),ct){var gt=ft();if(null!=gt&&gt>parseFloat(pt)){ot=String(gt);break t}}ot=pt}var vt,bt=ot,yt={},wt=function(t){return function(t,e){var n=yt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=w(String(bt)).split("."),i=w(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=_(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||_(0==a[2].length,0==s[2].length)||_(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))},Et=n.document;vt=Et&&ct?ft()||("CSS1Compat"==Et.compatMode?parseInt(bt,10):5):void 0;var Ct,$t=null,At=null,xt=function(){if(!$t){$t={},At={};for(var t=0;65>t;t++)$t[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),At[$t[t]]=t,62<=t&&(At["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},kt=function(t,e){this.Da=64,this.ec=n.Uint8Array?new Uint8Array(this.Da):Array(this.Da),this.Fc=this.hb=0,this.h=[],this.lf=t,this.Wd=e,this.Mf=n.Int32Array?new Int32Array(64):Array(64),void 0!==Ct||(Ct=n.Int32Array?new Int32Array(Ft):Ft),this.reset()};v(kt,(function(){this.Da=-1}));for(var St=[],Tt=0;63>Tt;Tt++)St[Tt]=0;var _t=z(128,St);kt.prototype.reset=function(){this.Fc=this.hb=0,this.h=n.Int32Array?new Int32Array(this.Wd):q(this.Wd)};var Mt=function(t){var e=t.ec;R(e.length==t.Da);for(var n=t.Mf,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.h[0],r=0|t.h[1];var s=0|t.h[2],c=0|t.h[3],l=0|t.h[4],u=0|t.h[5],h=0|t.h[6];for(o=0|t.h[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&u^~l&h)+(0|Ct[e])|0)+(0|n[e])|0)|0,o=h,h=u,u=l,l=c+a|0,c=s,s=r,r=i,i=a+d|0}t.h[0]=t.h[0]+i|0,t.h[1]=t.h[1]+r|0,t.h[2]=t.h[2]+s|0,t.h[3]=t.h[3]+c|0,t.h[4]=t.h[4]+l|0,t.h[5]=t.h[5]+u|0,t.h[6]=t.h[6]+h|0,t.h[7]=t.h[7]+o|0};kt.prototype.update=function(t,e){void 0===e&&(e=t.length);var n=0,i=this.hb;if(c(t))for(;n<e;)this.ec[i++]=t.charCodeAt(n++),i==this.Da&&(Mt(this),i=0);else{if(!s(t))throw Error("message must be string or array");for(;n<e;){var r=t[n++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");this.ec[i++]=r,i==this.Da&&(Mt(this),i=0)}}this.hb=i,this.Fc+=e},kt.prototype.digest=function(){var t=[],e=8*this.Fc;56>this.hb?this.update(_t,56-this.hb):this.update(_t,this.Da-(this.hb-56));for(var n=63;56<=n;n--)this.ec[n]=255&e,e/=256;for(Mt(this),n=e=0;n<this.lf;n++)for(var i=24;0<=i;i-=8)t[e++]=this.h[n]>>i&255;return t};var Ft=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Dt=function(){kt.call(this,8,Rt)};v(Dt,kt);var Rt=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Ot=function(){this.Ga=this.Ga,this.tc=this.tc};Ot.prototype.Ga=!1,Ot.prototype.isDisposed=function(){return this.Ga},Ot.prototype.cb=function(){if(this.tc)for(;this.tc.length;)this.tc.shift()()};var Lt=!ct||9<=Number(vt),It=ct&&!wt("9");!dt||wt("528"),ht&&wt("1.9b")||ct&&wt("8")||st&&wt("9.5")||dt&&wt("528"),ht&&!wt("8")||ct&&wt("9");var Nt=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.nb=!1,this.ee=!0};Nt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.ee=!1};var Bt=function(t,e){Nt.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.eb=this.state=null,t&&this.init(t,e)};v(Bt,Nt),Bt.prototype.init=function(t,e){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(ht){var r;t:{try{rt(e.nodeName),r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.offsetX=dt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=dt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.eb=t,t.defaultPrevented&&this.preventDefault()},Bt.prototype.preventDefault=function(){Bt.xd.preventDefault.call(this);var t=this.eb;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,It)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Bt.prototype.Pe=function(){return this.eb};var Pt="closure_listenable_"+(1e6*Math.random()|0),Ht=0,jt=function(t,e,n,i,r){this.listener=t,this.xc=null,this.src=e,this.type=n,this.capture=!!i,this.kc=r,this.key=++Ht,this.rb=this.dc=!1},Ut=function(t){t.rb=!0,t.listener=null,t.xc=null,t.src=null,t.kc=null},Wt=function(t){this.src=t,this.G={},this.$b=0};Wt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.G[o])||(t=this.G[o]=[],this.$b++);var a=zt(t,e,i,r);return-1<a?(e=t[a],n||(e.dc=!1)):((e=new jt(e,this.src,o,!!i,r)).dc=n,t.push(e)),e},Wt.prototype.remove=function(t,e,n,i){if(!((t=t.toString())in this.G))return!1;var r=this.G[t];return-1<(e=zt(r,e,n,i))&&(Ut(r[e]),W(r,e),0==r.length&&(delete this.G[t],this.$b--),!0)};var Vt=function(t,e){var n=e.type;n in t.G&&U(t.G[n],e)&&(Ut(e),0==t.G[n].length&&(delete t.G[n],t.$b--))};Wt.prototype.Uc=function(t,e,n,i){var r=-1;return(t=this.G[t.toString()])&&(r=zt(t,e,n,i)),-1<r?t[r]:null};var zt=function(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.rb&&o.listener==e&&o.capture==!!n&&o.kc==i)return r}return-1},qt="closure_lm_"+(1e6*Math.random()|0),Yt={},Kt=function(t,e,n,i,r){if(a(e))for(var o=0;o<e.length;o++)Kt(t,e[o],n,i,r);else n=ae(n),t&&t[Pt]?t.listen(e,n,i,r):Gt(t,e,n,!1,i,r)},Gt=function(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=!!r,s=re(t);if(s||(t[qt]=s=new Wt(t)),!(n=s.add(e,n,i,r,o)).xc)if(i=Xt(),n.xc=i,i.src=t,i.listener=n,t.addEventListener)t.addEventListener(e.toString(),i,a);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(te(e.toString()),i)}},Xt=function(){var t=ie,e=Lt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e},Qt=function(t,e,n,i,r){if(a(e))for(var o=0;o<e.length;o++)Qt(t,e[o],n,i,r);else n=ae(n),t&&t[Pt]?ei(t,e,n,i,r):Gt(t,e,n,!0,i,r)},Jt=function(t,e,n,i,r){if(a(e))for(var o=0;o<e.length;o++)Jt(t,e[o],n,i,r);else n=ae(n),t&&t[Pt]?t.fa.remove(String(e),n,i,r):t&&(t=re(t))&&(e=t.Uc(e,n,!!i,r))&&Zt(e)},Zt=function(t){if(!l(t)&&t&&!t.rb){var e=t.src;if(e&&e[Pt])Vt(e.fa,t);else{var n=t.type,i=t.xc;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent&&e.detachEvent(te(n),i),(n=re(e))?(Vt(n,t),0==n.$b&&(n.src=null,e[qt]=null)):Ut(t)}}},te=function(t){return t in Yt?Yt[t]:Yt[t]="on"+t},ee=function(t,e,n,i){var r=!0;if((t=re(t))&&(e=t.G[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.rb&&(o=ne(o,i),r=r&&!1!==o)}return r},ne=function(t,e){var n=t.listener,i=t.kc||t.src;return t.dc&&Zt(t),n.call(i,e)},ie=function(t,e){if(t.rb)return!0;if(!Lt){if(!e)t:{e=["window","event"];for(var i,r=n;i=e.shift();){if(null==r[i]){e=null;break t}r=r[i]}e=r}if(e=new Bt(i=e,this),r=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.currentTarget;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;!e.nb&&0<=o;o--){e.currentTarget=i[o];var a=ee(i[o],t,!0,e);r=r&&a}for(o=0;!e.nb&&o<i.length;o++)e.currentTarget=i[o],a=ee(i[o],t,!1,e),r=r&&a}return r}return ne(t,new Bt(e,this))},re=function(t){return(t=t[qt])instanceof Wt?t:null},oe="__closure_events_fn_"+(1e9*Math.random()>>>0),ae=function(t){return R(t,"Listener can not be null."),u(t)?t:(R(t.handleEvent,"An object listener must have handleEvent method."),t[oe]||(t[oe]=function(e){return t.handleEvent(e)}),t[oe])},se=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,ce=function(){this.Cc="",this.we=ue};ce.prototype.Eb=!0,ce.prototype.Bb=function(){return this.Cc},ce.prototype.toString=function(){return"Const{"+this.Cc+"}"};var le=function(t){return t instanceof ce&&t.constructor===ce&&t.we===ue?t.Cc:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")},ue={},he=function(t){var e=new ce;return e.Cc=t,e};he("");var de=function(){this.wc="",this.xe=fe};de.prototype.Eb=!0,de.prototype.Bb=function(){return this.wc},de.prototype.toString=function(){return"TrustedResourceUrl{"+this.wc+"}"};var fe={},pe=function(){this.pa="",this.ve=be};pe.prototype.Eb=!0,pe.prototype.Bb=function(){return this.pa},pe.prototype.toString=function(){return"SafeUrl{"+this.pa+"}"};var me=function(t){return t instanceof pe&&t.constructor===pe&&t.ve===be?t.pa:(O("expected object of type SafeUrl, got '"+t+"' of type "+r(t)),"type_error:SafeUrl")},ge=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,ve=function(t){return t instanceof pe?t:(t=t.Eb?t.Bb():String(t),ge.test(t)||(t="about:invalid#zClosurez"),ye(t))},be={},ye=function(t){var e=new pe;return e.pa=t,e};ye("about:blank");var we=function(t){var e=[];return Ce(new Ee,t,e),e.join("")},Ee=function(){this.yc=void 0},Ce=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),r=i[o],Ce(t,t.yc?t.yc.call(i,String(o),r):r,n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),o="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(r=e[i])&&(n.push(o),xe(i,n),n.push(":"),Ce(t,t.yc?t.yc.call(e,i,r):r,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":xe(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},$e={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ae=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,xe=function(t,e){e.push('"',t.replace(Ae,(function(t){var e=$e[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),$e[t]=e),e})),'"')},ke=function(){};ke.prototype.Dd=null;var Se,Te=function(t){return t.Dd||(t.Dd=t.$c())},_e=function(){};v(_e,ke),_e.prototype.fc=function(){var t=Me(this);return t?new ActiveXObject(t):new XMLHttpRequest},_e.prototype.$c=function(){var t={};return Me(this)&&(t[0]=!0,t[1]=!0),t};var Me=function(t){if(!t.Vd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.Vd=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.Vd};Se=new _e;var Fe=function(){};v(Fe,ke),Fe.prototype.fc=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new De;throw Error("Unsupported browser")},Fe.prototype.$c=function(){return{}};var De=function(){this.ua=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.ua.onload=p(this.Re,this),this.ua.onerror=p(this.Sd,this),this.ua.onprogress=p(this.Se,this),this.ua.ontimeout=p(this.Te,this)};(t=De.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.ua.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.ua.send(t)}else this.ua.send()},t.abort=function(){this.ua.abort()},t.setRequestHeader=function(){},t.Re=function(){this.status=200,this.responseText=this.ua.responseText,Re(this,4)},t.Sd=function(){this.status=500,this.responseText="",Re(this,4)},t.Te=function(){this.Sd()},t.Se=function(){this.status=200,Re(this,1)};var Re=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()},Oe=function(t,e,n){this.ef=n,this.Fe=t,this.wf=e,this.sc=0,this.lc=null};Oe.prototype.get=function(){var t;return 0<this.sc?(this.sc--,t=this.lc,this.lc=t.next,t.next=null):t=this.Fe(),t},Oe.prototype.put=function(t){this.wf(t),this.sc<this.ef&&(this.sc++,t.next=this.lc,this.lc=t)};var Le,Ie=function(t){n.setTimeout((function(){throw t}),0)},Ne=function(){this.Jc=this.Za=null},Be=new Oe((function(){return new Pe}),(function(t){t.reset()}),100);Ne.prototype.add=function(t,e){var n=Be.get();n.set(t,e),this.Jc?this.Jc.next=n:(R(!this.Za),this.Za=n),this.Jc=n},Ne.prototype.remove=function(){var t=null;return this.Za&&(t=this.Za,this.Za=this.Za.next,this.Za||(this.Jc=null),t.next=null),t};var Pe=function(){this.next=this.scope=this.Tc=null};Pe.prototype.set=function(t,e){this.Tc=t,this.scope=e,this.next=null},Pe.prototype.reset=function(){this.next=this.scope=this.Tc=null};var He,je=function(t,e){He||Ue(),We||(He(),We=!0),Ve.add(t,e)},Ue=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var t=n.Promise.resolve(void 0);He=function(){t.then(ze)}}else He=function(){var t=ze;!u(n.setImmediate)||n.Window&&n.Window.prototype&&!G("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(Le||(Le=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!G("Presto")&&(t=function(){(i=document.createElement("IFRAME")).style.display="none",i.src="",document.documentElement.appendChild(i);var t=i.contentWindow;(i=t.document).open(),i.write(""),i.close();var e="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,i=p((function(t){"*"!=n&&t.origin!=n||t.data!=e||this.port1.onmessage()}),this);t.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(e,n)}}}),void 0!==t&&!G("Trident")&&!G("MSIE")){var e=new t,i={},r=i;return e.port1.onmessage=function(){if(void 0!==i.next){var t=(i=i.next).Gd;i.Gd=null,t()}},function(t){r.next={Gd:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),Le(t)):n.setImmediate(t)}},We=!1,Ve=new Ne,ze=function(){for(var t;t=Ve.remove();){try{t.Tc.call(t.scope)}catch(t){Ie(t)}Be.put(t)}We=!1};!ht&&!ct||ct&&9<=Number(vt)||ht&&wt("1.9.1"),ct&&wt("9");var qe=function(){this.pa="",this.ue=Ye};qe.prototype.Eb=!0,qe.prototype.Bb=function(){return this.pa},qe.prototype.toString=function(){return"SafeHtml{"+this.pa+"}"};var Ye={};qe.prototype.$e=function(t){return this.pa=t,this};var Ke={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ge=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},Xe=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},Qe=function(t,e){if(this.N=0,this.ra=void 0,this.bb=this.na=this.s=null,this.jc=this.Sc=!1,t!=i)try{var n=this;t.call(e,(function(t){ln(n,2,t)}),(function(t){if(!(t instanceof bn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ln(n,3,t)}))}catch(t){ln(this,3,t)}},Je=function(){this.next=this.context=this.jb=this.Oa=this.child=null,this.xb=!1};Je.prototype.reset=function(){this.context=this.jb=this.Oa=this.child=null,this.xb=!1};var Ze=new Oe((function(){return new Je}),(function(t){t.reset()}),100),tn=function(t,e,n){var i=Ze.get();return i.Oa=t,i.jb=e,i.context=n,i},en=function(t){if(t instanceof Qe)return t;var e=new Qe(i);return ln(e,2,t),e},nn=function(t){return new Qe((function(e,n){n(t)}))},rn=function(t,e,n){un(t,e,n,null)||je(m(e,t))};Qe.prototype.then=function(t,e,n){return null!=t&&I(t,"opt_onFulfilled should be a function."),null!=e&&I(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),cn(this,u(t)?t:null,u(e)?e:null,n)},Ge(Qe);var on=function(t,e){return(e=tn(e,e,void 0)).xb=!0,sn(t,e),t};Qe.prototype.f=function(t,e){return cn(this,null,t,e)},Qe.prototype.cancel=function(t){0==this.N&&je((function(){var e=new bn(t);an(this,e)}),this)};var an=function(t,e){if(0==t.N)if(t.s){var n=t.s;if(n.na){for(var i=0,r=null,o=null,a=n.na;a&&(a.xb||(i++,a.child==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(0==n.N&&1==i?an(n,e):(o?(i=o,R(n.na),R(null!=i),i.next==n.bb&&(n.bb=i),i.next=i.next.next):fn(n),pn(n,r,3,e)))}t.s=null}else ln(t,3,e)},sn=function(t,e){t.na||2!=t.N&&3!=t.N||dn(t),R(null!=e.Oa),t.bb?t.bb.next=e:t.na=e,t.bb=e},cn=function(t,e,n,i){var r=tn(null,null,null);return r.child=new Qe((function(t,o){r.Oa=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.jb=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof bn?o(e):t(r)}catch(t){o(t)}}:o})),r.child.s=t,sn(t,r),r.child};Qe.prototype.Jf=function(t){R(1==this.N),this.N=0,ln(this,2,t)},Qe.prototype.Kf=function(t){R(1==this.N),this.N=0,ln(this,3,t)};var ln=function(t,e,n){0==t.N&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.N=1,un(n,t.Jf,t.Kf,t)||(t.ra=n,t.N=e,t.s=null,dn(t),3!=e||n instanceof bn||gn(t,n)))},un=function(t,e,n,r){if(t instanceof Qe)return null!=e&&I(e,"opt_onFulfilled should be a function."),null!=n&&I(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),sn(t,tn(e||i,n||null,r)),!0;if(Xe(t))return t.then(e,n,r),!0;if(h(t))try{var o=t.then;if(u(o))return hn(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1},hn=function(t,e,n,i,r){var o=!1,a=function(t){o||(o=!0,i.call(r,t))};try{e.call(t,(function(t){o||(o=!0,n.call(r,t))}),a)}catch(t){a(t)}},dn=function(t){t.Sc||(t.Sc=!0,je(t.Je,t))},fn=function(t){var e=null;return t.na&&(e=t.na,t.na=e.next,e.next=null),t.na||(t.bb=null),null!=e&&R(null!=e.Oa),e};Qe.prototype.Je=function(){for(var t;t=fn(this);)pn(this,t,this.N,this.ra);this.Sc=!1};var pn=function(t,e,n,i){if(3==n&&e.jb&&!e.xb)for(;t&&t.jc;t=t.s)t.jc=!1;if(e.child)e.child.s=null,mn(e,n,i);else try{e.xb?e.Oa.call(e.context):mn(e,n,i)}catch(t){vn.call(null,t)}Ze.put(e)},mn=function(t,e,n){2==e?t.Oa.call(t.context,n):t.jb&&t.jb.call(t.context,n)},gn=function(t,e){t.jc=!0,je((function(){t.jc&&vn.call(null,e)}))},vn=Ie,bn=function(t){b.call(this,t)};v(bn,b),bn.prototype.name="cancel";var yn=function(t,e){this.zc=[],this.$d=t,this.Jd=e||null,this.Cb=this.fb=!1,this.ra=void 0,this.ud=this.Cd=this.Nc=!1,this.Gc=0,this.s=null,this.Oc=0};yn.prototype.cancel=function(t){if(this.fb)this.ra instanceof yn&&this.ra.cancel();else{if(this.s){var e=this.s;delete this.s,t?e.cancel(t):(e.Oc--,0>=e.Oc&&e.cancel())}this.$d?this.$d.call(this.Jd,this):this.ud=!0,this.fb||Cn(this,new Tn)}},yn.prototype.Hd=function(t,e){this.Nc=!1,wn(this,t,e)};var wn=function(t,e,n){t.fb=!0,t.ra=n,t.Cb=!e,kn(t)},En=function(t){if(t.fb){if(!t.ud)throw new Sn;t.ud=!1}};yn.prototype.callback=function(t){En(this),$n(t),wn(this,!0,t)};var Cn=function(t,e){En(t),$n(e),wn(t,!1,e)},$n=function(t){R(!(t instanceof yn),"An execution sequence may not be initiated with a blocking Deferred.")},An=function(t,e,n,i){R(!t.Cd,"Blocking Deferreds can not be re-used"),t.zc.push([e,n,i]),t.fb&&kn(t)};yn.prototype.then=function(t,e,n){var i,r,o=new Qe((function(t,e){i=t,r=e}));return An(this,i,(function(t){t instanceof Tn?o.cancel():r(t)})),o.then(t,e,n)},Ge(yn);var xn=function(t){return H(t.zc,(function(t){return u(t[1])}))},kn=function(t){if(t.Gc&&t.fb&&xn(t)){var e=t.Gc,i=Mn[e];i&&(n.clearTimeout(i.Db),delete Mn[e]),t.Gc=0}t.s&&(t.s.Oc--,delete t.s),e=t.ra;for(var r=i=!1;t.zc.length&&!t.Nc;){var o=(s=t.zc.shift())[0],a=s[1],s=s[2];if(o=t.Cb?a:o)try{var c=o.call(s||t.Jd,e);void 0!==c&&(t.Cb=t.Cb&&(c==e||c instanceof Error),t.ra=e=c),(Xe(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(r=!0,t.Nc=!0)}catch(n){e=n,t.Cb=!0,xn(t)||(i=!0)}}t.ra=e,r&&(c=p(t.Hd,t,!0),r=p(t.Hd,t,!1),e instanceof yn?(An(e,c,r),e.Cd=!0):e.then(c,r)),i&&(e=new _n(e),Mn[e.Db]=e,t.Gc=e.Db)},Sn=function(){b.call(this)};v(Sn,b),Sn.prototype.message="Deferred has already fired",Sn.prototype.name="AlreadyCalledError";var Tn=function(){b.call(this)};v(Tn,b),Tn.prototype.message="Deferred was canceled",Tn.prototype.name="CanceledError";var _n=function(t){this.Db=n.setTimeout(p(this.If,this),0),this.P=t};_n.prototype.If=function(){throw R(Mn[this.Db],"Cannot throw an error that is not scheduled."),delete Mn[this.Db],this.P};var Mn={},Fn=function(t){var e=new de;return e.wc=t,Dn(e)},Dn=function(t){var e,n={},i=n.document||document;t instanceof de&&t.constructor===de&&t.xe===fe?e=t.wc:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+r(t)),e="type_error:TrustedResourceUrl");var o=document.createElement("SCRIPT"),a=new yn(On,t={fe:o,Zb:void 0}),s=null,c=null!=n.timeout?n.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ln(o,!0),Cn(a,new In(1,"Timeout reached for loading script "+e))}),c),t.Zb=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Ln(o,n.Uf||!1,s),a.callback(null))},o.onerror=function(){Ln(o,!0,s),Cn(a,new In(0,"Error while loading script "+e))},it(t=n.attributes||{},{type:"text/javascript",charset:"UTF-8",src:e}),function(t,e){X(e,(function(e,n){e&&e.Eb&&(e=e.Bb()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ke.hasOwnProperty(n)?t.setAttribute(Ke[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(o,t),Rn(i).appendChild(o),a},Rn=function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement},On=function(){if(this&&this.fe){var t=this.fe;t&&"SCRIPT"==t.tagName&&Ln(t,!0,this.Zb)}},Ln=function(t,e,r){null!=r&&n.clearTimeout(r),t.onload=i,t.onerror=i,t.onreadystatechange=i,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)},In=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),b.call(this,n),this.code=t};v(In,b);var Nn="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},Bn=function(){};Bn.prototype.next=function(){throw Nn},Bn.prototype.ye=function(){return this};var Pn=function(t,e){this.ga={},this.w=[],this.wb=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else t&&this.addAll(t)};Pn.prototype.Z=function(){Hn(this);for(var t=[],e=0;e<this.w.length;e++)t.push(this.ga[this.w[e]]);return t},Pn.prototype.oa=function(){return Hn(this),this.w.concat()},Pn.prototype.yb=function(t){return jn(this.ga,t)},Pn.prototype.remove=function(t){return!!jn(this.ga,t)&&(delete this.ga[t],this.o--,this.wb++,this.w.length>2*this.o&&Hn(this),!0)};var Hn=function(t){if(t.o!=t.w.length){for(var e=0,n=0;e<t.w.length;){var i=t.w[e];jn(t.ga,i)&&(t.w[n++]=i),e++}t.w.length=n}if(t.o!=t.w.length){var r={};for(n=e=0;e<t.w.length;)i=t.w[e],jn(r,i)||(t.w[n++]=i,r[i]=1),e++;t.w.length=n}};(t=Pn.prototype).get=function(t,e){return jn(this.ga,t)?this.ga[t]:e},t.set=function(t,e){jn(this.ga,t)||(this.o++,this.w.push(t),this.wb++),this.ga[t]=e},t.addAll=function(t){var e;t instanceof Pn?(e=t.oa(),t=t.Z()):(e=J(t),t=Q(t));for(var n=0;n<e.length;n++)this.set(e[n],t[n])},t.forEach=function(t,e){for(var n=this.oa(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}},t.clone=function(){return new Pn(this)},t.ye=function(t){Hn(this);var e=0,n=this.wb,i=this,r=new Bn;return r.next=function(){if(n!=i.wb)throw Error("The map has changed since the iterator was created");if(e>=i.w.length)throw Nn;var r=i.w[e++];return t?r:i.ga[r]},r};var jn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Un=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(c(t))return t.split("");if(s(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}return Q(t)},Wn=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.Z||"function"!=typeof t.Z){if(s(t)||c(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}return J(t)}},Vn=function(t,e,n,i,r){this.reset(t,e,n,i,r)};Vn.prototype.Md=null,Vn.prototype.reset=function(t,e,n,i,r){i||g(),this.Ib=t,this.hf=e,delete this.Md},Vn.prototype.ie=function(t){this.Ib=t};var zn=function(t){this.jf=t,this.Td=this.Pc=this.Ib=this.s=null},qn=function(t,e){this.name=t,this.value=e};qn.prototype.toString=function(){return this.name};var Yn=new qn("SEVERE",1e3),Kn=new qn("CONFIG",700),Gn=new qn("FINE",500);zn.prototype.getParent=function(){return this.s},zn.prototype.ie=function(t){this.Ib=t};var Xn=function(t){return t.Ib?t.Ib:t.s?Xn(t.s):(O("Root logger has no level set."),null)};zn.prototype.log=function(t,e,i){if(t.value>=Xn(this).value)for(u(e)&&(e=e()),t=new Vn(t,String(e),this.jf),i&&(t.Md=i),i="log:"+t.hf,n.console&&(n.console.timeStamp?n.console.timeStamp(i):n.console.markTimeline&&n.console.markTimeline(i)),n.msWriteProfilerMark&&n.msWriteProfilerMark(i),i=this;i;){var r=i,o=t;if(r.Td)for(var a=0;e=r.Td[a];a++)e(o);i=i.getParent()}};var Qn={},Jn=null,Zn=function(t){var e;if(Jn||(Jn=new zn(""),Qn[""]=Jn,Jn.ie(Kn)),!(e=Qn[t])){e=new zn(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=Zn(t.substr(0,n))).Pc||(n.Pc={}),n.Pc[i]=e,e.s=n,Qn[t]=e}return e},ti=function(){Ot.call(this),this.fa=new Wt(this),this.ze=this,this.hd=null};v(ti,Ot),ti.prototype[Pt]=!0,(t=ti.prototype).addEventListener=function(t,e,n,i){Kt(this,t,e,n,i)},t.removeEventListener=function(t,e,n,i){Jt(this,t,e,n,i)},t.dispatchEvent=function(t){ii(this);var e,n,i=this.hd;if(i){e=[];for(var r=1;i;i=i.hd)e.push(i),R(1e3>++r,"infinite loop")}if(i=this.ze,r=t.type||t,c(t))t=new Nt(t,i);else if(t instanceof Nt)t.target=t.target||i;else{var o=t;t=new Nt(r,i),it(t,o)}if(o=!0,e)for(var a=e.length-1;!t.nb&&0<=a;a--)n=t.currentTarget=e[a],o=ni(n,r,!0,t)&&o;if(t.nb||(n=t.currentTarget=i,o=ni(n,r,!0,t)&&o,t.nb||(o=ni(n,r,!1,t)&&o)),e)for(a=0;!t.nb&&a<e.length;a++)n=t.currentTarget=e[a],o=ni(n,r,!1,t)&&o;return o},t.cb=function(){if(ti.xd.cb.call(this),this.fa){var t,e=this.fa;for(t in e.G){for(var n=e.G[t],i=0;i<n.length;i++)Ut(n[i]);delete e.G[t],e.$b--}}this.hd=null},t.listen=function(t,e,n,i){return ii(this),this.fa.add(String(t),e,!1,n,i)};var ei=function(t,e,n,i,r){t.fa.add(String(e),n,!0,i,r)},ni=function(t,e,n,i){if(!(e=t.fa.G[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.rb&&a.capture==n){var s=a.listener,c=a.kc||a.src;a.dc&&Vt(t.fa,a),r=!1!==s.call(c,i)&&r}}return r&&0!=i.ee};ti.prototype.Uc=function(t,e,n,i){return this.fa.Uc(String(t),e,n,i)};var ii=function(t){R(t.fa,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},ri=function(t,e){t&&t.log(Gn,e,void 0)},oi=function(t,e,i){if(u(t))i&&(t=p(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=p(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)},ai=function(t){var e=null;return new Qe((function(n,i){-1==(e=oi((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).f((function(t){throw n.clearTimeout(e),t}))},si=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,ci=function(t){ti.call(this),this.headers=new Pn,this.Lc=t||null,this.va=!1,this.Kc=this.b=null,this.Hb=this.Zd=this.qc="",this.Ka=this.Yc=this.oc=this.Rc=!1,this.sb=0,this.Ec=null,this.de="",this.Hc=this.sf=this.te=!1};v(ci,ti);var li=ci.prototype,ui=Zn("goog.net.XhrIo");li.U=ui;var hi=/^https?$/i,di=["POST","PUT"];ci.prototype.send=function(t,e,i,r){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.qc+"; newUri="+t);e=e?e.toUpperCase():"GET",this.qc=t,this.Hb="",this.Zd=e,this.Rc=!1,this.va=!0,this.b=this.Lc?this.Lc.fc():Se.fc(),this.Kc=this.Lc?Te(this.Lc):Te(Se),this.b.onreadystatechange=p(this.be,this),this.sf&&"onprogress"in this.b&&(this.b.onprogress=p((function(t){this.ae(t,!0)}),this),this.b.upload&&(this.b.upload.onprogress=p(this.ae,this)));try{ri(this.U,Ci(this,"Opening Xhr")),this.Yc=!0,this.b.open(e,String(t),!0),this.Yc=!1}catch(t){return ri(this.U,Ci(this,"Error opening Xhr: "+t.message)),void this.P(5,t)}t=i||"";var o=this.headers.clone();r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||c(t))B(t,e,void 0);else for(var n=Wn(t),i=Un(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){var e;t:{e=pi;for(var n=t.length,i=c(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:c(t)?t.charAt(e):t[e]}(o.oa()),i=n.FormData&&t instanceof n.FormData,!j(di,e)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.b.setRequestHeader(e,t)}),this),this.de&&(this.b.responseType=this.de),"withCredentials"in this.b&&this.b.withCredentials!==this.te&&(this.b.withCredentials=this.te);try{yi(this),0<this.sb&&(this.Hc=fi(this.b),ri(this.U,Ci(this,"Will abort after "+this.sb+"ms if incomplete, xhr2 "+this.Hc)),this.Hc?(this.b.timeout=this.sb,this.b.ontimeout=p(this.Zb,this)):this.Ec=oi(this.Zb,this.sb,this)),ri(this.U,Ci(this,"Sending request")),this.oc=!0,this.b.send(t),this.oc=!1}catch(t){ri(this.U,Ci(this,"Send error: "+t.message)),this.P(5,t)}};var fi=function(t){return ct&&wt(9)&&l(t.timeout)&&void 0!==t.ontimeout},pi=function(t){return"content-type"==t.toLowerCase()};ci.prototype.Zb=function(){void 0!==e&&this.b&&(this.Hb="Timed out after "+this.sb+"ms, aborting",ri(this.U,Ci(this,this.Hb)),this.dispatchEvent("timeout"),this.abort(8))},ci.prototype.P=function(t,e){this.va=!1,this.b&&(this.Ka=!0,this.b.abort(),this.Ka=!1),this.Hb=e,mi(this),bi(this)};var mi=function(t){t.Rc||(t.Rc=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};ci.prototype.abort=function(){this.b&&this.va&&(ri(this.U,Ci(this,"Aborting")),this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bi(this))},ci.prototype.cb=function(){this.b&&(this.va&&(this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1),bi(this,!0)),ci.xd.cb.call(this)},ci.prototype.be=function(){this.isDisposed()||(this.Yc||this.oc||this.Ka?gi(this):this.nf())},ci.prototype.nf=function(){gi(this)};var gi=function(t){if(t.va&&void 0!==e)if(t.Kc[1]&&4==wi(t)&&2==Ei(t))ri(t.U,Ci(t,"Local request error detected and ignored"));else if(t.oc&&4==wi(t))oi(t.be,0,t);else if(t.dispatchEvent("readystatechange"),4==wi(t)){ri(t.U,Ci(t,"Request complete")),t.va=!1;try{var i,r,o=Ei(t);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:i=!0;break t;default:i=!1}if(!(r=i)){var a;if(a=0===o){if(!(c=String(t.qc).match(si)[1]||null)&&n.self&&n.self.location)var s=n.self.location.protocol,c=s.substr(0,s.length-1);a=!hi.test(c?c.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{var l;try{l=2<wi(t)?t.b.statusText:""}catch(e){ri(t.U,"Can not get status: "+e.message),l=""}t.Hb=l+" ["+Ei(t)+"]",mi(t)}}finally{bi(t)}}};ci.prototype.ae=function(t,e){R("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(vi(t,"progress")),this.dispatchEvent(vi(t,e?"downloadprogress":"uploadprogress"))};var vi=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},bi=function(t,e){if(t.b){yi(t);var n=t.b,r=t.Kc[0]?i:null;t.b=null,t.Kc=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.U)&&t.log(Yn,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},yi=function(t){t.b&&t.Hc&&(t.b.ontimeout=null),l(t.Ec)&&(n.clearTimeout(t.Ec),t.Ec=null)},wi=function(t){return t.b?t.b.readyState:0},Ei=function(t){try{return 2<wi(t)?t.b.status:-1}catch(t){return-1}},Ci=function(t,e){return e+" ["+t.Zd+" "+t.qc+" "+Ei(t)+"]"},$i=function(t,e){var n;this.ea=this.Xa=this.ha="",this.lb=null,this.Ja=this.xa="",this.S=this.df=!1,t instanceof $i?(this.S=void 0!==e?e:t.S,Ai(this,t.ha),n=t.Xa,Fi(this),this.Xa=n,xi(this,t.ea),ki(this,t.lb),Si(this,t.xa),Ti(this,t.W.clone()),t=t.Ja,Fi(this),this.Ja=t):t&&(n=String(t).match(si))?(this.S=!!e,Ai(this,n[1]||"",!0),t=n[2]||"",Fi(this),this.Xa=Oi(t),xi(this,n[3]||"",!0),ki(this,n[4]),Si(this,n[5]||"",!0),Ti(this,n[6]||"",!0),t=n[7]||"",Fi(this),this.Ja=Oi(t)):(this.S=!!e,this.W=new Ui(null,0,this.S))};$i.prototype.toString=function(){var t=[],e=this.ha;e&&t.push(Li(e,Ni,!0),":");var n=this.ea;return(n||"file"==e)&&(t.push("//"),(e=this.Xa)&&t.push(Li(e,Ni,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.lb)&&t.push(":",String(n))),(n=this.xa)&&(this.ea&&"/"!=n.charAt(0)&&t.push("/"),t.push(Li(n,"/"==n.charAt(0)?Pi:Bi,!0))),(n=this.W.toString())&&t.push("?",n),(n=this.Ja)&&t.push("#",Li(n,ji)),t.join("")},$i.prototype.resolve=function(t){var e=this.clone(),n=!!t.ha;if(n?Ai(e,t.ha):n=!!t.Xa,n){var i=t.Xa;Fi(e),e.Xa=i}else n=!!t.ea;if(n?xi(e,t.ea):n=null!=t.lb,i=t.xa,n)ki(e,t.lb);else if(n=!!t.xa)if("/"!=i.charAt(0)&&(this.ea&&!this.xa?i="/"+i:-1!=(r=e.xa.lastIndexOf("/"))&&(i=e.xa.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(T(r,"./")||T(r,"/.")){i=0==r.lastIndexOf("/",0);for(var r=r.split("/"),o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?Si(e,i):n=""!==t.W.toString(),n?Ti(e,t.W.clone()):n=!!t.Ja,n&&(t=t.Ja,Fi(e),e.Ja=t),e},$i.prototype.clone=function(){return new $i(this)};var Ai=function(t,e,n){Fi(t),t.ha=n?Oi(e,!0):e,t.ha&&(t.ha=t.ha.replace(/:$/,""))},xi=function(t,e,n){Fi(t),t.ea=n?Oi(e,!0):e},ki=function(t,e){if(Fi(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.lb=e}else t.lb=null},Si=function(t,e,n){Fi(t),t.xa=n?Oi(e,!0):e},Ti=function(t,e,n){Fi(t),e instanceof Ui?(t.W=e,t.W.td(t.S)):(n||(e=Li(e,Hi)),t.W=new Ui(e,0,t.S))},_i=function(t,e,n){Fi(t),t.W.set(e,n)},Mi=function(t,e){return t.W.get(e)};$i.prototype.removeParameter=function(t){return Fi(this),this.W.remove(t),this};var Fi=function(t){if(t.df)throw Error("Tried to modify a read-only Uri")};$i.prototype.td=function(t){return this.S=t,this.W&&this.W.td(t),this};var Di=function(t){return t instanceof $i?t.clone():new $i(t,void 0)},Ri=function(t,e){var n=new $i(null,void 0);return Ai(n,"https"),t&&xi(n,t),e&&Si(n,e),n},Oi=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},Li=function(t,e,n){return c(t)?(t=encodeURI(t).replace(e,Ii),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},Ii=function(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)},Ni=/[#\/\?@]/g,Bi=/[\#\?:]/g,Pi=/[\#\?]/g,Hi=/[\#\?@]/g,ji=/#/g,Ui=function(t,e,n){this.o=this.l=null,this.O=t||null,this.S=!!n},Wi=function(t){t.l||(t.l=new Pn,t.o=0,t.O&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i,r=t[n].indexOf("="),o=null;0<=r?(i=t[n].substring(0,r),o=t[n].substring(r+1)):i=t[n],e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.O,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))},Vi=function(t){var e=Wn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Ui(null,0,void 0);t=Un(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];a(o)?zi(n,r,o):n.add(r,o)}return n};(t=Ui.prototype).add=function(t,e){Wi(this),this.O=null,t=this.R(t);var n=this.l.get(t);return n||this.l.set(t,n=[]),n.push(e),this.o=L(this.o)+1,this},t.remove=function(t){return Wi(this),t=this.R(t),!!this.l.yb(t)&&(this.O=null,this.o=L(this.o)-this.l.get(t).length,this.l.remove(t))},t.yb=function(t){return Wi(this),t=this.R(t),this.l.yb(t)},t.oa=function(){Wi(this);for(var t=this.l.Z(),e=this.l.oa(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.Z=function(t){Wi(this);var e=[];if(c(t))this.yb(t)&&(e=z(e,this.l.get(this.R(t))));else{t=this.l.Z();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return Wi(this),this.O=null,t=this.R(t),this.yb(t)&&(this.o=L(this.o)-this.l.get(t).length),this.l.set(t,[e]),this.o=L(this.o)+1,this},t.get=function(t,e){return 0<(t=t?this.Z(t):[]).length?String(t[0]):e};var zi=function(t,e,n){t.remove(e),0<n.length&&(t.O=null,t.l.set(t.R(e),q(n)),t.o=L(t.o)+n.length)};Ui.prototype.toString=function(){if(this.O)return this.O;if(!this.l)return"";for(var t=[],e=this.l.oa(),n=0;n<e.length;n++)for(var i=e[n],r=encodeURIComponent(String(i)),o=(i=this.Z(i),0);o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}return this.O=t.join("&")},Ui.prototype.clone=function(){var t=new Ui;return t.O=this.O,this.l&&(t.l=this.l.clone(),t.o=this.o),t},Ui.prototype.R=function(t){return t=String(t),this.S&&(t=t.toLowerCase()),t},Ui.prototype.td=function(t){t&&!this.S&&(Wi(this),this.O=null,this.l.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),zi(this,n,t))}),this)),this.S=t};var qi=function(){var t=sr();return ct&&!!vt&&11==vt||/Edge\/\d+/.test(t)},Yi=function(){return n.window&&n.window.location.href||""},Ki=function(t,e){e=e||n.window;var i="about:blank";t&&(i=me(ve(t))),e.location.href=i},Gi=function(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):a(t[n])?tt(t[n],e[n])||i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Gi(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i},Xi=function(t){return!!((t=(t||sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))},Qi=function(t){t=t||n.window;try{t.close()}catch(t){}},Ji=function(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o,a=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(o in e={width:e,height:n,top:0<a?a:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=sr().toLowerCase(),i&&(e.target=i,T(n,"crios/")&&(e.target="_blank")),"Firefox"==or(sr())&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"about:blank",(i=e)||(i={}),t=window,e=n instanceof pe?n:ve(void 0!==n.href?n.href:String(n)),n=i.target||n.target,a=[],i)switch(o){case"width":case"height":case"top":case"left":a.push(o+"="+i[o]);break;case"target":case"noreferrer":break;default:a.push(o+"="+(i[o]?1:0))}if(o=a.join(","),(G("iPhone")&&!G("iPod")&&!G("iPad")||G("iPad")||G("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(o=t.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(a=o&&(o instanceof HTMLAnchorElement||!(o instanceof Location||o instanceof Element)),s=h(o)?o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o):void 0===o?"undefined":null===o?"null":typeof o,R(a,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",s)),e=e instanceof pe?e:ve(e),o.href=me(e),o.setAttribute("target",n),i.noreferrer&&o.setAttribute("rel","noreferrer"),(i=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),o.dispatchEvent(i),o={}):i.noreferrer?(o=t.open("",n,o),i=me(e),o&&(ut&&T(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),o.opener=null,t=he("b/12014412, meta tag with sanitized URL"),S.test(i)&&(-1!=i.indexOf("&")&&(i=i.replace(E,"&amp;")),-1!=i.indexOf("<")&&(i=i.replace(C,"&lt;")),-1!=i.indexOf(">")&&(i=i.replace($,"&gt;")),-1!=i.indexOf('"')&&(i=i.replace(A,"&quot;")),-1!=i.indexOf("'")&&(i=i.replace(x,"&#39;")),-1!=i.indexOf("\0")&&(i=i.replace(k,"&#0;"))),i='<META HTTP-EQUIV="refresh" content="0; url='+i+'">',function(t,e,n){c(t)||D("Expected string but got %s: %s.",[r(t),t],e,Array.prototype.slice.call(arguments,2))}(le(t),"must provide justification"),R(!/^[\s\xa0]*$/.test(le(t)),"must provide non-empty justification"),o.document.write(function(t){return t instanceof qe&&t.constructor===qe&&t.ue===Ye?t.pa:(O("expected object of type SafeHtml, got '"+t+"' of type "+r(t)),"type_error:SafeHtml")}((new qe).$e(i))),o.document.close())):o=t.open(me(e),n,o),o)try{o.focus()}catch(t){}return o},Zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tr=function(){var t=null;return new Qe((function(e){"complete"==n.document.readyState?e():(t=function(){e()},Qt(window,"load",t))})).f((function(e){throw Jt(window,"load",t),e}))},er=function(t){return t=t||sr(),!("file:"!==hr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))},nr=function(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}},ir=function(){return firebase.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":firebase.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},rr=function(){var t=ir();return"ReactNative"===t||"Node"===t},or=function(t){var e=t.toLowerCase();return T(e,"opera/")||T(e,"opr/")||T(e,"opios/")?"Opera":T(e,"iemobile")?"IEMobile":T(e,"msie")||T(e,"trident/")?"IE":T(e,"edge/")?"Edge":T(e,"firefox/")?"Firefox":T(e,"silk/")?"Silk":T(e,"blackberry")?"Blackberry":T(e,"webos")?"Webos":!T(e,"safari/")||T(e,"chrome/")||T(e,"crios/")||T(e,"android")?!T(e,"chrome/")&&!T(e,"crios/")||T(e,"edge/")?T(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"},ar=function(t){var e=ir();return("Browser"===e?or(sr()):e)+"/JsCore/"+t},sr=function(){return n.navigator&&n.navigator.userAgent||""},cr=function(t,e){t=t.split("."),e=e||n;for(var i=0;i<t.length&&"object"==typeof e&&null!=e;i++)e=e[t[i]];return i!=t.length&&(e=void 0),e},lr=function(){var t;if(t=(ur()||"chrome-extension:"===hr()||er())&&!rr())t:{try{var e=n.localStorage,i=gr();if(e){e.setItem(i,"1"),e.removeItem(i),t=!qi()||!!n.indexedDB;break t}}catch(t){}t=!1}return t},ur=function(){return"http:"===hr()||"https:"===hr()},hr=function(){return n.location&&n.location.protocol||null},dr=function(t){return t=t||sr(),!Xi(t)&&"Firefox"!=or(t)},fr=function(t){return void 0===t?null:we(t)},pr=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n},mr=function(t){if(null!==t)return JSON.parse(t)},gr=function(t){return t||""+Math.floor(1e9*Math.random()).toString()},vr=function(t){return t=t||sr(),"Safari"!=or(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)},br=function(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var i=0;i<t.CP.length;i++)t.CP[i]=null},yr=function(){return!n.navigator||"boolean"!=typeof n.navigator.onLine||n.navigator.onLine},wr=function(t,e,n,i){if(t>e)throw Error("Short delay should be less than long delay!");this.Ff=t,this.gf=e,t=n||sr(),i=i||ir(),this.cf=Xi(t)||"ReactNative"===i};wr.prototype.get=function(){return this.cf?this.gf:this.Ff};var Er,Cr=function(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState},$r={},Ar=function(t){$r[t]||($r[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))};try{var xr={};Object.defineProperty(xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Er=2==xr.abcd}catch(at){Er=!1}var kr=function(t,e,n){Er?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},Sr=function(t,e){Er?Object.defineProperty(t,"provider",{configurable:!0,enumerable:!0,get:function(){return Ar("firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead."),e}}):t.provider=e},Tr=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&kr(t,n,e[n])},_r=function(t){var e={};return Tr(e,t),e},Mr=function(t){var e,n=t;if("object"==typeof t&&null!=t)for(e in n="length"in t?[]:{},t)kr(n,e,Mr(t[e]));return n},Fr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Dr=["client_id","response_type","scope","redirect_uri","state"],Rr={Pf:{Mb:500,Lb:600,providerId:"facebook.com",qd:Dr},Qf:{Mb:500,Lb:620,providerId:"github.com",qd:Dr},Rf:{Mb:515,Lb:680,providerId:"google.com",qd:Dr},Sf:{Mb:485,Lb:705,providerId:"twitter.com",qd:Fr}},Or=function(t){for(var e in Rr)if(Rr[e].providerId==t)return Rr[e];return null},Lr=function(t,e){this.code="auth/"+t,this.message=e||Nr[t]||""};v(Lr,Error),Lr.prototype.C=function(){return{code:this.code,message:this.message}},Lr.prototype.toJSON=function(){return this.C()};var Ir=function(t){var e=t&&t.code;return e?new Lr(e.substring(5),t.message):null},Nr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"","code-expired":"","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-identifier-number":"","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"","missing-verification-code":"","missing-identifier-number":"","missing-verification-id":"","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Br=function(t,e,n,i,r){if(this.da=t,this.J=e||null,this.tb=n||null,this.sd=i||null,this.P=r||null,!this.tb&&!this.P)throw new Lr("invalid-auth-event");if(this.tb&&this.P)throw new Lr("invalid-auth-event");if(this.tb&&!this.sd)throw new Lr("invalid-auth-event")};Br.prototype.ic=function(){return this.sd},Br.prototype.getError=function(){return this.P},Br.prototype.C=function(){return{type:this.da,eventId:this.J,urlResponse:this.tb,sessionId:this.sd,error:this.P&&this.P.C()}};var Pr=function(t){return(t=t||{}).type?new Br(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ir(t.error)):null},Hr=function(t){var e="unauthorized-domain",n=void 0,i=Di(t);t=i.ea,"chrome-extension"==(i=i.ha)?n=y("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=y("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Lr.call(this,e,n)};v(Hr,Lr);var jr=function(t){this.ff=t.sub,g(),this.gc=t.email||null},Ur=function(t,e){return t.then((function(t){if(t.idToken){var n;t:{if(3==(i=t.idToken.split(".")).length){for(var i,r=(4-(i=i[1]).length%4)%4,o=0;o<r;o++)i+=".";try{var a=JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=At[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}xt();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(i));if(a.sub&&a.iss&&a.aud&&a.exp){n=new jr(a);break t}}catch(t){}}n=null}if(!n||e!=n.ff)throw new Lr("user-mismatch");return t}throw new Lr("user-mismatch")})).f((function(t){throw t&&t.code&&"auth/user-not-found"==t.code?new Lr("user-mismatch"):t}))},Wr=function(t,e){if(e.idToken||e.accessToken)e.idToken&&kr(this,"idToken",e.idToken),e.accessToken&&kr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Lr("internal-error","failed to construct a credential");kr(this,"accessToken",e.oauthToken),kr(this,"secret",e.oauthTokenSecret)}Sr(this,t),kr(this,"providerId",t)};Wr.prototype.Ab=function(t){return To(t,Vr(this))},Wr.prototype.cd=function(t,e){var n=Vr(this);return n.idToken=e,_o(t,n)},Wr.prototype.ed=function(t,e){var n=Vr(this);return Ur(Mo(t,n),e)};var Vr=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:Vi(e).toString(),requestUri:"http://localhost"}};Wr.prototype.C=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var zr=function(t,e){this.vf=e||[],Tr(this,{providerId:t,isOAuthProvider:!0}),this.Id={}};zr.prototype.setCustomParameters=function(t){return this.Id=et(t),this};var qr=function(t){zr.call(this,t,Dr),this.rd=[]};v(qr,zr),qr.prototype.addScope=function(t){return j(this.rd,t)||this.rd.push(t),this},qr.prototype.Rd=function(){return q(this.rd)},qr.prototype.credential=function(t,e){if(!t&&!e)throw new Lr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wr(this.providerId,{idToken:t||null,accessToken:e||null})};var Yr=function(){qr.call(this,"facebook.com")};v(Yr,qr),kr(Yr,"PROVIDER_ID","facebook.com");var Kr=function(t){if(!t)throw new Lr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Yr).credential(null,e)},Gr=function(){qr.call(this,"github.com")};v(Gr,qr),kr(Gr,"PROVIDER_ID","github.com");var Xr=function(t){if(!t)throw new Lr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Gr).credential(null,e)},Qr=function(){qr.call(this,"google.com"),this.addScope("profile")};v(Qr,qr),kr(Qr,"PROVIDER_ID","google.com");var Jr=function(t,e){var n=t;return h(t)&&(n=t.idToken,e=t.accessToken),(new Qr).credential(n,e)},Zr=function(){zr.call(this,"twitter.com",Fr)};v(Zr,zr),kr(Zr,"PROVIDER_ID","twitter.com");var to=function(t,e){var n=t;if(h(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Lr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wr("twitter.com",n)},eo=function(t,e){this.gc=t,this.jd=e,Sr(this,"password"),kr(this,"providerId","password")};eo.prototype.Ab=function(t){return ea(t,Qo,{email:this.gc,password:this.jd})},eo.prototype.cd=function(t,e){return ea(t,zo,{idToken:e,email:this.gc,password:this.jd})},eo.prototype.ed=function(t,e){return Ur(this.Ab(t),e)},eo.prototype.C=function(){return{email:this.gc,password:this.jd}};var no=function(){Tr(this,{providerId:"password",isOAuthProvider:!1})};Tr(no,{PROVIDER_ID:"password"});var io=function(t){if(!(t.Bd&&t.Ad||t.Yb&&t.ya))throw new Lr("internal-error");this.I=t,kr(this,"providerId","identifier")};io.prototype.Ab=function(t){return t.se(ro(this))},io.prototype.cd=function(t,e){var n=ro(this);return n.idToken=e,ea(t,Zo,n)},io.prototype.ed=function(t,e){var n=ro(this);return n.operation="REAUTH",t=ea(t,ta,n),Ur(t,e)},io.prototype.C=function(){var t={providerId:"identifier"};return this.I.Bd&&(t.verificationId=this.I.Bd),this.I.Ad&&(t.verificationCode=this.I.Ad),this.I.Yb&&(t.temporaryProof=this.I.Yb),this.I.ya&&(t.identifierNumber=this.I.ya),t};var ro=function(t){return t.I.Yb&&t.I.ya?{temporaryProof:t.I.Yb,identifierNumber:t.I.ya}:{sessionInfo:t.I.Bd,code:t.I.Ad}},oo=function(t){try{this.Ce=t||firebase.auth()}catch(t){throw new Lr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.identifierAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Tr(this,{providerId:"identifier",isOAuthProvider:!1})};oo.prototype.se=function(t,e){var n=this.Ce.g;return en(e.verify()).then((function(i){if(!c(i))throw new Lr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type)return ea(n,Wo,{identifierNumber:t,recaptchaToken:i});throw new Lr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Tr(oo,{PROVIDER_ID:"identifier"});var ao=function(t){if(t.temporaryProof&&t.identifierNumber)return new io({Yb:t.temporaryProof,ya:t.identifierNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Jr(t,n);case"facebook.com":return Kr(n);case"github.com":return Xr(n);case"twitter.com":return to(n,i);default:return new qr(e).credential(t,n)}}catch(t){return null}},so=function(t){if(!t.isOAuthProvider)throw new Lr("invalid-oauth-provider")},co=function(t,e,n){Lr.call(this,t,n),(t=e||{}).email&&kr(this,"email",t.email),t.ya&&kr(this,"identifierNumber",t.ya),t.credential&&kr(this,"credential",t.credential)};v(co,Lr),co.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.identifierNumber&&(t.identifierNumber=this.identifierNumber);var e=this.credential&&this.credential.C();return e&&it(t,e),t},co.prototype.toJSON=function(){return this.C()};var lo=function(t){if(t.code){var e=t.code||"";0==e.indexOf("auth/")&&(e=e.substring(5));var n={credential:ao(t)};if(t.email)n.email=t.email;else{if(!t.identifierNumber)return new Lr(e,t.message||void 0);n.ya=t.identifierNumber}return new co(e,n,t.message)}return null},uo=function(t){this.Of=t};v(uo,ke),uo.prototype.fc=function(){return new this.Of},uo.prototype.$c=function(){return{}};var ho,fo=function(t,e,i){var r;if(r="Node"==ir(),!(r=n.XMLHttpRequest||r&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest))throw new Lr("internal-error","The XMLHttpRequest compatibility library was not found.");this.j=t,t=e||{},this.Bf=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Cf=t.secureTokenTimeout||po,this.ge=et(t.secureTokenHeaders||mo),this.Le=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Me=t.firebaseTimeout||go,this.Pd=et(t.firebaseHeaders||vo),i&&(this.Pd["X-Client-Version"]=i,this.ge["X-Client-Version"]=i),this.Ee=new Fe,this.Nf=new uo(r)},po=new wr(3e4,6e4),mo={"Content-Type":"application/x-www-form-urlencoded"},go=new wr(3e4,6e4),vo={"Content-Type":"application/json"},bo=function(t,e,n,i,r,o,a){yr()?(function(){var t;return t=sr(),!((t="Chrome"!=or(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ct&&vt&&!(9<vt))}()?t=p(t.Ef,t):(ho||(ho=new Qe((function(t,e){wo(t,e)}))),t=p(t.Df,t)),t(e,n,i,r,o,a)):n&&n(null)};fo.prototype.Ef=function(t,e,n,i,r,o){var a,s="Node"==ir(),c=rr()?s?new ci(this.Nf):new ci:new ci(this.Ee);o&&(c.sb=Math.max(0,o),a=setTimeout((function(){c.dispatchEvent("timeout")}),o)),c.listen("complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.b?t.b.responseText:""}catch(e){return ri(t.U,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),ei(c,"ready",(function(){a&&clearTimeout(a),this.Ga||(this.Ga=!0,this.cb())})),ei(c,"timeout",(function(){a&&clearTimeout(a),this.Ga||(this.Ga=!0,this.cb()),e&&e(null)})),c.send(t,n,i,r)};var yo="__fcb"+Math.floor(1e6*Math.random()).toString(),wo=function(t,e){((window.gapi||{}).client||{}).request?t():(n[yo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t){var e=Fn("https://apis.google.com/js/client.js?onload="+yo);An(e,null,t,void 0)}((function(){e(Error("CORS_UNSUPPORTED"))})))};fo.prototype.Df=function(t,e,n,i,r){var o=this;ho.then((function(){window.gapi.client.setApiKey(o.j);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).f((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))};var Eo=function(t){if(!se.test(t.email))throw new Lr("invalid-email")},Co=function(t){"email"in t&&Eo(t)},$o=function(t){if(!t.idToken)throw new Lr("internal-error")},Ao=function(t){if(t.identifierNumber||t.temporaryProof){if(!t.identifierNumber||!t.temporaryProof)throw new Lr("internal-error")}else{if(!t.sessionInfo)throw new Lr("missing-verification-id");if(!t.code)throw new Lr("missing-verification-code")}};fo.prototype.signInAnonymously=function(){return ea(this,qo,{})},fo.prototype.updateEmail=function(t,e){return ea(this,Vo,{idToken:t,email:e})},fo.prototype.updatePassword=function(t,e){return ea(this,zo,{idToken:t,password:e})};var xo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};fo.prototype.updateProfile=function(t,e){var n={idToken:t},i=[];return X(xo,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),ea(this,Vo,n)},fo.prototype.sendPasswordResetEmail=function(t){return ea(this,Ho,{requestType:"PASSWORD_RESET",email:t})},fo.prototype.sendEmailVerification=function(t){return ea(this,Po,{requestType:"VERIFY_EMAIL",idToken:t})},fo.prototype.se=function(t){return ea(this,Jo,t)};var ko=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Lr("internal-error")},So=function(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=lo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=lo(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=lo(t)),e)throw e;if(!t.idToken)throw new Lr("internal-error")},To=function(t,e){return e.returnIdpCredential=!0,ea(t,Yo,e)},_o=function(t,e){return e.returnIdpCredential=!0,ea(t,Go,e)},Mo=function(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ea(t,Ko,e)},Fo=function(t){if(!t.oobCode)throw new Lr("invalid-action-code")};fo.prototype.confirmPasswordReset=function(t,e){return ea(this,Uo,{oobCode:t,newPassword:e})},fo.prototype.checkActionCode=function(t){return ea(this,Ro,{oobCode:t})},fo.prototype.applyActionCode=function(t){return ea(this,Do,{oobCode:t})};var Do={endpoint:"setAccountInfo",A:Fo,Wa:"email"},Ro={endpoint:"resetPassword",A:Fo,Y:function(t){if(!t.email||!t.requestType)throw new Lr("internal-error")}},Oo={endpoint:"signupNewUser",A:function(t){if(Eo(t),!t.password)throw new Lr("weak-password")},Y:$o,sa:!0},Lo={endpoint:"createAuthUri"},Io={endpoint:"deleteAccount",Ua:["idToken"]},No={endpoint:"setAccountInfo",Ua:["idToken","deleteProvider"],A:function(t){if(!a(t.deleteProvider))throw new Lr("internal-error")}},Bo={endpoint:"getAccountInfo"},Po={endpoint:"getOobConfirmationCode",Ua:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Lr("internal-error")},Wa:"email"},Ho={endpoint:"getOobConfirmationCode",Ua:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Lr("internal-error");Eo(t)},Wa:"email"},jo={De:!0,endpoint:"getProjectConfig",We:"GET"},Uo={endpoint:"resetPassword",A:Fo,Wa:"email"},Wo={endpoint:"sendVerificationCode",Ua:["identifierNumber","recaptchaToken"],Wa:"sessionInfo"},Vo={endpoint:"setAccountInfo",Ua:["idToken"],A:Co,sa:!0},zo={endpoint:"setAccountInfo",Ua:["idToken"],A:function(t){if(Co(t),!t.password)throw new Lr("weak-password")},Y:$o,sa:!0},qo={endpoint:"signupNewUser",Y:$o,sa:!0},Yo={endpoint:"verifyAssertion",A:ko,Y:So,sa:!0},Ko={endpoint:"verifyAssertion",A:ko,Y:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Lr("user-not-found");if(!t.idToken)throw new Lr("internal-error")},sa:!0},Go={endpoint:"verifyAssertion",A:function(t){if(ko(t),!t.idToken)throw new Lr("internal-error")},Y:So,sa:!0},Xo={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new Lr("invalid-custom-token")},Y:$o,sa:!0},Qo={endpoint:"verifyPassword",A:function(t){if(Eo(t),!t.password)throw new Lr("wrong-password")},Y:$o,sa:!0},Jo={endpoint:"verifyidentifierNumber",A:Ao,Y:$o},Zo={endpoint:"verifyidentifierNumber",A:function(t){if(!t.idToken)throw new Lr("internal-error");Ao(t)},Y:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",lo(t);$o(t)}},ta={Ge:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyidentifierNumber",A:Ao,Y:$o},ea=function(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.Ua))return nn(new Lr("internal-error"));var i,r=e.We||"POST";return en(n).then(e.A).then((function(){return e.sa&&(n.returnSecureToken=!0),function(t,e,n,i,r,o){var a=Di(t.Le+e);_i(a,"key",t.j),o&&_i(a,"cb",g().toString());var s="GET"==n;if(s)for(var c in i)i.hasOwnProperty(c)&&_i(a,c,i[c]);return new Qe((function(e,o){bo(t,a.toString(),(function(t){t?t.error?o(na(t,r||{})):e(t):o(new Lr("network-request-failed"))}),n,s?void 0:we(pr(i)),t.Pd,t.Me.get())}))}(t,e.endpoint,r,n,e.Ge,e.De||!1)})).then((function(t){return i=t})).then(e.Y).then((function(){if(!e.Wa)return i;if(!(e.Wa in i))throw new Lr("internal-error");return i[e.Wa]}))},na=function(t,e){var n,i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||""]?new Lr(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",it(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_identifier_NUMBER:"invalid-identifier-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_identifier_NUMBER:"missing-identifier-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new Lr(i[r],e);return!e&&t&&(e=fr(t)),new Lr("internal-error",e)},ia=function(t){this.V=t};ia.prototype.value=function(){return this.V},ia.prototype.je=function(t){return this.V.style=t,this};var ra=function(t){this.V=t||{}};ra.prototype.value=function(){return this.V},ra.prototype.je=function(t){return this.V.style=t,this};var oa=function(t){this.Lf=t,this.nc=null,this.gd=aa(this)},aa=function(t){return la().then((function(){return new Qe((function(e,n){cr("gapi.iframes.getContext")().open(function(t){var e=new ra;return e.V.where=document.body,e.V.url=t.Lf,e.V.messageHandlersFilter=cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),e.V.attributes=e.V.attributes||{},new ia(e.V.attributes).je({position:"absolute",top:"-100px",width:"1px",height:"1px"}),e.V.dontclear=!0,e}(t).value(),(function(i){t.nc=i,t.nc.restyle({setHideOnLeave:!1});var r=setTimeout((function(){n(Error("Network Error"))}),ca.get()),o=function(){clearTimeout(r),e()};i.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))};oa.prototype.sendMessage=function(t){var e=this;return this.gd.then((function(){return new Qe((function(n){e.nc.send(t.type,t,n,cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))};var sa=new wr(3e4,6e4),ca=new wr(5e3,15e3),la=function(){return new Qe((function(t,e){if(yr()){var i=function(){br(),cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){br(),e(Error("Network Error"))},timeout:sa.get()})};if(cr("gapi.iframes.Iframe"))t();else if(cr("gapi.load"))i();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[r]=function(){cr("gapi.load")?i():e(Error("Network Error"))},en(Fn("https://apis.google.com/js/api.js?onload="+r)).f((function(){e(Error("Network Error"))}))}}else e(Error("Network Error"))}))},ua=function(t,e,n){this.v=t,this.j=e,this.D=n,this.Ya=null,this.ac=Ri(this.v,"/__/auth/iframe"),_i(this.ac,"apiKey",this.j),_i(this.ac,"appName",this.D)};ua.prototype.setVersion=function(t){return this.Ya=t,this},ua.prototype.toString=function(){return this.Ya?_i(this.ac,"v",this.Ya):this.ac.removeParameter("v"),this.ac.toString()};var ha=function(t,e,n,i,r){this.v=t,this.j=e,this.D=n,this.Be=i,this.Ya=this.J=this.pd=null,this.Pb=r};ha.prototype.setVersion=function(t){return this.Ya=t,this},ha.prototype.toString=function(){var t=Ri(this.v,"/__/auth/handler");if(_i(t,"apiKey",this.j),_i(t,"appName",this.D),_i(t,"authType",this.Be),this.Pb.isOAuthProvider){_i(t,"providerId",this.Pb.providerId);var e,n=this.Pb,i=pr(n.Id);for(e in i)i[e]=i[e].toString();for(n=n.vf,i=et(i),e=0;e<n.length;e++){var r=n[e];r in i&&delete i[r]}Z(i)||_i(t,"customParameters",fr(i))}if("function"==typeof this.Pb.Rd&&(n=this.Pb.Rd()).length&&_i(t,"scopes",n.join(",")),this.pd?_i(t,"redirectUrl",this.pd):t.removeParameter("redirectUrl"),this.J?_i(t,"eventId",this.J):t.removeParameter("eventId"),this.Ya?_i(t,"v",this.Ya):t.removeParameter("v"),this.bc)for(var o in this.bc)this.bc.hasOwnProperty(o)&&!Mi(t,o)&&_i(t,o,this.bc[o]);return t.toString()};var da=function(t,e,n,i){this.v=t,this.j=e,this.D=n,this.Oe=(this.Ea=i||null)?ar(this.Ea):null,i=this.Ea,this.Xe=new ua(t,e,n).setVersion(i).toString(),this.ma=[],this.g=new fo(e,null,this.Oe),this.pc=this.wa=null},fa=function(t){var e=Yi();return function(t){return ea(t,jo,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{for(var n=(i=Di(e)).ha,i=i.ea,r=0;r<t.length;r++){var o,a=t[r];o=i;var s=n;if(0==a.indexOf("chrome-extension://")?o=Di(a).ea==o&&"chrome-extension"==s:"http"!=s&&"https"!=s?o=!1:Zi.test(a)?o=o==a:(a=a.split(".").join("\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new Hr(Yi())}))};(t=da.prototype).Gb=function(){if(this.pc)return this.pc;var t=this;return this.pc=tr().then((function(){t.mc=new oa(t.Xe),ma(t)}))},t.Vb=function(t,e,n){var i=new Lr("popup-closed-by-user"),r=new Lr("web-storage-unsupported"),o=this,a=!1;return this.La().then((function(){ga(o).then((function(n){n||(t&&Qi(t),e(r),a=!0)}))})).f((function(){})).then((function(){if(!a)return function(t){return new Qe((function(e){var n=function(){ai(2e3).then((function(){if(t&&!t.closed)return n();e()}))};return n()}))}(t)})).then((function(){if(!a)return ai(n).then((function(){e(i)}))}))},t.ke=function(){var t=sr();return!dr(t)&&!vr(t)},t.Ud=function(){return!1},t.Nb=function(t,e,n,i,r,o,a){if(!t)return nn(new Lr("popup-blocked"));if(a&&!dr())return this.La().f((function(e){Qi(t),r(e)})),i(),en();this.wa||(this.wa=fa(this.g));var s=this;return this.wa.then((function(){var e=s.La().f((function(e){throw Qi(t),r(e),e}));return i(),e})).then((function(){if(so(n),!a){var i=pa(s.v,s.j,s.D,e,n,null,o,s.Ea);Ki(i,t)}})).f((function(t){throw"auth/network-request-failed"==t.code&&(s.wa=null),t}))},t.Ob=function(t,e,n){this.wa||(this.wa=fa(this.g));var i=this;return this.wa.then((function(){so(e);var r=pa(i.v,i.j,i.D,t,e,Yi(),n,i.Ea);Ki(r)}))},t.La=function(){var t=this;return this.Gb().then((function(){return t.mc.gd})).f((function(){throw t.wa=null,new Lr("network-request-failed")}))},t.ne=function(){return!0};var pa=function(t,e,n,i,r,o,a,s,c){return(t=new ha(t,e,n,i,r)).pd=o,t.J=a,(o=t.setVersion(s)).bc=et(c||null),o.toString()},ma=function(t){if(!t.mc)throw Error("IfcHandler must be initialized!");!function(t,e){t.gd.then((function(){t.nc.register("authEvent",e,cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.mc,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Pr(e.authEvent),n=0;n<t.ma.length;n++)i=t.ma[n](e)||i;return(n={}).status=i?"ACK":"ERROR",en(n)}return n.status="ERROR",en(n)}))},ga=function(t){var e={type:"webStorageSupport"};return t.Gb().then((function(){return t.mc.sendMessage(e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))};da.prototype.$a=function(t){this.ma.push(t)},da.prototype.Tb=function(t){V(this.ma,(function(e){return e==t}))};var va=function(t){if(this.B=t||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage,!this.B)throw new Lr("internal-error","The React Native compatibility library was not found.")};(t=va.prototype).get=function(t){return en(this.B.getItem(t)).then((function(t){return t&&mr(t)}))},t.set=function(t,e){return en(this.B.setItem(t,fr(e)))},t.remove=function(t){return en(this.B.removeItem(t))},t.ab=function(){},t.Ta=function(){};var ba=function(){this.B={}};(t=ba.prototype).get=function(t){return en(this.B[t])},t.set=function(t,e){return this.B[t]=e,en()},t.remove=function(t){return delete this.B[t],en()},t.ab=function(){},t.Ta=function(){};var ya=function(){if(!wa()){if("Node"==ir())throw new Lr("internal-error","The LocalStorage compatibility library was not found.");throw new Lr("web-storage-unsupported")}this.B=n.localStorage||firebase.INTERNAL.node.localStorage},wa=function(){var t="Node"==ir();if(!(t=n.localStorage||t&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};(t=ya.prototype).get=function(t){var e=this;return en().then((function(){var n=e.B.getItem(t);return mr(n)}))},t.set=function(t,e){var n=this;return en().then((function(){var i=fr(e);null===i?n.remove(t):n.B.setItem(t,i)}))},t.remove=function(t){var e=this;return en().then((function(){e.B.removeItem(t)}))},t.ab=function(t){n.window&&Kt(n.window,"storage",t)},t.Ta=function(t){n.window&&Jt(n.window,"storage",t)};var Ea=function(){this.B={}};(t=Ea.prototype).get=function(){return en(null)},t.set=function(){return en()},t.remove=function(){return en()},t.ab=function(){},t.Ta=function(){};var Ca=function(){if(!$a()){if("Node"==ir())throw new Lr("internal-error","The SessionStorage compatibility library was not found.");throw new Lr("web-storage-unsupported")}this.B=n.sessionStorage||firebase.INTERNAL.node.sessionStorage},$a=function(){var t="Node"==ir();if(!(t=n.sessionStorage||t&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};(t=Ca.prototype).get=function(t){var e=this;return en().then((function(){var n=e.B.getItem(t);return mr(n)}))},t.set=function(t,e){var n=this;return en().then((function(){var i=fr(e);null===i?n.remove(t):n.B.setItem(t,i)}))},t.remove=function(t){var e=this;return en().then((function(){e.B.removeItem(t)}))},t.ab=function(){},t.Ta=function(){};var Aa,xa=function(t,e,i,r,o,a){if(!window.indexedDB)throw new Lr("web-storage-unsupported");this.He=t,this.fd=e,this.Qc=i,this.re=r,this.wb=o,this.$={},this.Wb=[],this.Jb=0,this.Ye=a||n.indexedDB},ka=function(t){return t.Xd||(t.Xd=function(t){return new Qe((function(e,n){var i=t.Ye.open(t.He,t.wb);i.onerror=function(t){n(Error(t.target.errorCode))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.fd,{keyPath:t.Qc})}catch(t){n(t)}},i.onsuccess=function(t){e(t.target.result)}}))}(t)),t.Xd},Sa=function(t,e){return e.objectStore(t.fd)},Ta=function(t,e,n){return e.transaction([t.fd],n?"readwrite":"readonly")},_a=function(t){return new Qe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}}))};(t=xa.prototype).set=function(t,e){var n,i=!1,r=this;return on(ka(this).then((function(e){return e=Sa(r,Ta(r,n=e,!0)),_a(e.get(t))})).then((function(o){var a=Sa(r,Ta(r,n,!0));return o?(o.value=e,_a(a.put(o))):(r.Jb++,i=!0,(o={})[r.Qc]=t,o[r.re]=e,_a(a.add(o)))})).then((function(){r.$[t]=e})),(function(){i&&r.Jb--}))},t.get=function(t){var e=this;return ka(this).then((function(n){return _a(Sa(e,Ta(e,n,!1)).get(t))})).then((function(t){return t&&t.value}))},t.remove=function(t){var e=!1,n=this;return on(ka(this).then((function(i){return e=!0,n.Jb++,_a(Sa(n,Ta(n,i,!0)).delete(t))})).then((function(){delete n.$[t]})),(function(){e&&n.Jb--}))},t.Hf=function(){var t=this;return ka(this).then((function(e){var n=Sa(t,Ta(t,e,!1));return n.getAll?_a(n.getAll()):new Qe((function(t,e){var i=[],r=n.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){e(Error(t.target.errorCode))}}))})).then((function(e){var n={},i=[];if(0==t.Jb){for(i=0;i<e.length;i++)n[e[i][t.Qc]]=e[i][t.re];i=Gi(t.$,n),t.$=n}return i}))},t.ab=function(t){0==this.Wb.length&&this.vd(),this.Wb.push(t)},t.Ta=function(t){V(this.Wb,(function(e){return e==t})),0==this.Wb.length&&this.Bc()},t.vd=function(){var t=this;this.Bc();var e=function(){return t.kd=ai(800).then(p(t.Hf,t)).then((function(e){0<e.length&&B(t.Wb,(function(t){t(e)}))})).then(e).f((function(t){"STOP_EVENT"!=t.message&&e()})),t.kd};e()},t.Bc=function(){this.kd&&this.kd.cancel("STOP_EVENT")};var Ma,Fa=function(){this.Ld={Browser:Da,Node:Ra,ReactNative:Oa}[ir()]},Da={M:ya,yd:Ca},Ra={M:ya,yd:Ca},Oa={M:va,yd:Ea},La=function(t){var e={},n=t.email,i=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=i||null,e.email=n,kr(this,"operation",t),kr(this,"data",Mr(e))},Ia=function(t,e,n,i,r,o){if(this.pf=t,this.xf=e,this.Qe=n,this.rc=i,this.zd=r,this.yf=!!o,this.kb=null,this.Ma=this.rc,this.zd<this.rc)throw Error("Proactive refresh lower bound greater than upper bound!")};Ia.prototype.start=function(){this.Ma=this.rc,Na(this,!0)};var Na=function(t,e){t.stop(),t.kb=ai(function(t,e){return e?(t.Ma=t.rc,t.Qe()):(e=t.Ma,t.Ma*=2,t.Ma>t.zd&&(t.Ma=t.zd),e)}(t,e)).then((function(){return t.yf?en():function(){var t=n.document,e=null;return Cr()||!t?en():new Qe((function(n){e=function(){Cr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).f((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.pf()})).then((function(){Na(t,!0)})).f((function(e){t.xf(e)&&Na(t,!1)}))};Ia.prototype.stop=function(){this.kb&&(this.kb.cancel(),this.kb=null)};var Ba=function(t){var e={};e["facebook.com"]=Ha,e["google.com"]=Ua,e["github.com"]=ja,e["twitter.com"]=Wa;var n=t&&t.providerId;return n?e[n]?new e[n](t):new Pa(t):null},Pa=function(t){var e=mr(t.rawUserInfo||"{}");if(!(t=t.providerId))throw Error("Invalid additional user info!");kr(this,"profile",Mr(e||{})),kr(this,"providerId",t)},Ha=function(t){if(Pa.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};v(Ha,Pa);var ja=function(t){if(Pa.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider id!");kr(this,"username",this.profile&&this.profile.login||null)};v(ja,Pa);var Ua=function(t){if(Pa.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider id!")};v(Ua,Pa);var Wa=function(t){if(Pa.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");kr(this,"username",t.screenName||null)};v(Wa,Pa);var Va,za=function(t,e,n,i){this.kf=t,this.he=e,this.zf=n,this.Ub=i,this.T={},Ma||(Ma=new Fa),t=Ma;try{var r;qi()?(Aa||(Aa=new xa("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),r=Aa):r=new t.Ld.M,this.Qa=r}catch(t){this.Qa=new ba,this.Ub=!0}try{this.Dc=new t.Ld.yd}catch(t){this.Dc=new ba}this.wd=p(this.le,this),this.$={}},qa=function(){return Va||(Va=new za("firebase",":",!(vr(sr())||!nr()),dr())),Va};(t=za.prototype).R=function(t,e){return this.kf+this.he+t.name+(e?this.he+e:"")},t.get=function(t,e){return(t.M?this.Qa:this.Dc).get(this.R(t,e))},t.remove=function(t,e){return e=this.R(t,e),t.M&&!this.Ub&&(this.$[e]=null),(t.M?this.Qa:this.Dc).remove(e)},t.set=function(t,e,n){var i=this.R(t,n),r=this,o=t.M?this.Qa:this.Dc;return o.set(i,e).then((function(){return o.get(i)})).then((function(e){t.M&&!this.Ub&&(r.$[i]=e)}))},t.addListener=function(t,e,i){t=this.R(t,e),this.Ub||(this.$[t]=n.localStorage.getItem(t)),Z(this.T)&&this.vd(),this.T[t]||(this.T[t]=[]),this.T[t].push(i)},t.removeListener=function(t,e,n){t=this.R(t,e),this.T[t]&&(V(this.T[t],(function(t){return t==n})),0==this.T[t].length&&delete this.T[t]),Z(this.T)&&this.Bc()},t.vd=function(){this.Qa.ab(this.wd),this.Ub||qi()||Ya(this)};var Ya=function(t){Ka(t),t.dd=setInterval((function(){for(var e in t.T){var i=n.localStorage.getItem(e),r=t.$[e];i!=r&&(t.$[e]=i,i=new Bt({type:"storage",key:e,target:window,oldValue:r,newValue:i,rf:!0}),t.le(i))}}),1e3)},Ka=function(t){t.dd&&(clearInterval(t.dd),t.dd=null)};za.prototype.Bc=function(){this.Qa.Ta(this.wd),Ka(this)},za.prototype.le=function(t){if(t&&t.Pe){var e=t.eb.key;if(void 0!==t.eb.rf?this.Qa.Ta(this.wd):Ka(this),this.zf){var i=n.localStorage.getItem(e);(t=t.eb.newValue)!=i&&(t?n.localStorage.setItem(e,t):t||n.localStorage.removeItem(e))}this.$[e]=n.localStorage.getItem(e),this.Ed(e)}else B(t,p(this.Ed,this))},za.prototype.Ed=function(t){this.T[t]&&B(this.T[t],(function(t){t()}))};var Ga=function(t,e){this.u=t,this.i=e||qa()},Xa={name:"authEvent",M:!0};Ga.prototype.$a=function(t){this.i.addListener(Xa,this.u,t)},Ga.prototype.Tb=function(t){this.i.removeListener(Xa,this.u,t)};var Qa=function(t){this.i=t||qa()},Ja={name:"sessionId",M:!1};Qa.prototype.ic=function(t){return this.i.get(Ja,t)};var Za=function(t,e,n,i,r,o){this.v=t,this.j=e,this.D=n,this.Ea=i||null,this.me=e+":"+n,this.Af=new Qa,this.Qd=new Ga(this.me),this.Zc=null,this.ma=[],this.bf=r||500,this.tf=o||2e3,this.Fb=this.uc=null},ts=function(t){return new Lr("invalid-cordova-configuration",t)};Za.prototype.La=function(){return this.ad?this.ad:this.ad=(er(void 0)?tr().then((function(){return new Qe((function(t,e){var i=n.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);i.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):nn(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof cr("universalLinks.subscribe",n))throw ts("cordova-universal-links-plugin is not installed");if(void 0===cr("BuildInfo.packageName",n))throw ts("cordova-plugin-buildinfo is not installed");if("function"!=typeof cr("cordova.plugins.browsertab.openUrl",n))throw ts("cordova-plugin-browsertab is not installed");if("function"!=typeof cr("cordova.InAppBrowser.open",n))throw ts("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Lr("cordova-not-ready")}))};(t=Za.prototype).Vb=function(t,e){return e(new Lr("operation-not-supported-in-this-environment")),en()},t.Nb=function(){return nn(new Lr("operation-not-supported-in-this-environment"))},t.ne=function(){return!1},t.ke=function(){return!0},t.Ud=function(){return!0},t.Ob=function(t,e,i){if(this.uc)return nn(new Lr("redirect-operation-pending"));var r=this,o=n.document,a=null,s=null,c=null,l=null;return this.uc=on(en().then((function(){return so(e),is(r)})).then((function(){return es(r,t,e,i)})).then((function(){return new Qe((function(t,e){s=function(){var e=cr("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),r.Fb&&"function"==typeof r.Fb.close&&(r.Fb.close(),r.Fb=null),!1},r.$a(s),c=function(){a||(a=ai(r.tf).then((function(){e(new Lr("redirect-cancelled-by-user"))})))},l=function(){Cr()&&c()},o.addEventListener("resume",c,!1),sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).f((function(t){return rs(r).then((function(){throw t}))}))})),(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&r.Tb(s),r.uc=null}))};var es=function(t,e,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Br(e,r,null,o,new Lr("no-auth-event")),s=cr("BuildInfo.packageName",n);if("string"!=typeof s)throw new Lr("invalid-cordova-configuration");var c=cr("BuildInfo.displayName",n),l={};if(sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!sr().toLowerCase().match(/android/))return nn(new Lr("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(t){var e=new Dt;return e.update(t),function(t){return P(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(e.digest())}(o),l.sessionId=o;var u=pa(t.v,t.j,t.D,e,i,null,r,t.Ea,l);return t.La().then((function(){var e=t.me;return t.Af.i.set(Xa,a.C(),e)})).then((function(){var e=cr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Lr("invalid-cordova-configuration");var i=null;e((function(e){if(e){if("function"!=typeof(i=cr("cordova.plugins.browsertab.openUrl",n)))throw new Lr("invalid-cordova-configuration");i(u)}else{if("function"!=typeof(i=cr("cordova.InAppBrowser.open",n)))throw new Lr("invalid-cordova-configuration");var r;e=i,r=!(!(r=sr()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!r.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.Fb=e(u,r?"_blank":"_system","location=yes")}}))}))},ns=function(t,e){for(var n=0;n<t.ma.length;n++)try{t.ma[n](e)}catch(t){}},is=function(t){return t.Zc||(t.Zc=t.La().then((function(){return new Qe((function(e){var n=function(i){return e(i),t.Tb(n),!1};t.$a(n),os(t)}))}))),t.Zc},rs=function(t){var e=null;return function(t){return t.i.get(Xa,t.u).then((function(t){return Pr(t)}))}(t.Qd).then((function(n){return e=n,(n=t.Qd).i.remove(Xa,n.u)})).then((function(){return e}))},os=function(t){var e=cr("universalLinks.subscribe",n);if("function"!=typeof e)throw new Lr("invalid-cordova-configuration");var i=new Br("unknown",null,null,null,new Lr("no-auth-event")),r=!1,o=ai(t.bf).then((function(){return rs(t).then((function(){r||ns(t,i)}))})),a=function(e){r=!0,o&&o.cancel(),rs(t).then((function(n){var r=i;if(n&&e&&e.url){var o;r=null,o=e.url;var a=Di(o),s=Mi(a,"link"),c=Mi(Di(s),"link");a=Mi(a,"deep_link_id"),-1!=(o=Mi(Di(a),"link")||a||c||s||o).indexOf("/__/auth/callback")&&(r=Di(o),r=(r="object"==typeof(r=mr(Mi(r,"firebaseError")||null))?Ir(r):null)?new Br(n.da,n.J,null,null,r):new Br(n.da,n.J,o,n.ic())),r=r||i}ns(t,r)}))},s=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.indexOf(cr("BuildInfo.packageName",n)+"://")&&a({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},e(null,a)};Za.prototype.$a=function(t){this.ma.push(t),is(this).f((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Br("unknown",null,null,null,new Lr("no-auth-event")),t(e))}))},Za.prototype.Tb=function(t){V(this.ma,(function(e){return e==t}))};var as=function(t){this.u=t,this.i=qa()},ss={name:"pendingRedirect",M:!1},cs=function(t){return t.i.remove(ss,t.u)},ls=function(t,e,n){this.v=t,this.j=e,this.D=n,this.Xb=[],this.ib=!1,this.Mc=p(this.Wc,this),this.Ra=new vs(this),this.ld=new Cs(this),this.Kb=new as(this.j+":"+this.D),this.Aa={},this.Aa.unknown=this.Ra,this.Aa.signInViaRedirect=this.Ra,this.Aa.linkViaRedirect=this.Ra,this.Aa.reauthViaRedirect=this.Ra,this.Aa.signInViaPopup=this.ld,this.Aa.linkViaPopup=this.ld,this.Aa.reauthViaPopup=this.ld,this.K=us(this.v,this.j,this.D)},us=function(t,e,n){var i=firebase.SDK_VERSION||null;return er()?new Za(t,e,n,i):new da(t,e,n,i)};ls.prototype.reset=function(){this.ib=!1,this.K.Tb(this.Mc),this.K=us(this.v,this.j,this.D)},ls.prototype.Gb=function(){var t=this;this.ib||(this.ib=!0,this.K.$a(this.Mc));var e=this.K;return this.K.La().f((function(n){throw t.K==e&&t.reset(),n}))};var hs=function(t){t.K.ke()&&t.Gb().f((function(e){var n=new Br("unknown",null,null,null,new Lr("operation-not-supported-in-this-environment"));ps(e)&&t.Wc(n)})),t.K.Ud()||bs(t.Ra)};ls.prototype.subscribe=function(t){if(j(this.Xb,t)||this.Xb.push(t),!this.ib){var e=this;(function(t){return t.i.get(ss,t.u).then((function(t){return"pending"==t}))})(this.Kb).then((function(t){t?cs(e.Kb).then((function(){e.Gb().f((function(t){var n=new Br("unknown",null,null,null,new Lr("operation-not-supported-in-this-environment"));ps(t)&&e.Wc(n)}))})):hs(e)})).f((function(){hs(e)}))}},ls.prototype.unsubscribe=function(t){V(this.Xb,(function(e){return e==t}))},ls.prototype.Wc=function(t){if(!t)throw new Lr("invalid-auth-event");for(var e=!1,n=0;n<this.Xb.length;n++){var i=this.Xb[n];if(i.Fd(t.da,t.J)){(e=this.Aa[t.da])&&e.ce(t,i),e=!0;break}}return bs(this.Ra),e};var ds=new wr(2e3,1e4),fs=new wr(3e4,6e4);ls.prototype.getRedirectResult=function(){return this.Ra.getRedirectResult()},ls.prototype.Nb=function(t,e,n,i,r){var o=this;return this.K.Nb(t,e,n,(function(){o.ib||(o.ib=!0,o.K.$a(o.Mc))}),(function(){o.reset()}),i,r)};var ps=function(t){return!(!t||"auth/cordova-not-ready"!=t.code)};ls.prototype.Ob=function(t,e,n){var i,r=this;return function(t){return t.i.set(ss,"pending",t.u)}(this.Kb).then((function(){return r.K.Ob(t,e,n).f((function(t){if(ps(t))throw new Lr("operation-not-supported-in-this-environment");return i=t,cs(r.Kb).then((function(){throw i}))})).then((function(){return r.K.ne()?new Qe((function(){})):cs(r.Kb).then((function(){return r.getRedirectResult()})).then((function(){})).f((function(){}))}))}))},ls.prototype.Vb=function(t,e,n,i){return this.K.Vb(n,(function(n){t.Va(e,null,n,i)}),ds.get())};var ms={},gs=function(t,e,n){var i=e+":"+n;return ms[i]||(ms[i]=new ls(t,e,n)),ms[i]},vs=function(t){this.i=t,this.qb=null,this.Rb=[],this.Qb=[],this.ob=null,this.od=!1};vs.prototype.reset=function(){this.qb=null,this.ob&&(this.ob.cancel(),this.ob=null)},vs.prototype.ce=function(t,e){if(!t)return nn(new Lr("invalid-auth-event"));this.reset(),this.od=!0;var n=t.da,i=t.J,r=t.getError()&&"auth/web-storage-unsupported"==t.getError().code,o=t.getError()&&"auth/operation-not-supported-in-this-environment"==t.getError().code;return"unknown"!=n||r||o?t=t.P?this.md(t,e):e.zb(n,i)?this.nd(t,e):nn(new Lr("invalid-auth-event")):(ws(this,!1,null,null),t=en()),t};var bs=function(t){t.od||(t.od=!0,ws(t,!1,null,null))};vs.prototype.md=function(t){return ws(this,!0,null,t.getError()),en()},vs.prototype.nd=function(t,e){var n=this;e=e.zb(t.da,t.J);var i=t.tb,r=t.ic(),o=!!t.da.match(/Redirect$/);return e(i,r).then((function(t){ws(n,o,t,null)})).f((function(t){ws(n,o,null,t)}))};var ys=function(t,e){if(t.qb=function(){return en(e)},t.Rb.length)for(var n=0;n<t.Rb.length;n++)t.Rb[n](e)},ws=function(t,e,n,i){e?i?function(t,e){if(t.qb=function(){return nn(e)},t.Qb.length)for(var n=0;n<t.Qb.length;n++)t.Qb[n](e)}(t,i):ys(t,n):ys(t,{user:null}),t.Rb=[],t.Qb=[]};vs.prototype.getRedirectResult=function(){var t=this;return new Qe((function(e,n){t.qb?t.qb().then(e,n):(t.Rb.push(e),t.Qb.push(n),Es(t))}))};var Es=function(t){var e=new Lr("timeout");t.ob&&t.ob.cancel(),t.ob=ai(fs.get()).then((function(){t.qb||ws(t,!0,null,e)}))},Cs=function(t){this.i=t};Cs.prototype.ce=function(t,e){if(!t)return nn(new Lr("invalid-auth-event"));var n=t.da,i=t.J;return t.P?this.md(t,e):e.zb(n,i)?this.nd(t,e):nn(new Lr("invalid-auth-event"))},Cs.prototype.md=function(t,e){return e.Va(t.da,null,t.getError(),t.J),en()},Cs.prototype.nd=function(t,e){var n=t.J,i=t.da;return e.zb(i,n)(t.tb,t=t.ic()).then((function(t){e.Va(i,t,null,n)})).f((function(t){e.Va(i,null,t,n)}))};var $s=function(t){this.g=t,this.Ba=this.X=null,this.Ha=0};$s.prototype.C=function(){return{apiKey:this.g.j,refreshToken:this.X,accessToken:this.Ba,expirationTime:this.Ha}};var As=function(t,e){var n=e.idToken,i=e.refreshToken;e=xs(e.expiresIn),t.Ba=n,t.Ha=e,t.X=i},xs=function(t){return g()+1e3*parseInt(t,10)};$s.prototype.getToken=function(t){return t=!!t,this.Ba&&!this.X?nn(new Lr("user-token-expired")):t||!this.Ba||g()>this.Ha-3e4?this.X?function(t,e){return function(t,e){return new Qe((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?bo(t,t.Bf+"?key="+encodeURIComponent(t.j),(function(t){t?t.error?i(na(t)):t.access_token&&t.refresh_token?n(t):i(new Lr("internal-error")):i(new Lr("network-request-failed"))}),"POST",Vi(e).toString(),t.ge,t.Cf.get()):i(new Lr("internal-error"))}))}(t.g,e).then((function(e){return t.Ba=e.access_token,t.Ha=xs(e.expires_in),t.X=e.refresh_token,{accessToken:t.Ba,expirationTime:t.Ha,refreshToken:t.X}})).f((function(e){throw"auth/user-token-expired"==e.code&&(t.X=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.X}):en(null):en({accessToken:this.Ba,expirationTime:this.Ha,refreshToken:this.X})};var ks=function(t,e,n,i,r){Tr(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,providerId:e})},Ss=function(t,e){for(var n in Nt.call(this,t),e)this[n]=e[n]};v(Ss,Nt);var Ts=function(t,e,n){this.ba=[],this.j=t.apiKey,this.D=t.appName,this.v=t.authDomain||null,t=firebase.SDK_VERSION?ar(firebase.SDK_VERSION):null,this.g=new fo(this.j,null,t),this.ia=new $s(this.g),Ds(this,e.idToken),As(this.ia,e),kr(this,"refreshToken",this.ia.X),Ls(this,n||{}),ti.call(this),this.vc=!1,this.v&&lr()&&(this.m=gs(this.v,this.j,this.D)),this.Ac=[],this.ka=null,this.mb=_s(this),this.vb=p(this.Xc,this)};v(Ts,ti),Ts.prototype.Xc=function(){this.mb.kb&&(this.mb.stop(),this.mb.start())};var _s=function(t){return new Ia((function(){return t.getToken(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.ia.Ha-g()-3e5;return 0<e?e:0}),3e4,96e4,!1)},Ms=function(t){t.Kd||t.mb.kb||(t.mb.start(),Jt(t,"tokenChanged",t.vb),Kt(t,"tokenChanged",t.vb))},Fs=function(t){Jt(t,"tokenChanged",t.vb),t.mb.stop()},Ds=function(t,e){t.Yd=e,kr(t,"_lat",e)},Rs=function(t){for(var e=[],n=0;n<t.Ac.length;n++)e.push(t.Ac[n](t));return function(t){return new Qe((function(e){var n=t.length,i=[];if(n)for(var r,o=function(t,r,o){n--,i[t]=r?{Ne:!0,value:o}:{Ne:!1,reason:o},0==n&&e(i)},a=0;a<t.length;a++)r=t[a],rn(r,m(o,a,!0),m(o,a,!1));else e(i)}))}(e).then((function(){return t}))},Os=function(t){t.m&&!t.vc&&(t.vc=!0,t.m.subscribe(t))},Ls=function(t,e){Tr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,identifierNumber:e.identifierNumber||null,isAnonymous:e.isAnonymous||!1,providerData:[]})};kr(Ts.prototype,"providerId","firebase");var Is=function(){},Ns=function(t){return en().then((function(){if(t.Kd)throw new Lr("app-deleted")}))},Bs=function(t){return P(t.providerData,(function(t){return t.providerId}))},Ps=function(t,e){e&&(Hs(t,e.providerId),t.providerData.push(e))},Hs=function(t,e){V(t.providerData,(function(t){return t.providerId==e}))},js=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&kr(t,e,n)};Ts.prototype.copy=function(t){var e=this;e!=t&&(Tr(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,identifierNumber:t.identifierNumber,isAnonymous:t.isAnonymous,providerData:[]}),B(t.providerData,(function(t){Ps(e,t)})),this.ia=t.ia,kr(this,"refreshToken",this.ia.X))},Ts.prototype.reload=function(){var t=this;return this.c(Ns(this).then((function(){return Us(t).then((function(){return Rs(t)})).then(Is)})))};var Us=function(t){return t.getToken().then((function(e){var n=t.isAnonymous;return Vs(t,e).then((function(){return n||js(t,"isAnonymous",!1),e}))}))};Ts.prototype.getToken=function(t){var e=this;return this.c(Ns(this).then((function(){return e.ia.getToken(t)})).then((function(t){if(!t)throw new Lr("internal-error");return t.accessToken!=e.Yd&&(Ds(e,t.accessToken),e.Na()),js(e,"refreshToken",t.refreshToken),t.accessToken})))};var Ws=function(t,e){e.idToken&&t.Yd!=e.idToken&&(As(t.ia,e),t.Na(),Ds(t,e.idToken),js(t,"refreshToken",t.ia.X))};Ts.prototype.Na=function(){this.dispatchEvent(new Ss("tokenChanged"))};var Vs=function(t,e){return ea(t.g,Bo,{idToken:e}).then(p(t.qf,t))};Ts.prototype.qf=function(t){if(!(t=t.users)||!t.length)throw new Lr("internal-error");t=t[0],Ls(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,identifierNumber:t.identifierNumber});for(var e=zs(t),n=0;n<e.length;n++)Ps(this,e[n]);js(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var zs=function(t){return(t=t.providerUserInfo)&&t.length?P(t,(function(t){return new ks(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl)})):[]};Ts.prototype.reauthenticate=function(t){return Ar("firebase.User.prototype.reauthenticate is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.reauthenticateWithCredential(t)},Ts.prototype.reauthenticateWithCredential=function(t){return function(t,e){var n=null;return t.c(e.ed(t.g,t.uid).then((function(e){return Ws(t,e),n=Ys(t,e,"reauthenticate"),t.ka=null,t.reload()})).then((function(){return n})),!0)}(this,t).then((function(){}))};var qs=function(t,e){return Us(t).then((function(){if(j(Bs(t),e))return Rs(t).then((function(){throw new Lr("provider-already-linked")}))}))};Ts.prototype.link=function(t){return Ar("firebase.User.prototype.link is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.linkWithCredential(t)},Ts.prototype.linkWithCredential=function(t){return function(t,e){var n=null;return t.c(qs(t,e.providerId).then((function(){return t.getToken()})).then((function(n){return e.cd(t.g,n)})).then((function(e){return n=Ys(t,e,"link"),Ks(t,e)})).then((function(){return n})))}(this,t).then((function(t){return t.user}))};var Ys=function(t,e,n){var i=ao(e);return e=Ba(e),_r({user:t,credential:i,additionalUserInfo:e,operationType:n})},Ks=function(t,e){return Ws(t,e),t.reload().then((function(){return t}))};(t=Ts.prototype).updateEmail=function(t){var e=this;return this.c(this.getToken().then((function(n){return e.g.updateEmail(n,t)})).then((function(t){return Ws(e,t),e.reload()})))},t.updatePassword=function(t){var e=this;return this.c(this.getToken().then((function(n){return e.g.updatePassword(n,t)})).then((function(t){return Ws(e,t),e.reload()})))},t.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ns(this);var e=this;return this.c(this.getToken().then((function(n){return e.g.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ws(e,t),js(e,"displayName",t.displayName||null),js(e,"photoURL",t.photoUrl||null),Rs(e)})).then(Is))},t.unlink=function(t){var e=this;return this.c(Us(this).then((function(n){return j(Bs(e),t)?function(t,e,n){return ea(t,No,{idToken:e,deleteProvider:n})}(e.g,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Bs(e),(function(t){n[t]||Hs(e,t)})),Rs(e)})):Rs(e).then((function(){throw new Lr("no-such-provider")}))})))},t.delete=function(){var t=this;return this.c(this.getToken().then((function(e){return ea(t.g,Io,{idToken:e})})).then((function(){t.dispatchEvent(new Ss("userDeleted"))}))).then((function(){for(var e=0;e<t.ba.length;e++)t.ba[e].cancel("app-deleted");t.ba=[],t.Kd=!0,Fs(t),kr(t,"refreshToken",null),t.m&&t.m.unsubscribe(t)}))},t.Fd=function(t,e){return!!("linkViaPopup"==t&&(this.ca||null)==e&&this.aa||"reauthViaPopup"==t&&(this.ca||null)==e&&this.aa||"linkViaRedirect"==t&&(this.za||null)==e||"reauthViaRedirect"==t&&(this.za||null)==e)},t.Va=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.ca||null)||(n&&this.Pa?this.Pa(n):e&&!n&&this.aa&&this.aa(e),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)},t.zb=function(t,e){return"linkViaPopup"==t&&e==(this.ca||null)?p(this.Nd,this):"reauthViaPopup"==t&&e==(this.ca||null)?p(this.Od,this):"linkViaRedirect"==t&&(this.za||null)==e?p(this.Nd,this):"reauthViaRedirect"==t&&(this.za||null)==e?p(this.Od,this):null},t.hc=function(){return gr(this.uid+":::")},Ts.prototype.linkWithPopup=function(t){return function(t,e){return Gs(t,"linkViaPopup",e,(function(){return qs(t,e.providerId).then((function(){return Rs(t)}))}),!1)}(this,t).then((function(t){return t?_r({user:t.user,credential:t.credential,operationType:t.operationType}):t}))},Ts.prototype.reauthenticateWithPopup=function(t){return function(t,e){return Gs(t,"reauthViaPopup",e,(function(){return en()}),!0)}(this,t).then((function(t){return t?_r({user:t.user,credential:t.credential,operationType:t.operationType}):t}))};var Gs=function(t,e,n,i,r){if(!lr())return nn(new Lr("operation-not-supported-in-this-environment"));if(t.ka&&!r)return nn(t.ka);var o=Or(n.providerId),a=t.hc(),s=null;(!dr()||nr())&&t.v&&n.isOAuthProvider&&(s=pa(t.v,t.j,t.D,e,n,null,a,firebase.SDK_VERSION||null));var c=Ji(s,o&&o.Mb,o&&o.Lb);return i=i().then((function(){if(Qs(t),!r)return t.getToken().then((function(){}))})).then((function(){return t.m.Nb(c,e,n,a,!!s)})).then((function(){return new Qe((function(n,i){t.Va(e,null,new Lr("cancelled-popup-request"),t.ca||null),t.aa=n,t.Pa=i,t.ca=a,t.F=t.m.Vb(t,e,c,a)}))})).then((function(t){return c&&Qi(c),t})).f((function(t){throw c&&Qi(c),t})),t.c(i,r)};Ts.prototype.linkWithRedirect=function(t){var e=this;return Xs(this,"linkViaRedirect",t,(function(){return qs(e,t.providerId)}),!1)},Ts.prototype.reauthenticateWithRedirect=function(t){return Xs(this,"reauthViaRedirect",t,(function(){return en()}),!0)};var Xs=function(t,e,n,i,r){if(!lr())return nn(new Lr("operation-not-supported-in-this-environment"));if(t.ka&&!r)return nn(t.ka);var o=null,a=t.hc();return i=i().then((function(){if(Qs(t),!r)return t.getToken().then((function(){}))})).then((function(){return t.za=a,Rs(t)})).then((function(e){return t.Sa&&(e=(e=t.Sa).i.set(ec,t.C(),e.u)),e})).then((function(){return t.m.Ob(e,n,a)})).f((function(e){if(o=e,t.Sa)return nc(t.Sa);throw o})).then((function(){if(o)throw o})),t.c(i,r)},Qs=function(t){if(!t.m||!t.vc){if(t.m&&!t.vc)throw new Lr("internal-error");throw new Lr("auth-domain-config-required")}};Ts.prototype.Nd=function(t,e){var n=this;this.F&&(this.F.cancel(),this.F=null);var i=null,r=this.getToken().then((function(i){return _o(n.g,{requestUri:t,sessionId:e,idToken:i})})).then((function(t){return i=Ys(n,t,"link"),Ks(n,t)})).then((function(){return i}));return this.c(r)},Ts.prototype.Od=function(t,e){var n=this;this.F&&(this.F.cancel(),this.F=null);var i=null,r=en().then((function(){return Ur(Mo(n.g,{requestUri:t,sessionId:e}),n.uid)})).then((function(t){return i=Ys(n,t,"reauthenticate"),Ws(n,t),n.ka=null,n.reload()})).then((function(){return i}));return this.c(r,!0)},Ts.prototype.sendEmailVerification=function(){var t=this;return this.c(this.getToken().then((function(e){return t.g.sendEmailVerification(e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},Ts.prototype.c=function(t,e){var n=this,i=Js(this,t,e);return this.ba.push(i),on(i,(function(){U(n.ba,i)})),i};var Js=function(t,e,n){return t.ka&&!n?(e.cancel(),nn(t.ka)):e.f((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.ka||t.dispatchEvent(new Ss("userInvalidated")),t.ka=e),e}))};Ts.prototype.toJSON=function(){return this.C()},Ts.prototype.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,identifierNumber:this.identifierNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.D,authDomain:this.v,stsTokenManager:this.ia.C(),redirectEventId:this.za||null};return B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var Zs=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-g())/1e3;var i=new Ts(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Ps(i,_r(t))})),t.redirectEventId&&(i.za=t.redirectEventId),i},tc=function(t){this.u=t,this.i=qa()},ec={name:"redirectUser",M:!1},nc=function(t){return t.i.remove(ec,t.u)},ic=function(t){this.u=t,this.i=qa()},rc={name:"authUser",M:!0},oc=function(t,e){return t.i.set(rc,e.C(),t.u)},ac=function(t){return t.i.remove(rc,t.u)},sc=function(t,e){return t.i.get(rc,t.u).then((function(t){return t&&e&&(t.authDomain=e),Zs(t||{})}))},cc=function(t){if(this.Fa=!1,kr(this,"app",t),!bc(this).options||!bc(this).options.apiKey)throw new Lr("invalid-api-key");t=firebase.SDK_VERSION?ar(firebase.SDK_VERSION):null,this.g=new fo(bc(this).options&&bc(this).options.apiKey,null,t),this.ba=[],this.Ca=[],this.ub=[],this.mf=firebase.INTERNAL.createSubscribe(p(this.Ze,this)),this.Ic=void 0,firebase.INTERNAL.createSubscribe(p(this.af,this)),fc(this,null),this.ta=new ic(bc(this).options.apiKey+":"+bc(this).name),this.pb=new tc(bc(this).options.apiKey+":"+bc(this).name),this.cc=this.c(pc(this)),this.qa=this.c(mc(this)),this.bd=!1,this.Vc=p(this.Gf,this),this.qe=p(this.gb,this),this.vb=p(this.Xc,this),this.oe=p(this.Ue,this),this.pe=p(this.Ve,this),uc(this),this.INTERNAL={},this.INTERNAL.delete=p(this.delete,this),this.Ia=0};cc.prototype.toJSON=function(){return{apiKey:bc(this).options.apiKey,authDomain:bc(this).options.authDomain,appName:bc(this).name,currentUser:yc(this)&&yc(this).C()}};var lc=function(t){return t.Ie||nn(new Lr("auth-domain-config-required"))},uc=function(t){var e=bc(t).options.authDomain,n=bc(t).options.apiKey;e&&lr()&&(t.Ie=t.cc.then((function(){if(!t.Fa)return t.m=gs(e,n,bc(t).name),t.m.subscribe(t),yc(t)&&Os(yc(t)),t.Sb&&(Os(t.Sb),t.Sb=null),t.m})))};(t=cc.prototype).Fd=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ca==e&&!!this.aa;default:return!1}},t.Va=function(t,e,n,i){"signInViaPopup"==t&&this.ca==i&&(n&&this.Pa?this.Pa(n):e&&!n&&this.aa&&this.aa(e),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)},t.zb=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.ca==e&&this.aa?p(this.Ke,this):null},t.Ke=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.F&&(this.F.cancel(),this.F=null);var i=null,r=null,o=To(n.g,t).then((function(t){return i=ao(t),r=Ba(t),t}));return t=n.cc.then((function(){return o})).then((function(t){return dc(n,t)})).then((function(){return _r({user:yc(n),credential:i,additionalUserInfo:r,operationType:"signIn"})})),this.c(t)},t.hc=function(){return gr()},cc.prototype.signInWithPopup=function(t){return function(t,e){if(!lr())return nn(new Lr("operation-not-supported-in-this-environment"));var n=Or(e.providerId),i=t.hc(),r=null;(!dr()||nr())&&bc(t).options.authDomain&&e.isOAuthProvider&&(r=pa(bc(t).options.authDomain,bc(t).options.apiKey,bc(t).name,"signInViaPopup",e,null,i,firebase.SDK_VERSION||null));var o=Ji(r,n&&n.Mb,n&&n.Lb);return n=lc(t).then((function(t){return t.Nb(o,"signInViaPopup",e,i,!!r)})).then((function(){return new Qe((function(e,n){t.Va("signInViaPopup",null,new Lr("cancelled-popup-request"),t.ca),t.aa=e,t.Pa=n,t.ca=i,t.F=t.m.Vb(t,"signInViaPopup",o,i)}))})).then((function(t){return o&&Qi(o),t})).f((function(t){throw o&&Qi(o),t})),t.c(n)}(this,t).then((function(t){return t?_r({user:t.user,credential:t.credential,operationType:t.operationType}):t}))},cc.prototype.getRedirectResult=function(){return hc(this).then((function(t){return t?_r({user:t.user,credential:t.credential,operationType:t.operationType}):t}))},cc.prototype.signInWithRedirect=function(t){if(!lr())return nn(new Lr("operation-not-supported-in-this-environment"));var e=this,n=lc(this).then((function(){return e.m.Ob("signInViaRedirect",t)}));return this.c(n)};var hc=function(t){if(!lr())return nn(new Lr("operation-not-supported-in-this-environment"));var e=lc(t).then((function(){return t.m.getRedirectResult()}));return t.c(e)},dc=function(t,e){var n={};return n.apiKey=bc(t).options.apiKey,n.authDomain=bc(t).options.authDomain,n.appName=bc(t).name,t.cc.then((function(){return function(t,e,n){var i=new Ts(t,e);return n&&(i.Sa=n),i.reload().then((function(){return i}))}(n,e,t.pb)})).then((function(e){return yc(t)&&e.uid==yc(t).uid?(yc(t).copy(e),t.gb(e)):(fc(t,e),Os(e),t.gb(e))})).then((function(){t.Na()}))},fc=function(t,e){yc(t)&&(function(t,e){V(t.Ac,(function(t){return t==e}))}(yc(t),t.qe),Jt(yc(t),"tokenChanged",t.vb),Jt(yc(t),"userDeleted",t.oe),Jt(yc(t),"userInvalidated",t.pe),Fs(yc(t))),e&&(e.Ac.push(t.qe),Kt(e,"tokenChanged",t.vb),Kt(e,"userDeleted",t.oe),Kt(e,"userInvalidated",t.pe),0<t.Ia&&Ms(e)),kr(t,"currentUser",e)};cc.prototype.signOut=function(){var t=this,e=this.qa.then((function(){return yc(t)?(fc(t,null),ac(t.ta).then((function(){t.Na()}))):en()}));return this.c(e)};var pc=function(t){var e=bc(t).options.authDomain,n=function(t){var e=function(t,e){return t.i.get(ec,t.u).then((function(t){return t&&e&&(t.authDomain=e),Zs(t||{})}))}(t.pb,bc(t).options.authDomain).then((function(e){return(t.Sb=e)&&(e.Sa=t.pb),nc(t.pb)}));return t.c(e)}(t).then((function(){return sc(t.ta,e)})).then((function(e){return e?(e.Sa=t.pb,t.Sb&&(t.Sb.za||null)==(e.za||null)?e:e.reload().then((function(){return oc(t.ta,e).then((function(){return e}))})).f((function(n){return"auth/network-request-failed"==n.code?e:ac(t.ta)}))):null})).then((function(e){fc(t,e||null)}));return t.c(n)},mc=function(t){return t.cc.then((function(){return t.getRedirectResult()})).f((function(){})).then((function(){if(!t.Fa)return t.Vc()})).f((function(){})).then((function(){if(!t.Fa){t.bd=!0;var e=t.ta;e.i.addListener(rc,e.u,t.Vc)}}))};(t=cc.prototype).Gf=function(){var t=this;return sc(this.ta,bc(this).options.authDomain).then((function(e){if(!t.Fa){var n;if(n=yc(t)&&e){n=yc(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return yc(t).copy(e),yc(t).getToken();(yc(t)||e)&&(fc(t,e),e&&(Os(e),e.Sa=t.pb),t.m&&t.m.subscribe(t),t.Na())}}))},t.gb=function(t){return oc(this.ta,t)},t.Xc=function(){this.Na(),this.gb(yc(this))},t.Ue=function(){this.signOut()},t.Ve=function(){this.signOut()};var gc=function(t,e){var n=null,i=null;return t.c(e.then((function(e){return n=ao(e),i=Ba(e),dc(t,e)})).then((function(){return _r({user:yc(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))};(t=cc.prototype).Ze=function(t){var e=this;this.addAuthTokenListener((function(){t.next(yc(e))}))},t.af=function(t){var e=this;Ec(this,(function(){t.next(yc(e))}))},t.onAuthStateChanged=function(t,e,n){var i=this;return this.bd&&firebase.Promise.resolve().then((function(){u(t)?t(yc(i)):u(t.next)&&t.next(yc(i))})),this.mf(t,e,n)},t.getToken=function(t){var e=this,n=this.qa.then((function(){return yc(e)?yc(e).getToken(t).then((function(t){return{accessToken:t}})):null}));return this.c(n)},t.signInWithCustomToken=function(t){var e=this;return this.qa.then((function(){return gc(e,ea(e.g,Xo,{token:t}))})).then((function(t){return t=t.user,js(t,"isAnonymous",!1),e.gb(t)})).then((function(){return yc(e)}))},t.signInWithEmailAndPassword=function(t,e){var n=this;return this.qa.then((function(){return gc(n,ea(n.g,Qo,{email:t,password:e}))})).then((function(t){return t.user}))},t.createUserWithEmailAndPassword=function(t,e){var n=this;return this.qa.then((function(){return gc(n,ea(n.g,Oo,{email:t,password:e}))})).then((function(t){return t.user}))},t.signInWithCredential=function(t){return vc(this,t).then((function(t){return t.user}))};var vc=function(t,e){return t.qa.then((function(){return gc(t,e.Ab(t.g))}))};cc.prototype.signInAnonymously=function(){var t=yc(this),e=this;return t&&t.isAnonymous?en(t):this.qa.then((function(){return gc(e,e.g.signInAnonymously())})).then((function(t){return t=t.user,js(t,"isAnonymous",!0),e.gb(t)})).then((function(){return yc(e)}))};var bc=function(t){return t.app},yc=function(t){return t.currentUser};cc.prototype.getUid=function(){return yc(this)&&yc(this).uid||null};var wc=function(t){return yc(t)&&yc(t)._lat||null};(t=cc.prototype).Na=function(){if(this.bd){for(var t=0;t<this.Ca.length;t++)this.Ca[t]&&this.Ca[t](wc(this));if(this.Ic!==this.getUid()&&this.ub.length)for(this.Ic=this.getUid(),t=0;t<this.ub.length;t++)this.ub[t]&&this.ub[t](wc(this))}},t.Ae=function(t){this.addAuthTokenListener(t),this.Ia++,0<this.Ia&&yc(this)&&Ms(yc(this))},t.uf=function(t){var e=this;B(this.Ca,(function(n){n==t&&e.Ia--})),0>this.Ia&&(this.Ia=0),0==this.Ia&&yc(this)&&Fs(yc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.Ca.push(t),this.c(this.qa.then((function(){e.Fa||j(e.Ca,t)&&t(wc(e))})))},t.removeAuthTokenListener=function(t){V(this.Ca,(function(e){return e==t}))};var Ec=function(t,e){t.ub.push(e),t.c(t.qa.then((function(){!t.Fa&&j(t.ub,e)&&t.Ic!==t.getUid()&&(t.Ic=t.getUid(),e(wc(t)))})))};(t=cc.prototype).delete=function(){this.Fa=!0;for(var t=0;t<this.ba.length;t++)this.ba[t].cancel("app-deleted");return this.ba=[],this.ta&&(t=this.ta).i.removeListener(rc,t.u,this.Vc),this.m&&this.m.unsubscribe(this),firebase.Promise.resolve()},t.c=function(t){var e=this;return this.ba.push(t),on(t,(function(){U(e.ba,t)})),t},t.fetchProvidersForEmail=function(t){return this.c(function(t,e){return ea(t,Lo,{identifier:e,continueUri:ur()?Yi():"http://localhost"}).then((function(t){return t.allProviders||[]}))}(this.g,t))},t.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then((function(t){return t.data.email}))},t.confirmPasswordReset=function(t,e){return this.c(this.g.confirmPasswordReset(t,e).then((function(){})))},t.checkActionCode=function(t){return this.c(this.g.checkActionCode(t).then((function(t){return new La(t)})))},t.applyActionCode=function(t){return this.c(this.g.applyActionCode(t).then((function(){})))},t.sendPasswordResetEmail=function(t){return this.c(this.g.sendPasswordResetEmail(t).then((function(){})))};var Cc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),$c=function(t,e){return{name:t||"",ja:"a valid string",optional:!!e,la:c}},Ac=function(t){return{name:t||"",ja:"a valid object",optional:!1,la:h}},xc=function(t,e){return{name:t||"",ja:"a function",optional:!!e,la:u}},kc=function(){return{name:"",ja:"null",optional:!1,la:o}},Sc=function(t,e,n,i){return{name:n||"",ja:t.ja+" or "+e.ja,optional:!!i,la:function(n){return t.la(n)||e.la(n)}}},Tc=function(t,e){for(var n in e){var i=e[n].name;t[i]=Mc(i,t[n],e[n].a)}},_c=function(t,e,n,i){t[e]=Mc(e,n,i)},Mc=function(t,e,n){if(!n)return e;var i=Fc(t);for(var r in t=function(){var t,r=Array.prototype.slice.call(arguments);t:{var o;t=Array.prototype.slice.call(r),o=0;for(var a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new Lr("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=n.length,t.length<o||a<t.length)t="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+t.length+".";else{for(o=0;o<t.length;o++)if(a=n[o].optional&&void 0===t[o],!n[o].la(t[o])&&!a){if(t=n[o],0>o||o>=Cc.length)throw new Lr("internal-error","Argument validator received an unsupported number of arguments.");t=Cc[o]+" argument "+(t.name?'"'+t.name+'" ':"")+"must be "+t.ja+".";break t}t=null}}if(t)throw new Lr("argument-error",i+" failed: "+t);return e.apply(this,r)},e)t[r]=e[r];for(r in e.prototype)t.prototype[r]=e.prototype[r];return t},Fc=function(t){return(t=t.split("."))[t.length-1]};Tc(cc.prototype,{applyActionCode:{name:"applyActionCode",a:[$c("code")]},checkActionCode:{name:"checkActionCode",a:[$c("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[$c("code"),$c("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[$c("email"),$c("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[$c("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Sc(Ac(),xc(),"nextOrObserver"),xc("opt_error",!0),xc("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[$c("email")]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[{name:"credential",ja:"a valid credential",optional:!1,la:function(t){return!!t&&!!t.Ab}}]},signInWithCustomToken:{name:"signInWithCustomToken",a:[$c("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[$c("email"),$c("password")]},signInWithPopup:{name:"signInWithPopup",a:[{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},signInWithRedirect:{name:"signInWithRedirect",a:[{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[$c(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[$c("code")]}}),Tc(Ts.prototype,{delete:{name:"delete",a:[]},getToken:{name:"getToken",a:[{name:"opt_forceRefresh",ja:"a boolean",optional:!0,la:function(t){return"boolean"==typeof t}}]},link:{name:"link",a:[{name:"credential",ja:"a valid credential",optional:!1,la:function(t){return!!t&&!!t.Ab}}]},linkWithCredential:{name:"linkWithCredential",a:[{name:"credential",ja:"a valid credential",optional:!1,la:function(t){return!!t&&!!t.Ab}}]},linkWithPopup:{name:"linkWithPopup",a:[{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},linkWithRedirect:{name:"linkWithRedirect",a:[{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reauthenticate:{name:"reauthenticate",a:[{name:"credential",ja:"a valid credential",optional:!1,la:function(t){return!!t&&!!t.Ab}}]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[{name:"credential",ja:"a valid credential",optional:!1,la:function(t){return!!t&&!!t.Ab}}]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[$c(null,!0)]},unlink:{name:"unlink",a:[$c("provider")]},updateEmail:{name:"updateEmail",a:[$c("email")]},updatePassword:{name:"updatePassword",a:[$c("password")]},updateProfile:{name:"updateProfile",a:[Ac("profile")]}}),Tc(Qe.prototype,{f:{name:"catch"},then:{name:"then"}}),_c(no,"credential",(function(t,e){return new eo(t,e)}),[$c("email"),$c("password")]),Tc(Yr.prototype,{addScope:{name:"addScope",a:[$c("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Ac("customOAuthParameters")]}}),_c(Yr,"credential",Kr,[Sc($c(),Ac(),"token")]),Tc(Gr.prototype,{addScope:{name:"addScope",a:[$c("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Ac("customOAuthParameters")]}}),_c(Gr,"credential",Xr,[Sc($c(),Ac(),"token")]),Tc(Qr.prototype,{addScope:{name:"addScope",a:[$c("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Ac("customOAuthParameters")]}}),_c(Qr,"credential",Jr,[Sc($c(),Sc(Ac(),kc()),"idToken"),Sc($c(),kc(),"accessToken",!0)]),Tc(Zr.prototype,{setCustomParameters:{name:"setCustomParameters",a:[Ac("customOAuthParameters")]}}),_c(Zr,"credential",to,[Sc($c(),Ac(),"token"),$c("secret",!0)]),Tc(Lr.prototype,{toJSON:{name:"toJSON",a:[$c(null,!0)]}}),Tc(co.prototype,{toJSON:{name:"toJSON",a:[$c(null,!0)]}}),Tc(Hr.prototype,{toJSON:{name:"toJSON",a:[$c(null,!0)]}}),function(){if(void 0===firebase||!firebase.INTERNAL||!firebase.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:cc,Error:Lr};_c(t,"EmailAuthProvider",no,[]),_c(t,"FacebookAuthProvider",Yr,[]),_c(t,"GithubAuthProvider",Gr,[]),_c(t,"GoogleAuthProvider",Qr,[]),_c(t,"TwitterAuthProvider",Zr,[]),firebase.INTERNAL.registerService("auth",(function(t,e){return t=new cc(t),e({INTERNAL:{getUid:p(t.getUid,t),getToken:p(t.getToken,t),addAuthTokenListener:p(t.Ae,t),removeAuthTokenListener:p(t.uf,t)}}),t}),t,(function(t,e){if("create"===t)try{e.auth()}catch(t){}})),firebase.INTERNAL.extendNamespace({User:Ts})}()}).call(this),function(){var g,aa=this;function n(t){return void 0!==t}function ba(){}function ca(t){t.Vb=function(){return t.Ye?t.Ye:t.Ye=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka).apply(null,arguments)}function la(t,e){function n(){}n.prototype=e.prototype,t.wg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.sg=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function ma(a){if(a=String(a),!/^\s*$/.test(a)&&/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(t,e,n){switch(typeof e){case"string":pa(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var r="",o=0;o<i;o++)n.push(r),r=e[o],oa(t,t.Fd?t.Fd.call(e,String(o),r):r,n),r=",";n.push("]");break}for(o in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,o)&&"function"!=typeof(r=e[o])&&(n.push(i),pa(o,n),n.push(":"),oa(t,t.Fd?t.Fd.call(e,o,r):r,n),i=",");n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}var qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ra=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,r;function pa(t,e){e.push('"',t.replace(ra,(function(t){if(t in qa)return qa[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),qa[t]=n+e.toString(16)})),'"')}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var t=1;t<this.Wa;++t)this.zd[t]=0;this.Pd=this.$b=0,this.reset()}function ua(t,e,n){n||(n=0);var i=t.Af;if(p(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.M[0],n=t.M[1];var a,s=t.M[2],c=t.M[3],l=t.M[4];for(r=0;80>r;r++)40>r?20>r?(o=c^n&(s^c),a=1518500249):(o=n^s^c,a=1859775393):60>r?(o=n&s|c&(n|s),a=2400959708):(o=n^s^c,a=3395469782),o=(e<<5|e>>>27)+o+l+a+i[r]&4294967295,l=c,c=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.M[0]=t.M[0]+e&4294967295,t.M[1]=t.M[1]+n&4294967295,t.M[2]=t.M[2]+s&4294967295,t.M[3]=t.M[3]+c&4294967295,t.M[4]=t.M[4]+l&4294967295}la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var i=e-this.Wa,r=0,o=this.Wd,a=this.$b;r<e;){if(0==a)for(;r<=i;)ua(this,t,r),r+=this.Wa;if(p(t)){for(;r<e;)if(o[a]=t.charCodeAt(r),++r,++a==this.Wa){ua(this,o),a=0;break}}else for(;r<e;)if(o[a]=t[r],++r,++a==this.Wa){ua(this,o),a=0;break}}this.$b=a,this.Pd+=e}};t:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break t}}r=""}var t=Array.prototype,xa=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ya=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},za=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=p(t)?t.split(""):t,s=0;s<i;s++)if(s in a){var c=a[s];e.call(n,c,s,t)&&(r[o++]=c)}return r},Aa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=Array(i),o=p(t)?t.split(""):t,a=0;a<i;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},Ba=t.reduce?function(e,n,i,r){for(var o=[],a=1,s=arguments.length;a<s;a++)o.push(arguments[a]);return r&&(o[0]=q(n,r)),t.reduce.apply(e,o)}:function(t,e,n,i){var r=n;return ya(t,(function(n,o){r=e.call(i,r,n,o,t)})),r},Ca=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&!e.call(n,r[o],o,t))return!1;return!0};function Da(t,e){var n=Ea(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ea(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Fa(e,n){var i=xa(e,n);0<=i&&t.splice.call(e,i,1)}function Ga(e,n,i){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,i)}function Ha(t,e){t.sort(e||Ia)}function Ia(t,e){return t>e?1:t<e?-1:0}function v(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Ja(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function Ka(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function La(t){var e,n=0;for(e in t)n++;return n}function Ma(t){for(var e in t)return e}function Na(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function Oa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function Pa(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function Qa(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function Ra(t,e){var n=Qa(t,e,void 0);return n&&t[n]}function Sa(t){for(var e in t)return!1;return!0}function Ta(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit"),b,a;a="",Ua&&aa.opera?ha(a=aa.opera.version)&&a():(Wa?b=/rv\:([^\);]+)(\)|;)/:Va?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(b=/WebKit\/(\S+)/),b&&(a=(a=b.exec(r))?a[1]:""),Va&&(b=(b=aa.document)?b.documentMode:void 0)>parseFloat(a)&&String(b));var Ya=null,Za=null,$a=null;function ab(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=e?Za:Ya,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,c=r+2<t.length,l=o>>2,u=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(u=c?t[r+2]:0)>>6,63&u);c||(u=64,a||(s=64)),i.push(n[l],n[o],n[s],n[u])}return i.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var t=0;65>t;t++)Ya[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Za[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),$a[Za[t]]=t,62<=t&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function cb(t,e){if(!t)throw db(e)}function db(t){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}function eb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gb(t){var e=[];return fb(t,(function(t,n){ea(n)?ya(n,(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})),e.length?"&"+e.join("&"):""}var hb=firebase.Promise;function ib(){var t=this;this.reject=this.resolve=null,this.ra=new hb((function(e,n){t.resolve=e,t.reject=n}))}function jb(t,e){return function(n,i){n?t.reject(n):t.resolve(i),ha(e)&&(kb(t.ra),1===e.length?e(n):e(n,i))}}function kb(t){t.then(void 0,ba)}function lb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):ma(t)}function x(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];oa(new na,t,e),t=e.join("")}return t}function mb(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);55296<=r&&56319>=r&&(r-=55296,cb(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),128>r?e[n++]=r:(2048>r?e[n++]=r>>6|192:(65536>r?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function nb(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:55296<=i&&56319>=i?(e+=4,n++):e+=3}return e}function y(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function A(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}function B(t,e,i,r){if((!r||n(i))&&!ha(i))throw Error(A(t,e,r)+"must be a valid function.")}function ob(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(A(t,e,!0)+"must be a valid context object.")}function pb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function C(t,e){this.name=t,this.R=e}function qb(t,e){return new C(t,e)}function rb(t,e){return sb(t.name,e.name)}function tb(t,e){return sb(t,e)}function ub(t){this.uc=t,this.Cd="firebase:"}function vb(){this.pc={}}function wb(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ub(e)}}catch(t){}return new vb}g=ub.prototype,g.set=function(t,e){null==e?this.uc.removeItem(this.Cd+t):this.uc.setItem(this.Cd+t,x(e))},g.get=function(t){return null==(t=this.uc.getItem(this.Cd+t))?null:lb(t)},g.remove=function(t){this.uc.removeItem(this.Cd+t)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(t,e){null==e?delete this.pc[t]:this.pc[t]=e},vb.prototype.get=function(t){return eb(this.pc,t)?this.pc[t]:null},vb.prototype.remove=function(t){delete this.pc[t]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");function zb(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=e,this.pe=n,this.qg=i,this.gf=r||"",this.$a=xb.get("host:"+t)||this.host}function Ab(t,e){e!==t.$a&&(t.$a=e,"s-"===t.$a.substr(0,2)&&xb.set("host:"+t.host,t.$a))}function Bb(t,e,n){if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===Cb)e=(t.Sc?"wss://":"ws://")+t.$a+"/.ws?";else{if(e!==Db)throw Error("Unknown connection type: "+e);e=(t.Sc?"https://":"http://")+t.$a+"/.lp?"}t.host!==t.$a&&(n.ns=t.pe);var i=[];return v(n,(function(t,e){i.push(e+"="+t)})),e+i.join("&")}function Eb(t,e){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Fb(t,e){var n=new Gb;return Hb(t,new E(""),(function(t,i){Ib(n,t,Jb(i,e))})),n}function Jb(t,e){var n,i=Eb(i=t.C().H(),e);if(t.J()){var r=Eb(t.Ca(),e);return r!==t.Ca()||i!==t.C().H()?new Kb(r,G(i)):t}return n=t,i!==t.C().H()&&(n=n.fa(new Kb(i))),t.O(H,(function(t,i){var r=Jb(i,e);r!==i&&(n=n.T(t,r))})),n}zb.prototype.toString=function(){var t=(this.Sc?"https://":"http://")+this.host;return this.gf&&(t+="<"+this.gf+">"),t};var Lb=function(){var t=1;return function(){return t++}}(),D=cb,Mb=db;function Nb(t){try{var e;bb();for(var n=$a,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==c)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=c&&i.push(s<<6&192|c))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Ga(i,n,n+8192));e=t}return e}catch(t){I("base64Decode failed: ",t)}return null}function Ob(t){var e=mb(t);(t=new ta).update(e),e=[];var n=8*t.Pd;56>t.$b?t.update(t.zd,56-t.$b):t.update(t.zd,t.Wa-(t.$b-56));for(var i=t.Wa-1;56<=i;i--)t.Wd[i]=255&n,n/=256;for(ua(t,t.Wd),i=n=0;5>i;i++)for(var r=24;0<=r;r-=8)e[n]=t.M[i]>>r&255,++n;return ab(e)}function Pb(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Pb.apply(null,arguments[n]):"object"==typeof arguments[n]?e+x(arguments[n]):e+arguments[n],e+=" ";return e}var Qb=null,Rb=!0;function Sb(t,e){cb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Qb=q(console.log,console):"object"==typeof console.log&&(Qb=function(t){console.log(t)})),e&&yb.set("logging_enabled",!0)):ha(t)?Qb=t:(Qb=null,yb.remove("logging_enabled"))}function I(t){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var e=Pb.apply(null,arguments);Qb(e)}}function Tb(t){return function(){I(t,arguments)}}function Ub(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);void 0!==console.error?console.error(e):console.log(e)}}function Vb(t){var e=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function J(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+Pb.apply(null,arguments);void 0!==console.warn?console.warn(e):console.log(e)}}function Wb(t){var e,n,i,r,o,a=t;if(o=n=t=e="",i=!0,r="https",p(a)){var s=a.indexOf("//");for(0<=s&&(r=a.substring(0,s-1),a=a.substring(s+2)),-1===(s=a.indexOf("/"))&&(s=a.length),e=a.substring(0,s),o="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var c=a[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(t){}o+="/"+c}3===(a=e.split(".")).length?(t=a[1],n=a[0].toLowerCase()):2===a.length&&(t=a[0]),0<=(s=e.indexOf(":"))&&(i="https"===r||"wss"===r)}return"firebase"===t&&Vb(e+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb(e,i,n,"ws"===r||"wss"===r),path:new E(o)}}function Xb(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Yb(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}function sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Zb(t),i=Zb(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}function $b(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+x(e))}function ac(t){if("object"!=typeof t||null===t)return x(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=x(n[i]),e+=":",e+=ac(t[n[i]]);return e+"}"}function bc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)i+e>t?n.push(t.substring(i,t.length)):n.push(t.substring(i,i+e));return n}function cc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v(t,e)}function dc(t){var e,n,i,r;for(D(!Xb(t),"Invalid JSON number"),0===t?(i=n=0,e=-1/0==1/t?1:0):(e=0>t,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;64>t;t+=8)1===(i=parseInt(e.substr(t,8),2).toString(16)).length&&(i="0"+i),n+=i;return n.toLowerCase()}var ec=/^-?\d{1,10}$/;function Zb(t){return ec.test(t)&&-2147483648<=(t=Number(t))&&2147483647>=t?t:null}function fc(t){try{t()}catch(t){setTimeout((function(){throw J("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}}function gc(t,e,n){Object.defineProperty(t,e,{get:n})}function hc(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}function ic(t){var e={},n={},i={},r="";try{var o=t.split(".");e=lb(Nb(o[0])||""),n=lb(Nb(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(t){}return{tg:e,Je:n,data:i,mg:r}}function jc(t){var e=(t=ic(t)).Je;return!!t.mg&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function kc(t){return"object"==typeof(t=ic(t).Je)&&!0===w(t,"admin")}function lc(){}var mc={};function nc(t){return q(t.compare,t)}function pc(t){D(!t.e()&&".priority"!==K(t),"Can't create PathIndex with empty path or .priority key"),this.bc=t}function rc(){}lc.prototype.nd=function(t,e){return 0!==this.compare(new C("[MIN_NAME]",t),new C("[MIN_NAME]",e))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(t){return!t.P(this.bc).e()},g.compare=function(t,e){var n=t.R.P(this.bc),i=e.R.P(this.bc);return 0===(n=n.sc(i))?sb(t.name,e.name):n},g.Ec=function(t,e){var n=G(t);return new C(e,n=L.F(this.bc,n))},g.Fc=function(){return new C("[MAX_NAME]",L.F(this.bc,qc))},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(t,e){var n=t.R.C(),i=e.R.C();return 0===(n=n.sc(i))?sb(t.name,e.name):n},g.xc=function(t){return!t.C().e()},g.nd=function(t,e){return!t.C().Z(e.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(t,e){return new C(e,new Kb("[PRIORITY-POST]",G(t)))},g.toString=function(){return".priority"};var H=new rc;function sc(){}la(sc,lc),g=sc.prototype,g.compare=function(t,e){return sb(t.name,e.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(t){return D(p(t),"KeyIndex indexValue must always be a string."),new C(t,L)},g.toString=function(){return".key"};var tc=new sc;function uc(){}la(uc,lc),g=uc.prototype,g.compare=function(t,e){var n=t.R.sc(e.R);return 0===n?sb(t.name,e.name):n},g.xc=function(){return!0},g.nd=function(t,e){return!t.Z(e)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(t,e){return new C(e,G(t))},g.toString=function(){return".value"};var wc=new uc;function xc(t,e){this.od=t,this.cc=e}function yc(t,e,n){return new xc(Ja(t.od,(function(i,r){var o=w(t.cc,r);if(D(o,"Missing index implementation for "+r),i===mc){if(o.xc(e.R)){for(var a=[],s=n.Wb(qb),c=M(s);c;)c.name!=e.name&&a.push(c),c=M(s);return a.push(e),zc(a,nc(o))}return mc}return a=i,(o=n.get(e.name))&&(a=a.remove(new C(e.name,o))),a.Oa(e,e.R)})),t.cc)}function Ac(t,e,n){var i=Ja(t.od,(function(t){if(t===mc)return t;var i=n.get(e.name);return i?t.remove(new C(e.name,i)):t}));return new xc(i,t.cc)}xc.prototype.get=function(t){var e=w(this.od,t);if(!e)throw Error("No index defined for "+t);return e===mc?null:e};var Bc=new xc({".priority":mc},{".priority":H});function Kb(t,e){this.B=t,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||L,Cc(this.aa),this.Db=null}var Dc=["object","boolean","number","string"];function Gc(){this.set={}}function Hc(t,e){v(t.set,(function(t,n){e(n,t)}))}function Ic(t){D(ea(t)&&0<t.length,"Requires a non-empty array"),this.Bf=t,this.Dc={}}function Jc(t,e){D(Da(t.Bf,(function(t){return t===e})),"Unknown event: "+e)}g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(t){return new Kb(this.B,t)},g.Q=function(t){return".priority"===t?this.aa:L},g.P=function(t){return t.e()?this:".priority"===K(t)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(t,e){return".priority"===t?this.fa(e):e.e()&&".priority"!==t?this:L.T(t,e).fa(this.aa)},g.F=function(t,e){var n=K(t);return null===n?e:e.e()&&".priority"!==n?this:(D(".priority"!==n||1===Ec(t),".priority must be the last token in a path"),this.T(n,L.F(N(t),e)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(t){return t&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var t="";this.aa.e()||(t+="priority:"+Fc(this.aa.H())+":");var e=typeof this.B;t+=e+":",t="number"===e?t+dc(this.B):t+this.B,this.Db=Ob(t)}return this.Db},g.Ca=function(){return this.B},g.sc=function(t){if(t===L)return 1;if(t instanceof O)return-1;D(t.J(),"Unknown node type");var e=typeof t.B,n=typeof this.B,i=xa(Dc,e),r=xa(Dc,n);return D(0<=i,"Unknown leaf type: "+e),D(0<=r,"Unknown leaf type: "+n),i===r?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:r-i},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(t){return t===this||!!t.J()&&this.B===t.B&&this.aa.Z(t.aa)},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(t,e){this.set[t]=null===e||e},g.contains=function(t){return eb(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var t=[];return v(this.set,(function(e,n){t.push(n)})),t},Ic.prototype.Ge=function(t,e){var n,i=(n=this.Dc[t]||[]).length;if(0<i){for(var r=Array(i),o=0;o<i;o++)r[o]=n[o];n=r}else n=[];for(i=0;i<n.length;i++)n[i].Ie.apply(n[i].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(t,e,n){Jc(this,t),this.Dc[t]=this.Dc[t]||[],this.Dc[t].push({Ie:e,Ma:n}),(t=this.Ue(t))&&e.apply(n,t)},Ic.prototype.Ic=function(t,e,n){Jc(this,t),t=this.Dc[t]||[];for(var i=0;i<t.length;i++)if(t[i].Ie===e&&(!n||n===t[i].Ma)){t.splice(i,1);break}};var Kc=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var r=Array(8),o=7;0<=o;o--)r[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(D(0===n,"Cannot push at time == 0"),n=r.join(""),i){for(o=11;0<=o&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return D(20===n.length,"nextPushId: Length should be 20."),n}}();function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!pb()){var t=this;window.addEventListener("online",(function(){t.hc||(t.hc=!0,t.Ge("online",!0))}),!1),window.addEventListener("offline",(function(){t.hc&&(t.hc=!1,t.Ge("online",!1))}),!1)}}function Mc(){var t,e;if(Ic.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Mb=!0,e){var n=this;document.addEventListener(e,(function(){var e=!document[t];e!==n.Mb&&(n.Mb=e,n.Ge("visible",e))}),!1)}}function E(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Y=0}else this.o=t,this.Y=e}function P(t,e){var n=K(t);if(null===n)return e;if(n===K(e))return P(N(t),N(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Nc(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=sb(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function K(t){return t.Y>=t.o.length?null:t.o[t.Y]}function Ec(t){return t.o.length-t.Y}function N(t){var e=t.Y;return e<t.o.length&&e++,new E(t.o,e)}function Oc(t){return t.Y<t.o.length?t.o[t.o.length-1]:null}la(Lc,Ic),Lc.prototype.Ue=function(t){return D("online"===t,"Unknown event type: "+t),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(t){return D("visible"===t,"Unknown event type: "+t),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var t="",e=this.Y;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},g.slice=function(t){return this.o.slice(this.Y+(t||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var t=[],e=this.Y;e<this.o.length-1;e++)t.push(this.o[e]);return new E(t,0)},g.n=function(t){for(var e=[],n=this.Y;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof E)for(n=t.Y;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new E(e,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(t){if(Ec(this)!==Ec(t))return!1;for(var e=this.Y,n=t.Y;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},g.contains=function(t){var e=this.Y,n=t.Y;if(Ec(this)>Ec(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var Q=new E("");function Pc(t,e){this.Qa=t.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=e;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qc(this)}function Qc(t){if(768<t.Ha)throw Error(t.Qe+"has a key path longer than 768 bytes ("+t.Ha+").");if(32<t.Qa.length)throw Error(t.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(t))}function Rc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(t,e,n){this.ud=t||"",this.Pc=e||null,this.A=n||new Sc}function Uc(t,e){for(var n,i=e instanceof E?e:new E(e),r=t;null!==(n=K(i));)r=new Tc(n,r,w(r.A.children,n)||new Sc),i=N(i);return r}function Vc(t,e){D(void 0!==e,"Cannot set value to undefined"),t.A.value=e,Wc(t)}function Xc(t,e,n,i){n&&!i&&e(t),t.O((function(t){Xc(t,e,!0,i)})),n&&i&&e(t)}function Yc(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Wc(t){if(null!==t.Pc){var e=t.Pc,n=t.ud,i=t.e(),r=eb(e.A.children,n);i&&r?(delete e.A.children[n],e.A.bd--,Wc(e)):i||r||(e.A.children[n]=t.A,e.A.bd++,Wc(e))}}function Zc(t,e){this.La=t,this.ba=e||$c}function ad(t,e){for(var n,i=t.ba,r=null;!i.e();){if(0===(n=t.La(e,i.key))){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:0<n&&(r=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(t,e,n,i,r){for(this.Hd=r||null,this.le=i,this.Pa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),0>r)t=this.le?t.left:t.right;else{if(0===r){this.Pa.push(t);break}this.Pa.push(t),t=this.le?t.right:t.left}}function M(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Hd?t.Hd(n.key,n.value):{key:n.key,value:n.value},t.le)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function cd(t){return 0===t.Pa.length?null:(e=(e=t.Pa)[e.length-1],t.Hd?t.Hd(e.key,e.value):{key:e.key,value:e.value});var e}function dd(t,e,n,i,r){this.key=t,this.value=e,this.color=null==n||n,this.left=null!=i?i:$c,this.right=null!=r?r:$c}function ed(t){return t.left.e()?t:ed(t.left)}function hd(t){return t.left.e()?$c:(t.left.ea()||t.left.left.ea()||(t=id(t)),gd(t=t.X(null,null,null,hd(t.left),null)))}function gd(t){return t.right.ea()&&!t.left.ea()&&(t=ld(t)),t.left.ea()&&t.left.left.ea()&&(t=jd(t)),t.left.ea()&&t.right.ea()&&(t=kd(t)),t}function id(t){return(t=kd(t)).right.left.ea()&&(t=kd(t=ld(t=t.X(null,null,null,null,jd(t.right))))),t}function ld(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function jd(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function kd(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function md(){}Pc.prototype.push=function(t){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(t),this.Ha+=nb(t),Qc(this)},Pc.prototype.pop=function(){var t=this.Qa.pop();this.Ha-=nb(t),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(t){var e=this;v(this.A.children,(function(n,i){t(new Tc(i,e,n))}))},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(t,e){return new Zc(this.La,this.ba.Oa(t,e,this.La).X(null,null,!1,null,null))},g.remove=function(t){return new Zc(this.La,this.ba.remove(t,this.La).X(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.ba;!n.e();){if(0===(e=this.La(t,n.key)))return n.value;0>e?n=n.left:0<e&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(t){return this.ba.ha(t)},g.Wb=function(t){return new bd(this.ba,null,this.La,!1,t)},g.Xb=function(t,e){return new bd(this.ba,t,this.La,!1,e)},g.Zb=function(t,e){return new bd(this.ba,t,this.La,!0,e)},g.We=function(t){return new bd(this.ba,null,this.La,!0,t)},g=dd.prototype,g.X=function(t,e,n,i,r){return new dd(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(t,e,n){var i,r;return gd(r=0>(i=n(t,(r=this).key))?r.X(null,null,null,r.left.Oa(t,e,n),null):0===i?r.X(null,e,null,null,null):r.X(null,null,null,null,r.right.Oa(t,e,n)))},g.remove=function(t,e){var n,i;if(0>e(t,(n=this).key))n.left.e()||n.left.ea()||n.left.left.ea()||(n=id(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.ea()&&(n=jd(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=kd(n)).left.left.ea()&&(n=kd(n=jd(n))),0===e(t,n.key)){if(n.right.e())return $c;i=ed(n.right),n=n.X(i.key,i.value,null,null,hd(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return gd(n)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(t,e){return new dd(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;function O(t,e,n){this.k=t,(this.aa=e)&&Cc(this.aa),t.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(t){return this.k.e()?this:new O(this.k,t,this.yb)},g.Q=function(t){return".priority"===t?this.C():null===(t=this.k.get(t))?L:t},g.P=function(t){var e=K(t);return null===e?this:this.Q(e).P(N(t))},g.Da=function(t){return null!==this.k.get(t)},g.T=function(t,e){if(D(e,"We should always be passing snapshot nodes"),".priority"===t)return this.fa(e);var n,i,r=new C(t,e);return e.e()?(n=this.k.remove(t),r=Ac(this.yb,r,this.k)):(n=this.k.Oa(t,e),r=yc(this.yb,r,this.k)),i=n.e()?L:this.aa,new O(n,i,r)},g.F=function(t,e){var n=K(t);if(null===n)return e;D(".priority"!==K(t)||1===Ec(t),".priority must be the last token in a path");var i=this.Q(n).F(N(t),e);return this.T(n,i)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;function pd(t,e){var n;return(n=(n=od(t,e))?(n=n.Gc())&&n.name:t.k.Gc())?new C(n,t.k.get(n)):null}function qd(t,e){var n;return(n=(n=od(t,e))?(n=n.ec())&&n.name:t.k.ec())?new C(n,t.k.get(n)):null}function od(t,e){return e===tc?null:t.yb.get(e.toString())}function G(t,e){if(null===t)return L;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:void 0!==e&&(n=e),D(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kb(t,G(n));if(t instanceof Array){var i=L,r=t;return v(r,(function(t,e){if(eb(r,e)&&"."!==e.substring(0,1)){var n=G(t);!n.J()&&n.e()||(i=i.T(e,n))}})),i.fa(G(n))}var o=[],a=!1,s=t;if(fb(s,(function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=G(s[t]);e.e()||(a=a||!e.C().e(),o.push(new C(t,e)))}})),0==o.length)return L;var c=zc(o,rb,(function(t){return t.name}),tb);if(a){var l=zc(o,nc(H));return new O(c,G(n),new xc({".priority":l},{".priority":H}))}return new O(c,G(n),Bc)}g=O.prototype,g.H=function(t){if(this.e())return null;var e={},n=0,i=0,r=!0;if(this.O(H,(function(o,a){e[o]=a.H(t),n++,r&&nd.test(o)?i=Math.max(i,Number(o)):r=!1})),!t&&r&&i<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().H()),e},g.hash=function(){if(null===this.Db){var t="";this.C().e()||(t+="priority:"+Fc(this.C().H())+":"),this.O(H,(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.Db=""===t?"":Ob(t)}return this.Db},g.Ve=function(t,e,n){return(n=od(this,n))?(t=ad(n,new C(t,e)))?t.name:null:ad(this.k,t)},g.O=function(t,e){var n=od(this,t);return n?n.ha((function(t){return e(t.name,t.R)})):this.k.ha(e)},g.Wb=function(t){return this.Xb(t.Hc(),t)},g.Xb=function(t,e){if(n=od(this,e))return n.Xb(t,(function(t){return t}));for(var n,i=cd(n=this.k.Xb(t.name,qb));null!=i&&0>e.compare(i,t);)M(n),i=cd(n);return n},g.We=function(t){return this.Zb(t.Fc(),t)},g.Zb=function(t,e){if(n=od(this,e))return n.Zb(t,(function(t){return t}));for(var n,i=cd(n=this.k.Zb(t.name,qb));null!=i&&0<e.compare(i,t);)M(n),i=cd(n);return n},g.sc=function(t){return this.e()?t.e()?0:-1:t.J()||t.e()?1:t===qc?-1:0},g.nb=function(t){if(t===tc||Pa(this.yb.cc,t.toString()))return this;var e=this.yb,n=this.k;D(t!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,o=M(n=n.Wb(qb));o;)r=r||t.xc(o.R),i.push(o),o=M(n);return i=r?zc(i,nc(t)):mc,r=t.toString(),(n=Ta(e.cc))[r]=t,(t=Ta(e.od))[r]=i,new O(this.k,this.aa,new xc(t,n))},g.yc=function(t){return t===tc||Pa(this.yb.cc,t.toString())},g.Z=function(t){if(t===this)return!0;if(t.J())return!1;if(this.C().Z(t.C())&&this.k.count()===t.k.count()){var e=this.Wb(H);t=t.Wb(H);for(var n=M(e),i=M(t);n&&i;){if(n.name!==i.name||!n.R.Z(i.R))return!1;n=M(e),i=M(t)}return null===n&&null===i}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2);function sd(t){this.count=parseInt(Math.log(t+1)/rd,10),this.Oe=this.count-1,this.Cf=t+1&parseInt(Array(this.count+1).join("1"),2)}function td(t){var e=!(t.Cf&1<<t.Oe);return t.Oe--,e}function zc(t,e,n,i){function r(e,i){if(0==(a=i-e))return null;if(1==a){var o=t[e];return new dd(n?n(o):o,o.R,!1,null,null)}var a=r(e,o=parseInt(a/2,10)+e),s=r(o+1,i);return o=t[o],new dd(n?n(o):o,o.R,!1,a,s)}t.sort(e);var o=function(e){function i(e,i){var c=s-e,l=s;s-=e,l=r(c+1,l),c=t[c],l=new dd(n?n(c):c,c.R,i,null,l),o?o.left=l:a=l,o=l}for(var o=null,a=null,s=t.length,c=0;c<e.count;++c){var l=td(e),u=Math.pow(2,e.count-(c+1));l?i(u,!1):(i(u,!1),i(u,!0))}return a}(new sd(t.length));return null!==o?new Zc(i||e,o):new Zc(i||e)}function Fc(t){return"number"==typeof t?"number:"+dc(t):"string:"+t}function Cc(t){if(t.J()){var e=t.H();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&eb(e,".sv"),"Priority must be a string or number.")}else D(t===qc||t.e(),"priority of unexpected type.");D(t===qc||t.C().e(),"Priority nodes can't have a priority of their own.")}var L=new O(new Zc(tb),null,Bc);function ud(){O.call(this,new Zc(tb),L,Bc)}la(ud,O),g=ud.prototype,g.sc=function(t){return t===this?0:1},g.Z=function(t){return t===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc);function vd(t,e){this.value=t,this.children=e||wd}var wd=new Zc((function(t,e){return t===e?0:t<e?-1:1}));function xd(t){var e=R;return v(t,(function(t,n){e=e.set(new E(n),t)})),e}function yd(t,e,n){if(null!=t.value&&n(t.value))return{path:Q,value:t.value};if(e.e())return null;var i=K(e);return null!==(t=t.children.get(i))&&null!=(e=yd(t,N(e),n))?{path:new E(i).n(e.path),value:e.value}:null}function zd(t,e){return yd(t,e,(function(){return!0}))}function Ad(t,e,n){if(e.e())return n;var i=K(e);return i=(e=Ad(t.children.get(i)||R,N(e),n)).e()?t.children.remove(i):t.children.Oa(i,e),new vd(t.value,i)}function Bd(t,e){return Cd(t,Q,e)}function Cd(t,e,n){var i={};return t.children.ha((function(t,r){i[t]=Cd(r,e.n(t),n)})),n(e,t.value,i)}function Dd(t,e,n){return Ed(t,e,Q,n)}function Ed(t,e,n,i){var r=!!t.value&&i(n,t.value);return r||(e.e()?null:(r=K(e),(t=t.children.get(r))?Ed(t,N(e),n.n(r),i):null))}function Fd(t,e,n){Gd(t,e,Q,n)}function Gd(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=K(e);return(t=t.children.get(r))?Gd(t,N(e),n.n(r),i):R}function Hd(t,e){Id(t,Q,e)}function Id(t,e,n){t.children.ha((function(t,i){Id(i,e.n(t),n)})),t.value&&n(e,t.value)}function Jd(t,e){t.children.ha((function(t,n){n.value&&e(t,n.value)}))}g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(K(t));return null!==e?e.subtree(N(t)):R},g.set=function(t,e){if(t.e())return new vd(e,this.children);var n=K(t),i=(this.children.get(n)||R).set(N(t),e);return n=this.children.Oa(n,i),new vd(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?R:new vd(null,this.children);var e=K(t),n=this.children.get(e);return n?(e=(t=n.remove(N(t))).e()?this.children.remove(e):this.children.Oa(e,t),null===this.value&&e.e()?R:new vd(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(K(t));return e?e.get(N(t)):null};var R=new vd(null);vd.prototype.toString=function(){var t={};return Hd(this,(function(e,n){t[e.toString()]=n.toString()})),x(t)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;function Md(t){return p(t)&&0!==t.length&&!Kd.test(t)}function Nd(t){return null===t||p(t)||ga(t)&&!Xb(t)||ia(t)&&eb(t,".sv")}function Od(t,e,i,r){r&&!n(e)||Pd(A(t,1,r),e,i)}function Pd(t,e,i){if(i instanceof E&&(i=new Pc(i,t)),!n(e))throw Error(t+"contains undefined "+Rc(i));if(ha(e))throw Error(t+"contains a function "+Rc(i)+" with contents: "+e.toString());if(Xb(e))throw Error(t+"contains "+e.toString()+" "+Rc(i));if(p(e)&&e.length>10485760/3&&10485760<nb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+Rc(i)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var r=!1,o=!1;if(fb(e,(function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Md(e)))throw Error(t+" contains an invalid key ("+e+") "+Rc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Pd(t,n,i),i.pop()})),r&&o)throw Error(t+' contains ".value" child '+Rc(i)+" in addition to actual children.")}}function Qd(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),o=0;o<r.length;o++)if((".priority"!==r[o]||o!==r.length-1)&&!Md(r[o]))throw Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');for(e.sort(Nc),r=null,n=0;n<e.length;n++){if(i=e[n],null!==r&&r.contains(i))throw Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}function Rd(t,e,n){var i=A(t,1,!1);if(!ia(e)||ea(e))throw Error(i+" must be an object containing the children to replace.");var r=[];fb(e,(function(t,e){var o=new E(t);if(Pd(i,e,n.n(o)),".priority"===Oc(o)&&!Nd(e))throw Error(i+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(o)})),Qd(i,r)}function Sd(t,e,n){if(Xb(n))throw Error(A(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(n))throw Error(A(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ud(t,e){if(n(e)&&!Md(e))throw Error(A(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Vd(t,e){if(!p(e)||0===e.length||Ld.test(e))throw Error(A(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Wd(t,e){if(".info"===K(e))throw Error(t+" failed: Can't modify data under /.info/")}function Xd(t,e){var n,i=e.path.toString();if(!(n=!p(e.jc.host)||0===e.jc.host.length||!Md(e.jc.pe))&&(n=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n=!(p(i)&&0!==i.length&&!Ld.test(i))),n)throw Error(A(t,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function Gb(){this.k=this.B=null}function Ib(t,e,n){if(e.e())t.B=n,t.k=null;else if(null!==t.B)t.B=t.B.F(e,n);else{null==t.k&&(t.k=new Gc);var i=K(e);t.k.contains(i)||t.k.add(i,new Gb),Ib(t=t.k.get(i),e=N(e),n)}}function Yd(t,e){if(e.e())return t.B=null,t.k=null,!0;if(null!==t.B){if(t.B.J())return!1;var n=t.B;return t.B=null,n.O(H,(function(e,n){Ib(t,new E(e),n)})),Yd(t,e)}return null===t.k||(n=K(e),e=N(e),t.k.contains(n)&&Yd(t.k.get(n),e)&&t.k.remove(n),!!t.k.e()&&(t.k=null,!0))}function Hb(t,e,n){null!==t.B?n(e,t.B):t.O((function(t,i){Hb(i,new E(e.toString()+"/"+t),n)}))}function Zd(t,e){this.type=$d,this.source=t,this.path=e}function ae(t,e,n){this.type=be,this.source=t,this.path=e,this.children=n}function de(t,e,n){this.type=ee,this.source=fe,this.path=t,this.Ob=e,this.Id=n}function ce(t,e,n){this.type=ge,this.source=t,this.path=e,this.Ga=n}Gb.prototype.find=function(t){if(null!=this.B)return this.B.P(t);if(t.e()||null==this.k)return null;var e=K(t);return t=N(t),this.k.contains(e)?this.k.get(e).find(t):null},Gb.prototype.O=function(t){null!==this.k&&Hc(this.k,(function(e,n){t(e,n)}))},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(t){return this.path.e()?(t=this.children.subtree(new E(t))).e()?null:t.value?new ce(this.source,Q,t.value):new ae(this.source,Q,t):(D(K(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(t){return this.path.e()?null!=this.Ob.value?(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Ob.subtree(new E(t)),new de(Q,t,this.Id)):(D(K(this.path)===t,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(t){return this.path.e()?new ce(this.source,Q,this.Ga.Q(t)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3;function he(t,e,n,i){this.ee=t,this.Se=e,this.Hb=n,this.Ee=i,D(!i||e,"Tagged queries must be from server.")}var fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);function je(t,e,n){this.A=t,this.da=e,this.Sb=n}function ke(t){return t.da}function le(t){return t.Sb}function me(t,e){return e.e()?t.da&&!t.Sb:ne(t,K(e))}function ne(t,e){return t.da&&!t.Sb||t.A.Da(e)}function oe(t,e){this.N=t,this.Ld=e}function pe(t,e,n,i){return new oe(new je(e,n,i),t.Ld)}function qe(t){return t.N.da?t.N.j():null}function re(t){return t.Ld.da?t.Ld.j():null}function se(){}he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;function ue(t,e,n){this.xf=t,this.Ka=e,this.yd=n}function ve(t,e){this.Sd=t,this.Df=e}function we(t){this.U=t}function De(t,e,n,i,r,o){var a,s=e.N;if(null!=i.lc(n))return e;if(n.e())D(ke(e.w()),"If change path is empty, we must have complete server data"),le(e.w())?(r=re(e),i=i.rc(r instanceof O?r:L)):i=i.Aa(re(e)),o=t.U.ya(e.N.j(),i,o);else{var c=K(n);if(".priority"==c)D(1==Ec(n),"Can't have a priority with additional path components"),o=s.j(),a=e.w().j(),o=null!=(i=i.ad(n,o,a))?t.U.fa(o,i):s.j();else{var l=N(n);ne(s,c)?(a=e.w().j(),i=null!=(i=i.ad(n,s.j(),a))?s.j().Q(c).F(l,i):s.j().Q(c)):i=i.qc(c,e.w()),o=null!=i?t.U.F(s.j(),c,i,l,r,o):s.j()}}return pe(e,o,s.da||n.e(),t.U.Na())}function ze(t,e,n,i,r,o,a,s){var c=e.w();if(a=a?t.U:t.U.Ub(),n.e())i=a.ya(c.j(),i,null);else if(a.Na()&&!c.Sb)i=c.j().F(n,i),i=a.ya(c.j(),i,null);else{var l=K(n);if(!me(c,n)&&1<Ec(n))return e;var u=N(n);i=c.j().Q(l).F(u,i),i=".priority"==l?a.fa(c.j(),i):a.F(c.j(),l,i,u,te,null)}return c=c.da||n.e(),De(t,e=new oe(e.N,new je(i,c,a.Na())),n,r,new ue(r,e,o),s)}function ye(t,e,n,i,r,o,a){var s=e.N;if(r=new ue(r,e,o),n.e())a=t.U.ya(e.N.j(),i,a),t=pe(e,a,!0,t.U.Na());else if(".priority"===(o=K(n)))a=t.U.fa(e.N.j(),i),t=pe(e,a,s.da,s.Sb);else{n=N(n);var c=s.j().Q(o);if(!n.e()){var l=r.Te(o);i=null!=l?".priority"===Oc(n)&&l.P(n.parent()).e()?l:l.F(n,i):L}c.Z(i)?t=e:(a=t.U.F(s.j(),o,i,n,r,a),t=pe(e,a,s.da,t.U.Na()))}return t}function Ae(t,e,n,i,r,o,a){var s=e;return Hd(i,(function(i,c){var l=n.n(i);ne(e.N,K(l))&&(s=ye(t,s,l,c,r,o,a))})),Hd(i,(function(i,c){var l=n.n(i);ne(e.N,K(l))||(s=ye(t,s,l,c,r,o,a))})),s}function Fe(t,e){return Hd(e,(function(e,n){t=t.F(e,n)})),t}function Be(t,e,n,i,r,o,a,s){if(e.w().j().e()&&!ke(e.w()))return e;var c=e;n=n.e()?i:Ad(R,n,i);var l=e.w().j();return n.children.ha((function(n,i){if(l.Da(n)){var u=Fe(u=e.w().j().Q(n),i);c=ze(t,c,new E(n),u,r,o,a,s)}})),n.children.ha((function(n,i){var u=!ne(e.w(),n)&&null==i.value;l.Da(n)||u||(u=Fe(u=e.w().j().Q(n),i),c=ze(t,c,new E(n),u,r,o,a,s))})),c}function Ce(t,e,n,i,r,o,a){if(null!=r.lc(n))return e;var s=le(e.w()),c=e.w();if(null!=i.value){if(n.e()&&c.da||me(c,n))return ze(t,e,n,c.j().P(n),r,o,s,a);if(n.e()){var l=R;return c.j().O(tc,(function(t,e){l=l.set(new E(t),e)})),Be(t,e,n,l,r,o,s,a)}return e}return l=R,Hd(i,(function(t){var e=n.n(t);me(c,e)&&(l=l.set(t,c.j().P(e)))})),Be(t,e,n,l,r,o,s,a)}function Ge(t){this.V=t,this.g=t.m.g}function He(t,e,n,i){var r=[],o=[];return ya(e,(function(e){e.type===Ie&&t.g.nd(e.qe,e.Ja)&&o.push(new S(Je,e.Ja,e.Xa))})),Ke(t,r,Le,e,i,n),Ke(t,r,Me,e,i,n),Ke(t,r,Je,o,i,n),Ke(t,r,Ie,e,i,n),Ke(t,r,Ne,e,i,n),r}function Ke(t,e,n,i,r,o){i=za(i,(function(t){return t.type===n})),Ha(i,q(t.Ff,t)),ya(i,(function(n){var i=Oe(t,n,o);ya(r,(function(r){r.nf(n.type)&&e.push(r.createEvent(i,t.V))}))}))}function Oe(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Dd=n.Ve(e.Xa,e.Ja,t.g)),e}function Pe(t,e){this.V=t;var n=new Qe((i=t.m).g),i=T(i)?new Qe(i.g):i.xa?new Re(i):new Se(i);this.hf=new we(i);var r=e.w(),o=e.N,a=n.ya(L,r.j(),null),s=i.ya(L,o.j(),null);this.Ka=new oe(new je(s,o.da,i.Na()),new je(a,r.da,n.Na())),this.Za=[],this.Jf=new Ge(t)}function Te(t){return t.V}function Ve(t,e){var n=t.Ka.N,i=[];return n.j().J()||n.j().O(H,(function(t,e){i.push(new S(Me,e,t))})),n.da&&i.push(Ee(n.j())),Ue(t,i,n.j(),e)}function Ue(t,e,n,i){return He(t.Jf,e,n,i?[i]:t.Za)}function We(t,e,n,i){this.ae=e,this.Md=n,this.Dd=i,this.hd=t}function Xe(t,e,n){this.ae=t,this.error=e,this.path=n}function Ye(){this.vb=[]}function Ze(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Yb();null===n||o.Z(n.Yb())||(t.vb.push(n),n=null),null===n&&(n=new $e(o)),n.add(r)}n&&t.vb.push(n)}function af(t,e,n){Ze(t,n),bf(t,(function(t){return t.Z(e)}))}function cf(t,e,n){Ze(t,n),bf(t,(function(t){return t.contains(e)||e.contains(t)}))}function bf(t,e){for(var n=!0,i=0;i<t.vb.length;i++)if(r=t.vb[i])if(e(r=r.Yb())){for(var r=t.vb[i],o=0;o<r.jd.length;o++){var a=r.jd[o];if(null!==a){r.jd[o]=null;var s=a.Tb();Qb&&I("event: "+a.toString()),fc(s)}}t.vb[i]=null}else n=!1;n&&(t.vb=[])}function $e(t){this.qa=t,this.jd=[]}function Qe(t){this.g=t}function Se(t){var e;this.he=new Qe(t.g),this.g=t.g,t.ka?(e=ef(t),e=t.g.Ec(ff(t),e)):e=t.g.Hc(),this.Uc=e,t.na?(e=gf(t),t=t.g.Ec(hf(t),e)):t=t.g.Fc(),this.vc=t}function Re(t){this.sa=new Se(t),this.g=t.g,D(t.xa,"Only valid if limit has been set"),this.oa=t.oa,this.Ib=!jf(t)}function kf(t,e,n,i,r,o){var a;if(t.Ib){var s=nc(t.g);a=function(t,e){return s(e,t)}}else a=nc(t.g);D(e.Eb()==t.oa,"");var c=new C(n,i),l=t.Ib?pd(e,t.g):qd(e,t.g),u=t.sa.matches(c);if(e.Da(n)){var h=e.Q(n);for(l=r.fe(t.g,l,t.Ib);null!=l&&(l.name==n||e.Da(l.name));)l=r.fe(t.g,l,t.Ib);return r=null==l?1:a(l,c),u&&!i.e()&&0<=r?(null!=o&&df(o,new S(Ie,i,n,h)),e.T(n,i)):(null!=o&&df(o,new S(Le,h,n)),e=e.T(n,L),null!=l&&t.sa.matches(l)?(null!=o&&df(o,new S(Me,l.R,l.name)),e.T(l.name,l.R)):e)}return i.e()?e:u&&0<=a(l,c)?(null!=o&&(df(o,new S(Le,l.R,l.name)),df(o,new S(Me,i,n))),e.T(n,i).T(l.name,L)):e}function S(t,e,n,i){this.type=t,this.Ja=e,this.Xa=n,this.qe=i,this.Dd=void 0}function Ee(t){return new S(Ne,t)}ue.prototype.Te=function(t){var e=this.Ka.N;return ne(e,t)?e.j().Q(t):(e=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w(),this.xf.qc(t,e))},ue.prototype.fe=function(t,e,n){var i=null!=this.yd?this.yd:re(this.Ka);return 0===(t=this.xf.Xd(i,e,1,n,t)).length?null:t[0]},we.prototype.eb=function(t,e,n,i){var r,o=new xe;if(e.type===ge)e.source.ee?n=ye(this,t,e.path,e.Ga,n,i,o):(D(e.source.Se,"Unknown source."),r=e.source.Ee||le(t.w())&&!e.path.e(),n=ze(this,t,e.path,e.Ga,n,i,r,o));else if(e.type===be)e.source.ee?n=Ae(this,t,e.path,e.children,n,i,o):(D(e.source.Se,"Unknown source."),r=e.source.Ee||le(t.w()),n=Be(this,t,e.path,e.children,n,i,r,o));else if(e.type===ee)if(e.Id)if(e=e.path,null!=n.lc(e))n=t;else{if(r=new ue(n,t,i),i=t.N.j(),e.e()||".priority"===K(e))ke(t.w())?e=n.Aa(re(t)):(e=t.w().j(),D(e instanceof O,"serverChildren would be complete if leaf node"),e=n.rc(e)),e=this.U.ya(i,e,o);else{var a=K(e),s=n.qc(a,t.w());null==s&&ne(t.w(),a)&&(s=i.Q(a)),(e=null!=s?this.U.F(i,a,s,N(e),r,o):t.N.j().Da(a)?this.U.F(i,a,L,N(e),r,o):i).e()&&ke(t.w())&&(i=n.Aa(re(t))).J()&&(e=this.U.ya(e,i,o))}i=ke(t.w())||null!=n.lc(Q),n=pe(t,e,i,this.U.Na())}else n=Ce(this,t,e.path,e.Ob,n,i,o);else{if(e.type!==$d)throw Mb("Unknown operation type: "+e.type);i=e.path,r=(e=t.w()).j(),a=e.da||i.e(),n=De(this,new oe(t.N,new je(r,a,e.Sb)),i,n,te,o)}return o=Na(o.fb),(e=(i=n).N).da&&(r=e.j().J()||e.j().e(),a=qe(t),(0<o.length||!t.N.da||r&&!e.j().Z(a)||!e.j().C().Z(a.C()))&&o.push(Ee(qe(i)))),new ve(n,o)},Ge.prototype.Ff=function(t,e){if(null==t.Xa||null==e.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(t.Xa,t.Ja),new C(e.Xa,e.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(t){var e=re(this.Ka);return e&&(T(this.V.m)||!t.e()&&!e.Q(K(t)).e())?e.P(t):null},g.e=function(){return 0===this.Za.length},g.Nb=function(t){this.Za.push(t)},g.kb=function(t,e){var n=[];if(e){D(null==t,"A cancel should cancel all event registrations.");var i=this.V.path;ya(this.Za,(function(t){(t=t.Me(e,i))&&n.push(t)}))}if(t){for(var r=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(t)){if(t.Xe()){r=r.concat(this.Za.slice(o+1));break}}else r.push(a)}this.Za=r}else this.Za=[];return n},g.eb=function(t,e,n){t.type===be&&null!==t.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return t=this.hf.eb(i,t,e,n),e=this.hf,n=t.Sd,D(n.N.j().yc(e.U.g),"Event snap not indexed"),D(n.w().j().yc(e.U.g),"Server snap not indexed"),D(ke(t.Sd.w())||!ke(i.w()),"Once a server snap is complete, it should never go back"),this.Ka=t.Sd,Ue(this,t.Df,t.Sd.N.j(),null)},We.prototype.Yb=function(){var t=this.Md.wb();return"value"===this.hd?t.path:t.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(t){this.jd.push(t)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(t,e,n,i,r,o){return D(t.yc(this.g),"A node must be indexed if only a child is updated"),(r=t.Q(e)).P(i).Z(n.P(i))&&r.e()==n.e()?t:(null!=o&&(n.e()?t.Da(e)?df(o,new S(Le,r,e)):D(t.J(),"A child remove without an old child only makes sense on a leaf node"):r.e()?df(o,new S(Me,n,e)):df(o,new S(Ie,n,e,r))),t.J()&&n.e()?t:t.T(e,n).nb(this.g))},g.ya=function(t,e,n){return null!=n&&(t.J()||t.O(H,(function(t,i){e.Da(t)||df(n,new S(Le,i,t))})),e.J()||e.O(H,(function(e,i){if(t.Da(e)){var r=t.Q(e);r.Z(i)||df(n,new S(Ie,i,e,r))}else df(n,new S(Me,i,e))}))),e.nb(this.g)},g.fa=function(t,e){return t.e()?L:t.fa(e)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(t){return 0>=this.g.compare(this.Uc,t)&&0>=this.g.compare(t,this.vc)},g.F=function(t,e,n,i,r,o){return this.matches(new C(e,n))||(n=L),this.he.F(t,e,n,i,r,o)},g.ya=function(t,e,n){e.J()&&(e=L);var i=(i=e.nb(this.g)).fa(L),r=this;return e.O(H,(function(t,e){r.matches(new C(t,e))||(i=i.T(t,L))})),this.he.ya(t,i,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(t,e,n,i,r,o){return this.sa.matches(new C(e,n))||(n=L),t.Q(e).Z(n)?t:t.Eb()<this.oa?this.sa.Ub().F(t,e,n,i,r,o):kf(this,t,e,n,r,o)},g.ya=function(t,e,n){var i;if(e.J()||e.e())i=L.nb(this.g);else if(2*this.oa<e.Eb()&&e.yc(this.g)){i=L.nb(this.g),e=this.Ib?e.Zb(this.sa.vc,this.g):e.Xb(this.sa.Uc,this.g);for(var r=0;0<e.Pa.length&&r<this.oa;){var o=M(e);if(!(this.Ib?0>=this.g.compare(this.sa.Uc,o):0>=this.g.compare(o,this.sa.vc)))break;i=i.T(o.name,o.R),r++}}else{var a,s,c;if(i=(i=e.nb(this.g)).fa(L),this.Ib){e=i.We(this.g),a=this.sa.vc,s=this.sa.Uc;var l=nc(this.g);c=function(t,e){return l(e,t)}}else e=i.Wb(this.g),a=this.sa.Uc,s=this.sa.vc,c=nc(this.g);r=0;for(var u=!1;0<e.Pa.length;)o=M(e),!u&&0>=c(a,o)&&(u=!0),u&&r<this.oa&&0>=c(o,s)?r++:i=i.T(o.name,L)}return this.sa.Ub().ya(t,i,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value";function xe(){this.fb={}}function df(t,e){var n=e.type,i=e.Xa;D(n==Me||n==Ie||n==Le,"Only child changes supported for tracking"),D(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(t.fb,i);if(r){var o=r.type;if(n==Me&&o==Le)t.fb[i]=new S(Ie,e.Ja,i,r.Ja);else if(n==Le&&o==Me)delete t.fb[i];else if(n==Le&&o==Ie)t.fb[i]=new S(Le,r.qe,i);else if(n==Ie&&o==Me)t.fb[i]=new S(Me,e.Ja,i);else{if(n!=Ie||o!=Ie)throw Mb("Illegal combination of changes: "+e+" occurred after "+r);t.fb[i]=new S(Ie,e.Ja,i,r.qe)}}else t.fb[i]=e}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}var mf=new lf;function jf(t){return""===t.mb?t.ka:"l"===t.mb}function ff(t){return D(t.ka,"Only valid if start has been set"),t.dc}function ef(t){return D(t.ka,"Only valid if start has been set"),t.Kb?t.zb:"[MIN_NAME]"}function hf(t){return D(t.na,"Only valid if end has been set"),t.ac}function gf(t){return D(t.na,"Only valid if end has been set"),t.Rb?t.xb:"[MAX_NAME]"}function nf(t){var e=new lf;return e.xa=t.xa,e.oa=t.oa,e.ka=t.ka,e.dc=t.dc,e.Kb=t.Kb,e.zb=t.zb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.xb=t.xb,e.g=t.g,e.mb=t.mb,e}function of(t,e){var n=nf(t);return n.g=e,n}function pf(t){var e={};if(t.ka&&(e.sp=t.dc,t.Kb&&(e.sn=t.zb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.xb)),t.xa){e.l=t.oa;var n=t.mb;""===n&&(n=jf(t)?"l":"r"),e.vf=n}return t.g!==H&&(e.i=t.g.toString()),e}function T(t){return!(t.ka||t.na||t.xa)}function qf(t){return T(t)&&t.g==H}function rf(t){var e,n={};return qf(t)||(t.g===H?e="$priority":t.g===wc?e="$value":t.g===tc?e="$key":(D(t.g instanceof pc,"Unrecognized index type!"),e=t.g.toString()),n.orderBy=x(e),t.ka&&(n.startAt=x(t.dc),t.Kb&&(n.startAt+=","+x(t.zb))),t.na&&(n.endAt=x(t.ac),t.Rb&&(n.endAt+=","+x(t.xb))),t.xa&&(jf(t)?n.limitToFirst=t.oa:n.limitToLast=t.oa)),n}function sf(t){this.W=t}g=lf.prototype,g.ne=function(t){var e=nf(this);return e.xa=!0,e.oa=t,e.mb="l",e},g.oe=function(t){var e=nf(this);return e.xa=!0,e.oa=t,e.mb="r",e},g.Nd=function(t,e){var i=nf(this);return i.ka=!0,n(t)||(t=null),i.dc=t,null!=e?(i.Kb=!0,i.zb=e):(i.Kb=!1,i.zb=""),i},g.gd=function(t,e){var i=nf(this);return i.na=!0,n(t)||(t=null),i.ac=t,n(e)?(i.Rb=!0,i.xb=e):(i.vg=!1,i.xb=""),i},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));function uf(t,e,n){if(e.e())return new sf(new vd(n));if(null!=(r=zd(t.W,e))){var i=r.path,r=r.value;return e=P(i,e),r=r.F(e,n),new sf(t.W.set(i,r))}return new sf(t=Ad(t.W,e,new vd(n)))}function vf(t,e,n){var i=t;return fb(n,(function(t,n){i=uf(i,e.n(t),n)})),i}function wf(t,e){var n=zd(t.W,e);return null!=n?t.W.get(n.path).P(P(n.path,e)):null}function xf(t){var e=[],n=t.W.value;return null!=n?n.J()||n.O(H,(function(t,n){e.push(new C(t,n))})):t.W.children.ha((function(t,n){null!=n.value&&e.push(new C(t,n.value))})),e}function yf(t,e){if(e.e())return t;var n=wf(t,e);return new sf(null!=n?new vd(n):t.W.subtree(e))}function zf(t,e,n){if(null!=e.value)return n.F(t,e.value);var i=null;return e.children.ha((function(e,r){".priority"===e?(D(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=zf(t.n(e),r,n)})),n.P(t).e()||null===i||(n=n.F(t.n(".priority"),i)),n}function Af(){this.Jd=L}function Bf(t){this.oc=t}function Cf(t,e){t.oc.INTERNAL.addAuthTokenListener(e)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(t,e){for(var n=0;n<t.la.length;n++){var i=t.la[n];if(i.Zc===e)return i}return null}function Ff(t,e){return t.Ga?t.path.contains(e):!!Qa(t.children,(function(n,i){return t.path.n(i).contains(e)}))}function Hf(t){return t.visible}function Gf(t,e,n){for(var i=tf,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ga)n.contains(a)?i=uf(i,a=P(n,a),o.Ga):a.contains(n)&&(a=P(a,n),i=uf(i,Q,o.Ga.P(a)));else{if(!o.children)throw Mb("WriteRecord should have .snap or .children");n.contains(a)?i=vf(i,a=P(n,a),o.children):a.contains(n)&&((a=P(a,n)).e()?i=vf(i,Q,o.children):(o=w(o.children,K(a)))&&(o=o.P(N(a)),i=uf(i,Q,o)))}}}return i}function If(t,e){this.Lb=t,this.W=e}function Jf(t,e){this.rf={},this.Vc=new Kf(t),this.va=e;var n=1e4+2e4*Math.random();hc(q(this.lf,this),Math.floor(n))}function Lf(){this.tc={}}function Mf(t,e,i){n(i)||(i=1),eb(t.tc,e)||(t.tc[e]=0),t.tc[e]+=i}function Kf(t){this.Ef=t,this.rd=null}sf.prototype.Ed=function(t){return t.e()?tf:new sf(t=Ad(this.W,t,R))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(t){return zf(Q,this.W,t)},Af.prototype.j=function(t){return this.Jd.P(t)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(t){return this.oc.INTERNAL.getToken(t).then(null,(function(t){return t&&"auth/token-not-initialized"===t.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}))},g=Df.prototype,g.Ed=function(t){var e=Ea(this.la,(function(e){return e.Zc===t}));D(0<=e,"removeWrite called with nonexistent writeId.");var n=this.la[e];this.la.splice(e,1);for(var i=n.visible,r=!1,o=this.la.length-1;i&&0<=o;){var a=this.la[o];a.visible&&(o>=e&&Ff(a,n.path)?i=!1:n.path.contains(a.path)&&(r=!0)),o--}if(i){if(r)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var s=this;v(n.children,(function(t,e){s.S=s.S.Ed(n.path.n(e))}))}return!0}return!1},g.Aa=function(t,e,n,i){if(n||i){var r=yf(this.S,t);return!i&&r.e()?e:i||null!=e||null!=wf(r,Q)?(r=Gf(this.la,(function(e){return(e.visible||i)&&(!n||!(0<=xa(n,e.Zc)))&&(e.path.contains(t)||t.contains(e.path))}),t),e=e||L,r.apply(e)):null}return null!=(r=wf(this.S,t))?r:(r=yf(this.S,t)).e()?e:null!=e||null!=wf(r,Q)?(e=e||L,r.apply(e)):null},g.rc=function(t,e){var n=L,i=wf(this.S,t);if(i)i.J()||i.O(H,(function(t,e){n=n.T(t,e)}));else if(e){var r=yf(this.S,t);e.O(H,(function(t,e){var i=yf(r,new E(t)).apply(e);n=n.T(t,i)})),ya(xf(r),(function(t){n=n.T(t.name,t.R)}))}else r=yf(this.S,t),ya(xf(r),(function(t){n=n.T(t.name,t.R)}));return n},g.ad=function(t,e,n,i){return D(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.n(e),null!=wf(this.S,t)?null:(t=yf(this.S,t)).e()?i.P(e):t.apply(i.P(e))},g.qc=function(t,e,n){t=t.n(e);var i=wf(this.S,t);return null!=i?i:ne(n,e)?yf(this.S,t).apply(n.j().Q(e)):null},g.lc=function(t){return wf(this.S,t)},g.Xd=function(t,e,n,i,r,o){var a;if(null==(a=wf(t=yf(this.S,t),Q))){if(null==e)return[];a=t.apply(e)}if((a=a.nb(o)).e()||a.J())return[];for(e=[],t=nc(o),o=M(r=r?a.Zb(n,o):a.Xb(n,o));o&&e.length<i;)0!==t(o,n)&&e.push(o),o=M(r);return e},g=If.prototype,g.Aa=function(t,e,n){return this.W.Aa(this.Lb,t,e,n)},g.rc=function(t){return this.W.rc(this.Lb,t)},g.ad=function(t,e,n){return this.W.ad(this.Lb,t,e,n)},g.lc=function(t){return this.W.lc(this.Lb.n(t))},g.Xd=function(t,e,n,i,r){return this.W.Xd(this.Lb,t,e,n,i,r)},g.qc=function(t,e){return this.W.qc(this.Lb,t,e)},g.n=function(t){return new If(this.Lb.n(t),this.W)},Jf.prototype.lf=function(){var t,e=this.Vc.get(),n={},i=!1;for(t in e)0<e[t]&&eb(this.rf,t)&&(n[t]=e[t],i=!0);i&&this.va.ye(n),hc(q(this.lf,this),Math.floor(6e5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var t=this.Ef.get(),e=Ta(t);if(this.rd)for(var n in this.rd)e[n]-=this.rd[n];return this.rd=t,e};var Nf={},Of={};function Pf(t){return t=t.toString(),Nf[t]||(Nf[t]=new Lf),Nf[t]}function Qf(t,e){var n=t.toString();return Of[n]||(Of[n]=e()),Of[n]}function Rf(t,e,n){this.f=Tb("p:rest:"),this.L=t,this.Gb=e,this.$c=n,this.$={}}function Sf(t,e){return n(e)?"tag$"+e:(D(qf(t.m),"should have a tag if it's not a default query."),t.path.toString())}function Tf(t,e,n,i){(n=n||{}).format="export",t.$c.getToken(!1).then((function(r){(r=r&&r.accessToken)&&(n.auth=r);var o=(t.L.Sc?"https://":"http://")+t.L.host+e+"?"+gb(n);t.f("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(i&&4===a.readyState){t.f("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var e=null;if(200<=a.status&&300>a.status){try{e=lb(a.responseText)}catch(t){J("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,e)}else 401!==a.status&&404!==a.status&&J("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()}))}function Uf(t){this.te=t,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(t,e,n){t.Yd=e,t.Fb=n,t.Yd<t.Qb&&(t.Fb(),t.Fb=null)}function Wf(t,e,n){for(t.Bd[e]=n;t.Bd[t.Qb];){var i=t.Bd[t.Qb];delete t.Bd[t.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;fc((function(){o.te(i[r])}))}if(t.Qb===t.Yd){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}g=Rf.prototype,g.$e=function(t,e,n,i){var r=t.path.toString();this.f("Listen called for "+r+" "+t.ja());var o=Sf(t,n),a={};this.$[o]=a,t=rf(t.m);var s=this;Tf(this,r+".json",t,(function(t,e){var c=e;404===t&&(t=c=null),null===t&&s.Gb(r,c,!1,n),w(s.$,o)===a&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)}))},g.uf=function(t,e){var n=Sf(t,e);delete this.$[n]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null,Zf,dg,eg;function Yf(t,e,n,i){this.Zd=t,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),i&&(t.ls=i),this.Ke=Bb(e,Cb,t)}function ag(t,e){if(t.frames.push(e),t.frames.length==t.Fe){var n=t.frames.join("");t.frames=null,n=lb(n),t.Xf(n)}}function $f(t){clearInterval(t.zc),t.zc=setInterval((function(){t.Ia&&bg(t,"0"),$f(t)}),Math.floor(45e3))}function bg(t,e){try{t.Ia.send(e)}catch(e){t.f("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(q(t.bb,t),0)}}function cg(t,e,n,i){this.Zd=t,this.f=Tb(t),this.jc=e,this.pb=this.qb=0,this.Va=Pf(e),this.tf=n,this.wc=!1,this.Cb=i,this.Yc=function(t){return Bb(e,Db,t)}}function gg(t,e){var n=x(e).length;t.pb+=n,Mf(t.Va,"bytes_received",n)}function fg(t,e,n,i){if(this.Yc=i,this.ib=n,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=t,window["pRTLPCB"+this.Qd]=e,(t=document.createElement("iframe")).style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||I("No IE domain setting required")}catch(e){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ea=t,t="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";<\/script>'),t="<html><body>"+t+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(t),this.Ea.gb.close()}catch(t){I("frame writing exception"),t.stack&&I(t.stack),I(t)}}function ig(t){if(t.Ud&&t.Kd&&t.ve.count()<(0<t.Qc.length?2:1)){t.$d++,(e={}).id=t.Vf,e.pw=t.Wf,e.ser=t.$d;for(var e=t.Yc(e),n="",i=0;0<t.Qc.length&&1870>=t.Qc[0].Pe.length+30+n.length;){var r=t.Qc.shift();n=n+"&seg"+i+"="+r.jg+"&ts"+i+"="+r.pg+"&d"+i+"="+r.Pe,i++}return jg(t,e+n,t.$d),!0}return!1}function jg(t,e,n){function i(){t.ve.remove(n),ig(t)}t.ve.add(n,1);var r=setTimeout(i,Math.floor(25e3));hg(t,e,(function(){clearTimeout(r),i()}))}function hg(t,e,n){setTimeout((function(){try{if(t.Kd){var i=t.Ea.gb.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){I("Long-poll script failed to load: "+e),t.Kd=!1,t.close()},t.Ea.gb.body.appendChild(i)}}catch(t){}}),Math.floor(1))}function kg(t){lg(this,t)}"undefined"!=typeof MozWebSocket?Xf=MozWebSocket:"undefined"!=typeof WebSocket&&(Xf=WebSocket),Yf.prototype.open=function(t,e){this.ib=e,this.Xf=t,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(t){this.f("Error instantiating WebSocket.");var n=t.message||t.data;return n&&this.f(n),void this.bb()}var i=this;this.Ia.onopen=function(){i.f("Websocket connected."),i.wc=!0},this.Ia.onclose=function(){i.f("Websocket connection was disconnected."),i.Ia=null,i.bb()},this.Ia.onmessage=function(t){if(null!==i.Ia)if(t=t.data,i.pb+=t.length,Mf(i.Va,"bytes_received",t.length),$f(i),null!==i.frames)ag(i,t);else{t:{if(D(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.Fe=e,i.frames=[],t=null;break t}}i.Fe=1,i.frames=[]}null!==t&&ag(i,t)}},this.Ia.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3e4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(t){$f(this),t=x(t),this.qb+=t.length,Mf(this.Va,"bytes_sent",t.length),1<(t=bc(t,16384)).length&&bg(this,String(t.length));for(var e=0;e<t.length;e++)bg(this,t[e])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())},cg.prototype.open=function(t,e){this.Ne=0,this.ia=e,this.bf=new Uf(t),this.Ab=!1;var n=this;this.sb=setTimeout((function(){n.f("Timed out trying to connect."),n.bb(),n.sb=null}),Math.floor(3e4)),Yb((function(){if(!n.Ab){n.Ta=new fg((function(t,e,i,r,o){if(gg(n,arguments),n.Ta)if(n.sb&&(clearTimeout(n.sb),n.sb=null),n.wc=!0,"start"==t)n.id=e,n.ff=i;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Kd=!1,Vf(n.bf,e,(function(){n.bb()}))):n.bb()}}),(function(t,e){gg(n,arguments),Wf(n.bf,t,e)}),(function(){n.bb()}),n.Yc);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.Qd&&(t.cb=n.Ta.Qd),t.v="5",n.tf&&(t.s=n.tf),n.Cb&&(t.ls=n.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.Yc(t),n.f("Connecting via long-poll to "+t),hg(n.Ta,t,(function(){}))}}))},cg.prototype.start=function(){var t=this.Ta,e=this.ff;for(t.Vf=this.id,t.Wf=e,t.Ud=!0;ig(t););t=this.id,e=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(t){t=x(t),this.qb+=t.length,Mf(this.Va,"bytes_sent",t.length),t=bc(t=ab(t=mb(t),!0),1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.Qc.push({jg:this.Ne,pg:t.length,Pe:t[e]}),n.Ud&&ig(n),this.Ne++}},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var t=this;setTimeout((function(){null!==t.Ea&&(document.body.removeChild(t.Ea),t.Ea=null)}),Math.floor(0))}var e=this.ib;e&&(this.ib=null,e())};var mg=[cg,Yf];function lg(t,e){var n=Yf&&Yf.isAvailable(),i=n&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if(e.qg&&(n||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.Wc=[Yf];else{var r=t.Wc=[];cc(mg,(function(t,e){e&&e.isAvailable()&&r.push(e)}))}}function ng(t){if(0<t.Wc.length)return t.Wc[0];throw Error("No transports available")}function og(t,e,n,i,r,o,a){this.id=t,this.f=Tb("c:"+this.id+":"),this.te=n,this.Lc=i,this.ia=r,this.se=o,this.L=e,this.Ad=[],this.Le=0,this.sf=new kg(e),this.Ua=0,this.Cb=a,this.f("Connection created"),pg(this)}function pg(t){var e=ng(t.sf);t.I=new e("c:"+t.id+":"+t.Le++,t.L,void 0,t.Cb),t.xe=e.responsesRequiredToBeHealthy||0;var n=qg(t,t.I),i=rg(t,t.I);t.Xc=t.I,t.Rc=t.I,t.D=null,t.Bb=!1,setTimeout((function(){t.I&&t.I.open(n,i)}),Math.floor(0)),0<(e=e.healthyTimeout||0)&&(t.md=hc((function(){t.md=null,t.Bb||(t.I&&102400<t.I.pb?(t.f("Connection exceeded healthy timeout but has received "+t.I.pb+" bytes.  Marking connection healthy."),t.Bb=!0,t.I.sd()):t.I&&10240<t.I.qb?t.f("Connection exceeded healthy timeout but has sent "+t.I.qb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(e)))}function rg(t,e){return function(n){e===t.I?(t.I=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.L.$a.substr(0,2)&&(xb.remove("host:"+t.L.host),t.L.$a=t.L.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.Xc!==n&&t.Rc!==n||t.close()):t.f("closing an old connection")}}function qg(t,e){return function(n){if(2!=t.Ua)if(e===t.Rc){var i=$b("t",n);if(n=$b("d",n),"c"==i){if(i=$b("t",n),"d"in n)if(n=n.d,"h"===i){i=n.ts;var r=n.v,o=n.h;t.qf=n.s,Ab(t.L,o),0==t.Ua&&(t.I.start(),sg(t,t.I,i),"5"!==r&&J("Protocol version mismatch detected"),(n=1<(n=t.sf).Wc.length?n.Wc[1]:null)&&tg(t,n))}else if("n"===i){for(t.f("recvd end transmission on primary"),t.Rc=t.D,n=0;n<t.Ad.length;++n)t.wd(t.Ad[n]);t.Ad=[],ug(t)}else"s"===i?(t.f("Connection shutdown command received. Shutting down..."),t.se&&(t.se(n),t.se=null),t.ia=null,t.close()):"r"===i?(t.f("Reset packet received.  New host: "+n),Ab(t.L,n),1===t.Ua?t.close():(vg(t),pg(t))):"e"===i?Ub("Server Error: "+n):"o"===i?(t.f("got pong on primary."),wg(t),xg(t)):Ub("Unknown control packet command: "+i)}else"d"==i&&t.wd(n)}else if(e===t.D)if(i=$b("t",n),n=$b("d",n),"c"==i)"t"in n&&("a"===(n=n.t)?yg(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.Xc!==t.D&&t.Rc!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.pf--,yg(t)));else{if("d"!=i)throw Error("Unknown protocol layer: "+i);t.Ad.push(n)}else t.f("message on old connection")}}function ug(t){t.Xc===t.D&&t.Rc===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.Zd),t.I=t.D,t.D=null)}function yg(t){0>=t.pf?(t.f("Secondary connection is healthy."),t.Bb=!0,t.D.sd(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.I.send({t:"c",d:{t:"n",d:{}}}),t.Xc=t.D,ug(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(t){t.Bb||(t.xe--,0>=t.xe&&(t.f("Primary connection is healthy."),t.Bb=!0,t.I.sd()))}function tg(t,e){t.D=new e("c:"+t.id+":"+t.Le++,t.L,t.qf),t.pf=e.responsesRequiredToBeHealthy||0,t.D.open(qg(t,t.D),rg(t,t.D)),hc((function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())}),Math.floor(6e4))}function sg(t,e,n){t.f("Realtime connection established."),t.I=e,t.Ua=1,t.Lc&&(t.Lc(n,t.qf),t.Lc=null),0===t.xe?(t.f("Primary connection is healthy."),t.Bb=!0):hc((function(){xg(t)}),Math.floor(5e3))}function xg(t){t.Bb||1!==t.Ua||(t.f("sending ping on primary."),zg(t,{t:"c",d:{t:"p",d:{}}}))}function zg(t,e){if(1!==t.Ua)throw"Connection is not connected";t.Xc.send(e)}function vg(t){t.f("Shutting down all connections"),t.I&&(t.I.close(),t.I=null),t.D&&(t.D.close(),t.D=null),t.md&&(clearTimeout(t.md),t.md=null)}function Ag(t,e,n,i,r,o){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=e,this.Jc=n,this.ue=i,this.L=t,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=r,this.de=!1,this.ke=0,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=o,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===t.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}og.prototype.ua=function(t){zg(this,{t:"d",d:t})},og.prototype.wd=function(t){wg(this),this.te(t)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;function Eg(t,e){var n=e.eg,i=n.path.toString(),r=n.ja();t.f("Listen on "+i+" for "+r);var o={p:i};e.tag&&(o.q=pf(n.m),o.t=e.tag),o.h=e.ld(),t.ua("q",o,(function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&eb(a,"w")){var c=w(a,"w");ea(c)&&0<=xa(c,"no_index")&&J('Using an unspecified index. Consider adding ".indexOn": "'+n.m.g.toString()+'" at '+n.path.toString()+" to your security rules for better performance")}(t.$[i]&&t.$[i][r])===e&&(t.f("listen response",o),"ok"!==s&&Fg(t,i,r),e.G&&e.G(s,a))}))}function Gg(t){if(t.ma&&t.ob){var e=t.ob,n=jc(e)?"auth":"gauth",i={cred:e};null===t.Vd?i.noauth=!0:"object"==typeof t.Vd&&(i.authvar=t.Vd),t.ua(n,i,(function(n){var i=n.s;n=n.d||"error",t.ob===e&&("ok"===i?t.ke=0:Hg(t,i,n))}))}}function Ig(t,e,n,i,r){n={p:n,d:i},t.f("onDisconnect "+e,n),t.ua(e,n,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))}function Jg(t,e,i,r,o,a){r={p:i,d:r},n(a)&&(r.h=a),t.pa.push({action:e,mf:r,G:o}),t.Oc++,e=t.pa.length-1,t.ma?Kg(t,e):t.f("Buffering put: "+i)}function Kg(t,e){var n=t.pa[e].action,i=t.pa[e].mf,r=t.pa[e].G;t.pa[e].fg=t.ma,t.ua(n,i,(function(i){t.f(n+" response",i),delete t.pa[e],t.Oc--,0===t.Oc&&(t.pa=[]),r&&r(i.s,i.d)}))}function Cg(t,e){D(!t.Fa,"Scheduling a connect when we're already connected/ing?"),t.ub&&clearTimeout(t.ub),t.ub=setTimeout((function(){t.ub=null,Ng(t)}),Math.floor(e))}function Ng(t){if(Og(t)){t.f("Making a connection attempt"),t.me=(new Date).getTime(),t.Ac=null;var e=q(t.wd,t),n=q(t.Lc,t),i=q(t.df,t),r=t.id+":"+Dg++,o=t.Cb,a=!1,s=null,c=function(){s?s.close():(a=!0,i())};t.Fa={close:c,ua:function(t){D(s,"sendRequest call when we're not connected not allowed."),s.ua(t)}};var l=t.de;t.de=!1,t.$c.getToken(l).then((function(c){a?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),t.ob=c&&c.accessToken,s=new og(r,t.L,e,n,i,(function(e){J(e+" ("+t.L.toString()+")"),t.ab("server_kill")}),o))})).then(null,(function(e){t.f("Failed to get token: "+e),a||c()}))}}function Lg(t,e,n){n=n?Aa(n,(function(t){return ac(t)})).join("$"):"default",(t=Fg(t,e,n))&&t.G&&t.G("permission_denied")}function Fg(t,e,i){var r;return e=new E(e).toString(),n(t.$[e])?(r=t.$[e][i],delete t.$[e][i],0===La(t.$[e])&&delete t.$[e]):r=void 0,r}function Hg(t,e,n){I("Auth token revoked: "+e+"/"+n),t.ob=null,t.de=!0,t.Fa.close(),"invalid_token"!==e&&"permission_denied"!==e||(t.ke++,3<=t.ke&&(t.Sa=3e4,e='Provided authentication credentials for the app named "'+(t=t.$c).oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',J(e="credential"in t.oc.options?e+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in t.oc.options?e+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')))}function Mg(t){Gg(t),v(t.$,(function(e){v(e,(function(e){Eg(t,e)}))}));for(var e=0;e<t.pa.length;e++)t.pa[e]&&Kg(t,e);for(;t.Kc.length;)e=t.Kc.shift(),Ig(t,e.action,e.we,e.data,e.G)}function Og(t){var e;return e=Lc.Vb().hc,Sa(t.qd)&&e}function Pg(t){t instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=t,this.ba=new U(t,Q),this.INTERNAL=new Rg(this)}g=Ag.prototype,g.ua=function(t,e,n){var i=++this.ig;t={r:i,a:t,b:e},this.f(x(t)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(t),n&&(this.Gd[i]=n)},g.$e=function(t,e,n,i){var r=t.ja(),o=t.path.toString();this.f("Listen called for "+o+" "+r),this.$[o]=this.$[o]||{},D(qf(t.m)||!T(t.m),"listen() called for non-default but complete query"),D(!this.$[o][r],"listen() called twice for same path/queryId."),t={G:i,ld:e,eg:t,tag:n},this.$[o][r]=t,this.ma&&Eg(this,t)},g.kf=function(t){this.ob=t,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},(function(){})),(t&&40===t.length||kc(t))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(t,e){var n=t.path.toString(),i=t.ja();if(this.f("Unlisten called for "+n+" "+i),D(qf(t.m)||!T(t.m),"unlisten() called for non-default but complete query"),Fg(this,n,i)&&this.ma){var r=pf(t.m);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=r,n.t=e),this.ua("n",n)}},g.re=function(t,e,n){this.ma?Ig(this,"o",t,e,n):this.Kc.push({we:t,action:"o",data:e,G:n})},g.cf=function(t,e,n){this.ma?Ig(this,"om",t,e,n):this.Kc.push({we:t,action:"om",data:e,G:n})},g.xd=function(t,e){this.ma?Ig(this,"oc",t,null,e):this.Kc.push({we:t,action:"oc",data:null,G:e})},g.put=function(t,e,n,i){Jg(this,"p",t,e,n,i)},g.af=function(t,e,n,i){Jg(this,"m",t,e,n,i)},g.ye=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.ua("s",t,(function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)})))},g.wd=function(t){if("r"in t){this.f("from server: "+x(t));var e=t.r,n=this.Gd[e];n&&(delete this.Gd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,t=t.b,this.f("handleServerMessage",e,t),"d"===e?this.Gb(t.p,t.d,!1,t.t):"m"===e?this.Gb(t.p,t.d,!0,t.t):"c"===e?Lg(this,t.p,t.q):"ac"===e?Hg(this,t.s,t.d):"sd"===e?this.ze?this.ze(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x(e)+"\nAre you using the latest client?"))}},g.Lc=function(t,e){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.ue({serverTimeOffset:t-(new Date).getTime()}),this.Cb=e,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.ye(n)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(t){t&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Cg(this,0)),this.Mb=t},g.Yf=function(t){t?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.mf&&e.fg&&(e.G&&e.G("disconnect"),delete this.pa[t],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=(new Date).getTime()),t=Math.max(0,this.Sa-((new Date).getTime()-this.me)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Cg(this,t),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(t){I("Interrupting connection for reason: "+t),this.qd[t]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(t){I("Resuming connection for reason: "+t),delete this.qd[t],Sa(this.qd)&&(this.Sa=1e3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};function Tg(t,e){null===t.ta&&Vb("Cannot call "+e+" on a deleted database.")}function Rg(t){this.Ya=t}function V(t,e,n){this.A=t,this.V=e,this.g=n}function Vg(t,e,n){this.Pb=t,this.rb=e,this.tb=n||null}function Wg(t,e,n){this.ga=t,this.rb=e,this.tb=n}function Xg(){this.za={}}function Zg(t){return za(Na(t.za),(function(t){return!T(t.V.m)}))}function $g(t,e){if(T(e.m))return Yg(t);var n=e.ja();return w(t.za,n)}function Yg(t){return Ra(t.za,(function(t){return T(t.V.m)}))||null}function ah(t){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=t}function bh(t,e,i,r,o){var a=t.jb,s=o;return D(r>a.Bc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.la.push({path:e,Ga:i,Zc:r,visible:s}),s&&(a.S=uf(a.S,e,i)),a.Bc=r,o?ch(t,new ce(fe,e,i)):[]}function dh(t,e,n,i){var r=t.jb;return D(i>r.Bc,"Stacking an older merge on top of newer ones"),r.la.push({path:e,children:n,Zc:i,visible:!0}),r.S=vf(r.S,e,n),r.Bc=i,n=xd(n),ch(t,new ae(fe,e,n))}function eh(t,e,n){n=n||!1;var i=Ef(t.jb,e);if(t.jb.Ed(e)){var r=R;return null!=i.Ga?r=r.set(Q,!0):fb(i.children,(function(t,e){r=r.set(new E(t),e)})),ch(t,new de(i.path,r,n))}return[]}function fh(t,e,n){return n=xd(n),ch(t,new ae(ie,e,n))}function gh(t,e,n,i){if(null!=(i=hh(t,i))){var r=ih(i);return i=r.path,r=r.Hb,e=P(i,e),jh(t,i,n=new ce(new he(!1,!0,r,!0),e,n))}return[]}function kh(t,e,n,i){if(i=hh(t,i)){var r=ih(i);return i=r.path,r=r.Hb,e=P(i,e),n=xd(n),jh(t,i,n=new ae(new he(!1,!0,r,!0),e,n))}return[]}function oh(t){return Bd(t,(function(t,e,n){if(e&&null!=Yg(e))return[Yg(e)];var i=[];return e&&(i=Zg(e)),v(n,(function(t){i=i.concat(t)})),i}))}function sh(t,e){for(var n=0;n<e.length;++n)if(!T((i=e[n]).m)){var i=lh(i),r=t.ic[i];delete t.ic[i],delete t.De["_"+r]}}function qh(t){return T(t.m)&&!qf(t.m)?t.wb():t}function nh(t,e,n){var i=e.path,r=rh(t,e);if(n=ph(t,n),e=t.Cc.Ae(qh(e),r,n.ld,n.G),i=t.wa.subtree(i),r)D(null==Yg(i.value),"If we're adding a query, it shouldn't be shadowed");else for(r=Bd(i,(function(t,e,n){if(!t.e()&&e&&null!=Yg(e))return[Te(Yg(e))];var i=[];return e&&(i=i.concat(Aa(Zg(e),(function(t){return t.V})))),v(n,(function(t){i=i.concat(t)})),i})),i=0;i<r.length;++i)n=r[i],t.Cc.Od(qh(n),rh(t,n));return e}function ph(t,e){var n=e.V,i=rh(t,n);return{ld:function(){return(e.w()||L).hash()},G:function(e){if("ok"===e){if(i){var r=n.path;if(e=hh(t,i)){var o=ih(e);e=o.path,o=o.Hb,r=P(e,r),r=new Zd(new he(!1,!0,o,!0),r),e=jh(t,e,r)}else e=[]}else e=ch(t,new Zd(ie,n.path));return e}return r="Unknown Error","too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable"),(r=Error(e+" at "+n.path.toString()+": "+r)).code=e.toUpperCase(),t.kb(n,null,r)}}}function lh(t){return t.path.toString()+"$"+t.ja()}function ih(t){var e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{Hb:t.substr(e+1),path:new E(t.substr(0,e))}}function hh(t,e){var n=t.De,i="_"+e;return i in n?n[i]:void 0}function rh(t,e){var n=lh(e);return w(t.ic,n)}g=Pg.prototype,g.app=null,g.jf=function(t){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(t)?this.ba.n(t):this.ba},g.gg=function(t){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var e=Wb(t);Xd("database.refFromURL",e);var n=e.jc;return n.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(e.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var t=Ug.Vb(),e=this.Ya.ta;return w(t.lb,e.app.name)!==e&&Vb("Database "+e.app.name+" has already been deleted."),e.ab(),delete t.lb[e.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype.delete=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(t){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Vd("Firebase.DataSnapshot.child",t);var e=new E(t),n=this.V.n(e);return new V(this.A.P(e),n,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(t){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",t);var e=new E(t);return!this.A.P(e).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(t){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,t,!1),this.A.J())return!1;var e=this;return!!this.A.O(this.g,(function(n,i){return t(new V(i,e.V.n(n),H))}))},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.m.g;return new We("value",this,new V(t.Ja,e.wb(),n))},g.Tb=function(t){var e=this.tb;if("cancel"===t.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var i=this.Pb;return function(){i.call(e,t.Md)}},g.Me=function(t,e){return this.rb?new Xe(this,t,e):null},g.matches=function(t){return t instanceof Vg&&(!t.Pb||!this.Pb||t.Pb===this.Pb&&t.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(t){return("children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t)in this.ga},g.Me=function(t,e){return this.rb?new Xe(this,t,e):null},g.createEvent=function(t,e){D(null!=t.Xa,"Child events should have a childName.");var n=e.wb().n(t.Xa);return new We(t.type,this,new V(t.Ja,n,e.m.g),t.Dd)},g.Tb=function(t){var e=this.tb;if("cancel"===t.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var i=this.ga[t.hd];return function(){i.call(e,t.Md,t.Dd)}},g.matches=function(t){if(t instanceof Wg){if(!this.ga||!t.ga)return!0;if(this.tb===t.tb&&(e=La(t.ga))===La(this.ga)){if(1===e){var e=Ma(t.ga),n=Ma(this.ga);return!(n!==e||t.ga[e]&&this.ga[n]&&t.ga[e]!==this.ga[n])}return Ka(this.ga,(function(e,n){return t.ga[n]===e}))}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(t,e,n){var i=t.source.Hb;if(null!==i)return i=w(this.za,i),D(null!=i,"SyncTree gave us an op for an invalid query."),i.eb(t,e,n);var r=[];return v(this.za,(function(i){r=r.concat(i.eb(t,e,n))})),r},g.Nb=function(t,e,n,i,r){var o=t.ja();if(!(a=w(this.za,o))){var a,s=!1;(a=n.Aa(r?i:null))?s=!0:(a=i instanceof O?n.rc(i):L,s=!1),a=new Pe(t,new oe(new je(a,s,!1),new je(i,r,!1))),this.za[o]=a}return a.Nb(e),Ve(a,e)},g.kb=function(t,e,n){var i=t.ja(),r=[],o=[],a=null!=Yg(this);if("default"===i){var s=this;v(this.za,(function(t,i){o=o.concat(t.kb(e,n)),t.e()&&(delete s.za[i],T(t.V.m)||r.push(t.V))}))}else{var c=w(this.za,i);c&&(o=o.concat(c.kb(e,n)),c.e()&&(delete this.za[i],T(c.V.m)||r.push(c.V)))}return a&&null==Yg(this)&&r.push(new U(t.u,t.path)),{hg:r,Kf:o}},g.hb=function(t){var e=null;return v(this.za,(function(n){e=e||n.hb(t)})),e},ah.prototype.Nb=function(t,e){var n=t.path,i=null,r=!1;Fd(this.wa,n,(function(t,e){var o=P(t,n);i=i||e.hb(o),r=r||null!=Yg(e)}));var o,a=this.wa.get(n);a?(r=r||null!=Yg(a),i=i||a.hb(Q)):(a=new Xg,this.wa=this.wa.set(n,a)),null!=i?o=!0:(o=!1,i=L,Jd(this.wa.subtree(n),(function(t,e){var n=e.hb(Q);n&&(i=i.T(t,n))})));var s=null!=$g(a,t);if(!s&&!T(t.m)){var c=lh(t);D(!(c in this.ic),"View does not exist, but we have a tag");var l=mh++;this.ic[c]=l,this.De["_"+l]=c}return o=a.Nb(t,e,new If(n,this.jb),i,o),s||r||(a=$g(a,t),o=o.concat(nh(this,t,a))),o},ah.prototype.kb=function(t,e,n){var i=t.path,r=this.wa.get(i),o=[];if(r&&("default"===t.ja()||null!=$g(r,t))){o=r.kb(t,e,n),r.e()&&(this.wa=this.wa.remove(i)),r=o.hg,o=o.Kf,e=-1!==Ea(r,(function(t){return T(t.m)}));var a=Dd(this.wa,i,(function(t,e){return null!=Yg(e)}));if(e&&!a&&!(i=this.wa.subtree(i)).e()){i=oh(i);for(var s=0;s<i.length;++s){var c=(l=i[s]).V,l=ph(this,l);this.Cc.Ae(qh(c),rh(this,c),l.ld,l.G)}}if(!a&&0<r.length&&!n)if(e)this.Cc.Od(qh(t),null);else{var u=this;ya(r,(function(t){t.ja();var e=u.ic[lh(t)];u.Cc.Od(qh(t),e)}))}sh(this,r)}return o},ah.prototype.Aa=function(t,e){var n=this.jb,i=Dd(this.wa,t,(function(e,n){var i=P(e,t);if(i=n.hb(i))return i}));return n.Aa(t,i,e,!0)};var mh=1;function jh(t,e,n){var i=t.wa.get(e);return D(i,"Missing sync point for query tag that we're tracking"),i.eb(n,new If(e,t.jb),null)}function ch(t,e){return th(t,e,t.wa,null,new If(Q,t.jb))}function th(t,e,n,i,r){if(e.path.e())return uh(t,e,n,i,r);var o=n.get(Q);null==i&&null!=o&&(i=o.hb(Q));var a=[],s=K(e.path),c=e.Mc(s);if((n=n.children.get(s))&&c){var l=i?i.Q(s):null;s=r.n(s),a=a.concat(th(t,c,n,l,s))}return o&&(a=a.concat(o.eb(e,r,i))),a}function uh(t,e,n,i,r){var o=n.get(Q);null==i&&null!=o&&(i=o.hb(Q));var a=[];return n.children.ha((function(n,o){var s=i?i.Q(n):null,c=r.n(n),l=e.Mc(n);l&&(a=a.concat(uh(t,l,o,s,c)))})),o&&(a=a.concat(o.eb(e,r,i))),a}function Qg(t,e,n){this.app=n;var i=new Bf(n);if(this.L=t,this.Va=Pf(t),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),i),setTimeout(q(this.Jc,this,!0),0);else{if("undefined"!==da(e=n.options.databaseAuthVariableOverride)&&null!==e){if("object"!==da(e))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(e)}catch(t){throw Error("Invalid authOverride provided: "+t)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),i,e)}var r=this;Cf(i,(function(t){r.va.kf(t)})),this.og=Qf(t,q((function(){return new Jf(this.Va,this.va)}),this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(t,e,n,i){return e=[],(n=r.ie.j(t.path)).e()||(e=ch(r.pd,new ce(ie,t.path,n)),setTimeout((function(){i("ok")}),0)),e},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(t,e,n,i){return r.va.$e(t,n,e,(function(e,n){var o=i(e,n);cf(r.ca,t.path,o)})),[]},Od:function(t,e){r.va.uf(t,e)}})}function wh(t){return t=t.ie.j(new E(".info/serverTimeOffset")).H()||0,(new Date).getTime()+t}function xh(t){return(t=t={timestamp:wh(t)}).timestamp=t.timestamp||(new Date).getTime(),t}function vh(t,e,n){e=new E("/.info/"+e),n=G(n);var i=t.ie;i.Jd=i.Jd.F(e,n),n=ch(t.pd,new ce(ie,e,n)),cf(t.ca,e,n)}function zh(t){t.f("onDisconnectEvents");var e=xh(t),n=[];Hb(Fb(t.ia,e),Q,(function(e,i){n=n.concat(ch(t.K,new ce(ie,e,i)));var r=Bh(t,e);yh(t,r)})),t.ia=new Gb,cf(t.ca,Q,n)}function Ch(t,e,n,i){var r=G(n);t.va.re(e.toString(),r.H(!0),(function(n,o){"ok"===n&&Ib(t.ia,e,r),Ah(i,n,o)}))}function Dh(t,e,n,i,r){var o=G(n,i);t.va.re(e.toString(),o.H(!0),(function(n,i){"ok"===n&&Ib(t.ia,e,o),Ah(r,n,i)}))}function Eh(t,e,n,i){var r,o=!0;for(r in n)o=!1;o?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(i,"ok")):t.va.cf(e.toString(),n,(function(r,o){if("ok"===r)for(var a in n){var s=G(n[a]);Ib(t.ia,e.n(a),s)}Ah(i,r,o)}))}function Fh(t,e,n){n=".info"===K(e.path)?t.pd.Nb(e,n):t.K.Nb(e,n),af(t.ca,e.path,n)}function Ah(t,e,n){t&&fc((function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n),(r=Error(r)).code=i,t(r)}}))}function Gh(t,e,i,r,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.gc("value",a),i={path:e,update:i,G:r,status:null,ef:Lb(),He:o,of:0,Rd:function(){s.Ic("value",a)},Td:null,Ba:null,cd:null,dd:null,ed:null},r=t.K.Aa(e,void 0)||L,i.cd=r,n(r=i.update(r.H()))){Pd("transaction failed: Data returned ",r,i.path),i.status=1;var c=(o=Uc(t.mc,e)).Ca()||[];c.push(i),Vc(o,c),"object"==typeof r&&null!==r&&eb(r,".priority")?(c=w(r,".priority"),D(Nd(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(t.K.Aa(e)||L).C().H(),o=xh(t),o=Jb(r=G(r,c),o),i.dd=r,i.ed=o,i.Ba=t.vd++,i=bh(t.K,e,o,i.Ba,i.He),cf(t.ca,e,i),Hh(t)}else i.Rd(),i.dd=null,i.ed=null,i.G&&(t=new V(i.cd,new U(t,i.path),H),i.G(null,!1,t))}function Hh(t,e){var n=e||t.mc;if(e||Ih(t,n),null!==n.Ca()){var i=Jh(t,n);D(0<i.length,"Sending zero length transaction queue"),Ca(i,(function(t){return 1===t.status}))&&Kh(t,n.path(),i)}else n.kd()&&n.O((function(e){Hh(t,e)}))}function Kh(t,e,n){for(var i=Aa(n,(function(t){return t.Ba})),r=(i=r=t.K.Aa(e,i)||L,r.hash()),o=0;o<n.length;o++){var a=n[o];D(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.of++;var s=P(e,a.path);i=i.F(s,a.dd)}i=i.H(!0),t.va.put(e.toString(),i,(function(i){t.f("transaction put response",{path:e.toString(),status:i});var r=[];if("ok"===i){for(i=[],o=0;o<n.length;o++){if(n[o].status=3,r=r.concat(eh(t.K,n[o].Ba)),n[o].G){var a=n[o].ed,s=new U(t,n[o].path);i.push(q(n[o].G,null,null,!0,new V(a,s,H)))}n[o].Rd()}for(Ih(t,Uc(t.mc,e)),Hh(t),cf(t.ca,e,r),o=0;o<i.length;o++)fc(i[o])}else{if("datastale"===i)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(J("transaction at "+e.toString()+" failed: "+i),o=0;o<n.length;o++)n[o].status=5,n[o].Td=i;yh(t,e)}}),r)}function yh(t,e){var n,i=(n=Lh(t,e)).path();return Mh(t,n=Jh(t,n),i),i}function Mh(t,e,i){if(0!==e.length){for(var r=[],o=[],a=za(e,(function(t){return 1===t.status})),s=(a=Aa(a,(function(t){return t.Ba})),0);s<e.length;s++){var c,l=e[s],u=P(i,l.path),h=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),5===l.status)h=!0,c=l.Td,o=o.concat(eh(t.K,l.Ba,!0));else if(1===l.status)if(25<=l.of)h=!0,c="maxretry",o=o.concat(eh(t.K,l.Ba,!0));else{var d=t.K.Aa(l.path,a)||L;l.cd=d;var f=e[s].update(d.H());n(f)?(Pd("transaction failed: Data returned ",f,l.path),u=G(f),"object"==typeof f&&null!=f&&eb(f,".priority")||(u=u.fa(d.C())),d=l.Ba,f=Jb(u,f=xh(t)),l.dd=u,l.ed=f,l.Ba=t.vd++,Fa(a,d),o=(o=o.concat(bh(t.K,l.path,f,l.Ba,l.He))).concat(eh(t.K,d,!0))):(h=!0,c="nodata",o=o.concat(eh(t.K,l.Ba,!0)))}cf(t.ca,i,o),o=[],h&&(e[s].status=3,setTimeout(e[s].Rd,Math.floor(0)),e[s].G&&("nodata"===c?(l=new U(t,e[s].path),r.push(q(e[s].G,null,null,!1,new V(e[s].cd,l,H)))):r.push(q(e[s].G,null,Error(c),!1,null))))}for(Ih(t,t.mc),s=0;s<r.length;s++)fc(r[s]);Hh(t)}}function Lh(t,e){for(var n,i=t.mc;null!==(n=K(e))&&null===i.Ca();)i=Uc(i,n),e=N(e);return i}function Jh(t,e){var n=[];return Nh(t,e,n),n.sort((function(t,e){return t.ef-e.ef})),n}function Nh(t,e,n){var i=e.Ca();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);e.O((function(e){Nh(t,e,n)}))}function Ih(t,e){var n=e.Ca();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,Vc(e,0<n.length?n:null)}e.O((function(e){Ih(t,e)}))}function Bh(t,e){var n=Lh(t,e).path(),i=Uc(t.mc,e);return Yc(i,(function(e){Oh(t,e)})),Oh(t,i),Xc(i,(function(e){Oh(t,e)})),n}function Oh(t,e){var n=e.Ca();if(null!==n){for(var i=[],r=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(D(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].Td="set"):(D(1===n[a].status,"Unexpected transaction status in abort"),n[a].Rd(),r=r.concat(eh(t.K,n[a].Ba,!0)),n[a].G&&i.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Vc(e,null):n.length=o+1,cf(t.ca,e.path(),r),a=0;a<i.length;a++)fc(i[a])}}function Ug(){this.lb={},this.wf=!1}g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(t,e,n,i){this.fd++;var r=new E(t);e=this.je?this.je(t,e):e,t=[],i?n?(e=Ja(e,(function(t){return G(t)})),t=kh(this.K,r,e,i)):(e=G(e),t=gh(this.K,r,e,i)):n?(i=Ja(e,(function(t){return G(t)})),t=fh(this.K,r,i)):(i=G(e),t=ch(this.K,new ce(ie,r,i))),i=r,0<t.length&&(i=yh(this,r)),cf(this.ca,i,t)},g.Jc=function(t){vh(this,"connected",t),!1===t&&zh(this)},g.ue=function(t){var e=this;cc(t,(function(t,n){vh(e,n,t)}))},g.Jb=function(t,e,n,i){this.f("set",{path:t.toString(),value:e,ug:n});var r=xh(this),o=(r=Jb(e=G(e,n),r),this.vd++);r=bh(this.K,t,r,o,!0),Ze(this.ca,r);var a=this;this.va.put(t.toString(),e.H(!0),(function(e,n){var r="ok"===e;r||J("set at "+t+" failed: "+e),r=eh(a.K,o,!r),cf(a.ca,t,r),Ah(i,e,n)})),yh(this,r=Bh(this,t)),cf(this.ca,r,[])},g.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,r=xh(this),o={};if(v(e,(function(t,e){i=!1;var n=G(t);o[e]=Jb(n,r)})),i)I("update() called with empty data.  Don't do anything."),Ah(n,"ok");else{var a=this.vd++,s=dh(this.K,t,o,a);Ze(this.ca,s);var c=this;this.va.af(t.toString(),e,(function(e,i){(r="ok"===e)||J("update at "+t+" failed: "+e);var r=eh(c.K,a,!r),o=t;0<r.length&&(o=yh(c,t)),cf(c.ca,o,r),Ah(n,e,i)})),v(e,(function(e,n){var i=Bh(c,t.n(n));yh(c,i)})),cf(this.ca,t,[])}},g.xd=function(t,e){var n=this;this.va.xd(t.toString(),(function(i,r){"ok"===i&&Yd(n.ia,t),Ah(e,i,r)}))},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(t){if("undefined"!=typeof console){t?(this.Vc||(this.Vc=new Kf(this.Va)),t=this.Vc.get()):t=this.Va.get();var e,n=Ba(Oa(t),(function(t,e){return Math.max(e.length,t)}),0);for(e in t){for(var i=t[e],r=e.length;r<n+2;r++)e+=" ";console.log(e+i)}}},g.Ce=function(t){Mf(this.Va,t),this.og.rf[t]=!0},g.f=function(t){var e="";this.Ra&&(e=this.Ra.id+":"),I(e,arguments)},Ug.prototype.ab=function(){for(var t in this.lb)this.lb[t].ab()},Ug.prototype.kc=function(){for(var t in this.lb)this.lb[t].kc()},Ug.prototype.ce=function(t){this.wf=t},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};function Ph(t,e){this.committed=t,this.snapshot=e}function X(t,e,n,i){this.u=t,this.path=e,this.m=n,this.Nc=i}function Qh(t){var e=null,n=null;if(t.ka&&(e=ff(t)),t.na&&(n=hf(t)),t.g===tc){if(t.ka){if("[MIN_NAME]"!=ef(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=gf(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===H){if(null!=e&&!Nd(e)||null!=n&&!Nd(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(t.g instanceof pc||t.g===wc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(t){if(t.ka&&t.na&&t.xa&&(!t.xa||""===t.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(t,e){if(!0===t.Nc)throw Error(e+": You can't combine multiple orderBy calls.")}function Th(t,e,n){var i={cancel:null,Ma:null};if(e&&n)i.cancel=e,B(t,3,i.cancel,!0),i.Ma=n,ob(t,4,i.Ma);else if(e)if("object"==typeof e&&null!==e)i.Ma=e;else{if("function"!=typeof e)throw Error(A(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}function Y(t,e){this.ta=t,this.qa=e}W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(t,e){this.ua("q",{p:t},e)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(t,e){this.ua("echo",{d:t},e)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(t){var e=Ag.prototype.put;return Ag.prototype.put=function(i,r,o,a){n(a)&&(a=t()),e.call(this,i,r,o,a)},function(){Ag.prototype.put=e}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(t){return t.ja()},W.queryIdentifier=W.ja,W.Uf=function(t){return t.u.Ra.$},W.listens=W.Uf,W.ce=function(t){Ug.Vb().ce(t)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(t,e,n,i){y("Query.on",2,4,arguments.length),Td("Query.on",t,!1),B("Query.on",2,e,!1);var r=Th("Query.on",n,i);if("value"===t)Fh(this.u,this,new Vg(e,r.cancel||null,r.Ma||null));else{var o={};o[t]=e,Fh(this.u,this,new Wg(o,r.cancel,r.Ma))}return e},g.Ic=function(t,e,n){y("Query.off",0,3,arguments.length),Td("Query.off",t,!0),B("Query.off",2,e,!0),ob("Query.off",3,n);var i=null,r=null;"value"===t?i=new Vg(e||null,null,n||null):t&&(e&&((r={})[t]=e),i=new Wg(r,null,n||null)),r=this.u,i=".info"===K(this.path)?r.pd.kb(this,i):r.K.kb(this,i),af(r.ca,this.path,i)},g.$f=function(t,e){function n(s){o&&(o=!1,r.Ic(t,n),e&&e.call(i.Ma,s),a.resolve(s))}y("Query.once",1,4,arguments.length),Td("Query.once",t,!1),B("Query.once",2,e,!0);var i=Th("Query.once",arguments[2],arguments[3]),r=this,o=!0,a=new ib;return kb(a.ra),this.gc(t,n,(function(e){r.Ic(t,n),i.cancel&&i.cancel.call(i.Ma,e),a.reject(e)})),a.ra},g.ne=function(t){if(y("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(t),this.Nc)},g.oe=function(t){if(y("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(t),this.Nc)},g.ag=function(t){if(y("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Vd("Query.orderByChild",t),Sh(this,"Query.orderByChild");var e=new E(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new pc(e),Qh(e=of(this.m,e)),new X(this.u,this.path,e,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var t=of(this.m,tc);return Qh(t),new X(this.u,this.path,t,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var t=of(this.m,H);return Qh(t),new X(this.u,this.path,t,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var t=of(this.m,wc);return Qh(t),new X(this.u,this.path,t,!0)},g.Nd=function(t,e){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",t,this.path,!0),Ud("Query.startAt",e);var i=this.m.Nd(t,e);if(Rh(i),Qh(i),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new X(this.u,this.path,i,this.Nc)},g.gd=function(t,e){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",t,this.path,!0),Ud("Query.endAt",e);var n=this.m.gd(t,e);if(Rh(n),Qh(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(t,e){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",t,this.path,!1),Ud("Query.equalTo",e),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(t,e).gd(t,e)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return this.u.toString()+(e||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var t=ac(pf(this.m));return"{}"===t?"default":t},g.isEqual=function(t){if(y("Query.isEqual",1,1,arguments.length),!(t instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.u===t.u,n=this.path.Z(t.path),i=this.ja()===t.ja();return e&&n&&i},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(t){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,t,!0);var e=new ib;return this.ta.xd(this.qa,jb(e,t)),e.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(t){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,t,!0);var e=new ib;return Ch(this.ta,this.qa,null,jb(e,t)),e.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(t,e){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",t,this.qa,!1),B("Firebase.onDisconnect().set",2,e,!0);var n=new ib;return Ch(this.ta,this.qa,t,jb(n,e)),n.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(t,e,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,e),B("Firebase.onDisconnect().setWithPriority",3,n,!0);var i=new ib;return Dh(this.ta,this.qa,t,e,jb(i,n)),i.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(t,e){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",t,this.qa),B("Firebase.onDisconnect().update",2,e,!0),n=new ib,Eh(this.ta,this.qa,t,jb(n,e)),n.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};function U(t,e){if(!(t instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,t,e,mf,!1),this.then=void 0,this.catch=void 0}if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(t,e){t.u.Ra.ze=e},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(t,e){t.u.Be(e)},Z.stats=Z.Be,Z.Ce=function(t,e){t.u.Ce(e)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(t){return t.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(t,e){t.u.je=e},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(t){if(y("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof E))if(null===K(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",e)}else Vd("Firebase.child",t);return new U(this.u,this.path.n(t))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.u,t)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},g.Gf=function(){return this.u.Ya},g.set=function(t,e){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",t,this.path,!1),B("Firebase.set",2,e,!0);var n=new ib;return this.u.Jb(this.path,t,null,jb(n,e)),n.ra},g.update=function(t,e){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",t,this.path),B("Firebase.update",2,e,!0),n=new ib,this.u.update(this.path,t,jb(n,e)),n.ra},g.Jb=function(t,e,n){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",t,this.path,!1),Sd("Firebase.setWithPriority",2,e),B("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new ib;return this.u.Jb(this.path,t,e,jb(i,n)),i.ra},g.remove=function(t){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,t,!0),this.set(null,t)},g.transaction=function(t,e,i){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,t,!1),B("Firebase.transaction",2,e,!0),n(i)&&"boolean"!=typeof i)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";void 0===i&&(i=!0);var r=new ib;return ha(e)&&kb(r.ra),Gh(this.u,this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new Ph(n,i)),ha(e)&&e(t,n,i)}),i),r.ra},g.kg=function(t,e){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,t),B("Firebase.setPriority",2,e,!0);var n=new ib;return this.u.Jb(this.path.n(".priority"),t,null,jb(n,e)),n.ra},g.push=function(t,e){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",t,this.path,!0),B("Firebase.push",2,e,!0);var n=wh(this.u),i=Kc(n),r=(n=this.n(i),this.n(i));return i=null!=t?n.set(t,e).then((function(){return r})):hb.resolve(r),n.then=q(i.then,i),n.catch=q(i.then,i,void 0),ha(e)&&kb(i),n},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),void 0===firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",(function(t){var e=Ug.Vb();n(r=t.options.databaseURL)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var i=Wb(r),r=i.jc;return Xd("Invalid Firebase Database URL",i),i.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(i=w(e.lb,t.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),i=new Qg(r,e.wf,t),e.lb[t.name]=i,i.Ya}),{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(t){Vb("Failed to register the Firebase Database Service ("+t+")")}}(),function(){var t=function(t,e){function n(){}for(var i in n.prototype=e.prototype,t.u=e.prototype,t.prototype=new n,e)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,i);r&&Object.defineProperty(t,i,r)}else t[i]=e[i]},e=this,n=function(t,e){function n(){}n.prototype=e.prototype,t.u=e.prototype,t.prototype=new n,t.v=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}},i=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};n(i,Error);var r=function(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},o=function(t,e){e.unshift(t),i.call(this,r.apply(null,e)),e.shift()};n(o,i);var a=null,s=function(t){var e=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}(t=new Uint8Array(t));if(function(t,e,n){if(!t){var i="Assertion failed";if(e){i=i+": "+e;var r=Array.prototype.slice.call(arguments,2)}throw new o(""+i,r||[])}}("array"==e||"object"==e&&"number"==typeof t.length,"encodeByteArray takes an array as a parameter"),!a)for(a={},e=0;65>e;e++)a[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);e=a;for(var n=[],i=0;i<t.length;i+=3){var r=t[i],s=i+1<t.length,c=s?t[i+1]:0,l=i+2<t.length,u=r>>2,h=(r=(3&r)<<4|c>>4,c=(15&c)<<2|(h=l?t[i+2]:0)>>6,63&h);l||(h=64,s||(c=64)),n.push(e[u],e[r],e[c],e[h])}return n.join("").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},c={},l=(c["only-available-in-window"]="This method is available in a Window context.",c["only-available-in-sw"]="This method is available in a service worker context.",c["should-be-overriden"]="This method should be overriden by extended classes.",c["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",c["permission-default"]="The required permissions were not granted and dismissed instead.",c["permission-blocked"]="The required permissions were not granted and blocked instead.",c["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",c["notifications-blocked"]="Notifications have been blocked.",c["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",c["sw-registration-expected"]="A service worker registration was the expected input.",c["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",c["invalid-saved-token"]="Unable to access details of the saved token.",c["sw-reg-redundant"]="The service worker being used for push was made redundant.",c["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",c["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",c["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",c["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",c["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",c["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",c["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",c["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",c["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",c["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",c["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",c["failed-to-delete-token"]="Unable to delete the currently saved token.",c["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",c["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",c["bad-scope"]="The service worker scope must be a string with at least one character.",c["bad-vapid-key"]="The public VAPID key must be a string with at least one character.",c["bad-subscription"]="The subscription must be a valid PushSubscription.",c["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",c["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",c["failed-delete-vapid-key"]="The VAPID key could not be deleted.",c),u={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])},h=new firebase.INTERNAL.ErrorFactory("messaging","Messaging",l),d=function(){this.a=null},f=function(t){return t.a||(t.a=new Promise((function(t,n){var i=e.indexedDB.open("fcm_token_details_db",1);i.onerror=function(t){n(t.target.error)},i.onsuccess=function(e){t(e.target.result)},i.onupgradeneeded=function(t){(t=t.target.result.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}))),t.a},p=function(t,e){return f(t).then((function(t){return new Promise((function(n,i){var r=t.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").index("fcmToken").get(e);r.onerror=function(t){i(t.target.error)},r.onsuccess=function(t){n(t.target.result)}}))}))},m=function(t,e,n){var i=s(e.getKey("p256dh")),r=s(e.getKey("auth"));return t="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+r,n&&(t+="&pushSet="+n),(n=new Headers).append("Content-Type","application/x-www-form-urlencoded"),fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"POST",headers:n,body:t}).then((function(t){return t.json()})).then((function(t){if(t.error)throw h.create("token-subscribe-failed",{message:t.error.message});if(!t.token)throw h.create("token-subscribe-no-token");if(!t.pushSet)throw h.create("token-subscribe-no-push-set");return{token:t.token,pushSet:t.pushSet}}))};d.prototype.i=function(t,e){return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(h.create("bad-sender-id")):function(t,e){return f(t).then((function(t){return new Promise((function(n,i){var r=[],o=t.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").openCursor();o.onerror=function(t){i(t.target.error)},o.onsuccess=function(t){(t=t.target.result)?(t.value.fcmSenderId===e&&r.push(t.value),t.continue()):n(r)}}))}))}(this,t).then((function(n){if(0!==n.length){var i=n.findIndex((function(n){return e.scope===n.swScope&&t===n.fcmSenderId}));if(-1!==i)return n[i]}})).then((function(t){if(t)return e.pushManager.getSubscription().catch((function(){throw h.create("get-subscription-failed")})).then((function(e){var n;if((n=e)&&(n=e.endpoint===t.endpoint&&s(e.getKey("auth"))===t.auth&&s(e.getKey("p256dh"))===t.p256dh),n)return t.fcmToken}))})):Promise.reject(h.create("sw-registration-expected"))},d.prototype.getSavedToken=d.prototype.i,d.prototype.h=function(t,e){var n=this;return"string"!=typeof t||0===t.length?Promise.reject(h.create("bad-sender-id")):e instanceof ServiceWorkerRegistration?e.pushManager.getSubscription().then((function(t){return t||e.pushManager.subscribe(u)})).then((function(i){return m(t,i).then((function(r){return function(t,e,n,i,r,o){var a={swScope:n.scope,endpoint:i.endpoint,auth:s(i.getKey("auth")),p256dh:s(i.getKey("p256dh")),fcmToken:r,fcmPushSet:o,fcmSenderId:e};return f(t).then((function(t){return new Promise((function(e,n){var i=t.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").put(a);i.onerror=function(t){n(t.target.error)},i.onsuccess=function(){e()}}))}))}(n,t,e,i,r.token,r.pushSet).then((function(){return r.token}))}))})):Promise.reject(h.create("sw-registration-expected"))},d.prototype.createToken=d.prototype.h,d.prototype.deleteToken=function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(h.create("invalid-delete-token")):p(this,t).then((function(t){if(!t)throw h.create("delete-token-not-found");return f(e).then((function(e){return new Promise((function(n,i){var r=e.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").delete(t.swScope);r.onerror=function(t){i(t.target.error)},r.onsuccess=function(e){0===e.target.result?i(h.create("failed-to-delete-token")):n(t)}}))}))}))};var g=function(t){var e=this;if(this.a=new firebase.INTERNAL.ErrorFactory("messaging","Messaging",l),!t.options.messagingSenderId||"string"!=typeof t.options.messagingSenderId)throw this.a.create("bad-sender-id");this.l=t.options.messagingSenderId,this.c=new d,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return e.delete}};g.prototype.getToken=function(){var t=this,e=Notification.permission;return"granted"!==e?"denied"===e?Promise.reject(this.a.create("notifications-blocked")):Promise.resolve(null):this.f().then((function(e){return t.c.i(t.l,e).then((function(n){return n||t.c.h(t.l,e)}))}))},g.prototype.getToken=g.prototype.getToken,g.prototype.deleteToken=function(t){var e=this;return this.c.deleteToken(t).then((function(){return e.f()})).then((function(t){return t?t.pushManager.getSubscription():null})).then((function(t){if(t)return t.unsubscribe()}))},g.prototype.deleteToken=g.prototype.deleteToken,g.prototype.f=function(){throw this.a.create("should-be-overriden")},g.prototype.requestPermission=function(){throw this.a.create("only-available-in-window")},g.prototype.useServiceWorker=function(){throw this.a.create("only-available-in-window")},g.prototype.useServiceWorker=g.prototype.useServiceWorker,g.prototype.onMessage=function(){throw this.a.create("only-available-in-window")},g.prototype.onMessage=g.prototype.onMessage,g.prototype.onTokenRefresh=function(){throw this.a.create("only-available-in-window")},g.prototype.onTokenRefresh=g.prototype.onTokenRefresh,g.prototype.setBackgroundMessageHandler=function(){throw this.a.create("only-available-in-sw")},g.prototype.setBackgroundMessageHandler=g.prototype.setBackgroundMessageHandler,g.prototype.delete=function(){var t;(t=this.c).a?t.a.then((function(e){e.close(),t.a=null})):Promise.resolve()};var v=function(t,e){var n={};return n["firebase-messaging-msg-type"]=t,n["firebase-messaging-msg-data"]=e,n},b=self,y=function(t){g.call(this,t);var e=this;this.a=new firebase.INTERNAL.ErrorFactory("messaging","Messaging",l),b.addEventListener("push",(function(t){return w(e,t)}),!1),b.addEventListener("pushsubscriptionchange",(function(t){return E(e,t)}),!1),b.addEventListener("notificationclick",(function(t){return C(e,t)}),!1),this.b=null};t(y,g);var w=function(t,e){var n;try{n=e.data.json()}catch(t){return}var i=x().then((function(e){if(e){if(n.notification||t.b)return k(t,n)}else{if((e=n)&&"object"==typeof e.notification){var i=Object.assign({},e.notification),r={};i.data=(r.FCM_MSG=e,r),e=i}else e=void 0;if(e)return b.registration.showNotification(e.title||"",e);if(t.b)return t.b(n)}}));e.waitUntil(i)},E=function(t,e){var n=t.getToken().then((function(e){if(!e)throw t.a.create("no-fcm-token-for-resubscribe");var n=t.c;return p(n,e).then((function(e){if(!e)throw t.a.create("invalid-saved-token");return b.registration.pushManager.subscribe(u).then((function(t){return m(e.A,t,e.w)})).catch((function(i){return n.deleteToken(e.B).then((function(){throw t.a.create("unable-to-resubscribe",{message:i})}))}))}))}));e.waitUntil(n)},C=function(t,e){if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data.FCM_MSG,i=n.notification.click_action;if(i){var r=$(i).then((function(t){return t||b.clients.openWindow(i)})).then((function(e){if(e)return delete n.notification,A(t,e,v("notification-clicked",n))}));e.waitUntil(r)}}};y.prototype.setBackgroundMessageHandler=function(t){if(t&&"function"!=typeof t)throw this.a.create("bg-handler-function-expected");this.b=t},y.prototype.setBackgroundMessageHandler=y.prototype.setBackgroundMessageHandler;var $=function(t){var e=new URL(t).href;return b.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(t){for(var n=null,i=0;i<t.length;i++)if(new URL(t[i].url).href===e){n=t[i];break}if(n)return n.focus(),n}))},A=function(t,e,n){return new Promise((function(i,r){if(!e)return r(t.a.create("no-window-client-to-msg"));e.postMessage(n),i()}))},x=function(){return b.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(t){return t.some((function(t){return"visible"===t.visibilityState}))}))},k=function(t,e){return b.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(n){var i=v("push-msg-received",e);return Promise.all(n.map((function(e){return A(t,e,i)})))}))};y.prototype.f=function(){return Promise.resolve(b.registration)};var S=function(t){g.call(this,t);var e=this;this.j=null,this.m=firebase.INTERNAL.createSubscribe((function(t){e.j=t})),this.s=null,this.o=firebase.INTERNAL.createSubscribe((function(t){e.s=t})),M(this)};t(S,g),S.prototype.getToken=function(){var t=this;return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")?T(this).then((function(){return g.prototype.getToken.call(t)})):Promise.reject(this.a.create("unsupported-browser"))},S.prototype.getToken=S.prototype.getToken;var T=function(t){if(t.g)return t.g;var e=document.querySelector('link[rel="manifest"]');return t.g=e?fetch(e.href).then((function(t){return t.json()})).catch((function(){return Promise.resolve()})).then((function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.a.create("incorrect-gcm-sender-id")})):Promise.resolve(),t.g};S.prototype.requestPermission=function(){var t=this;return"granted"===Notification.permission?Promise.resolve():new Promise((function(e,n){var i=function(i){return"granted"===i?e():n("denied"===i?t.a.create("permission-blocked"):t.a.create("permission-default"))},r=Notification.requestPermission((function(t){r||i(t)}));r&&r.then(i)}))},S.prototype.requestPermission=S.prototype.requestPermission,S.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.a.create("sw-registration-expected");if(void 0!==this.b)throw this.a.create("use-sw-before-get-token");this.b=t},S.prototype.useServiceWorker=S.prototype.useServiceWorker,S.prototype.onMessage=function(t,e,n){return this.m(t,e,n)},S.prototype.onMessage=S.prototype.onMessage,S.prototype.onTokenRefresh=function(t,e,n){return this.o(t,e,n)},S.prototype.onTokenRefresh=S.prototype.onTokenRefresh;var _=function(t,e){var n=e.installing||e.waiting||e.active;return new Promise((function(i,r){if(n)if("activated"===n.state)i(e);else if("redundant"===n.state)r(t.a.create("sw-reg-redundant"));else{var o=function(){if("activated"===n.state)i(e);else{if("redundant"!==n.state)return;r(t.a.create("sw-reg-redundant"))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else r(t.a.create("no-sw-in-reg"))}))};S.prototype.f=function(){var t=this;return this.b?_(this,this.b):(this.b=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch((function(e){throw t.a.create("failed-serviceworker-registration",{browserErrorMessage:e.message})})).then((function(e){return _(t,e).then((function(){return t.b=e,e.update(),e}))})))};var M=function(t){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(e){if(e.data&&e.data["firebase-messaging-msg-type"])switch(e=e.data,e["firebase-messaging-msg-type"]){case"push-msg-received":case"notification-clicked":t.j.next(e["firebase-messaging-msg-data"])}}),!1)};if(!(firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService))throw Error("Cannot install Firebase Messaging - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("messaging",(function(t){return self&&"ServiceWorkerGlobalScope"in self?new y(t):new S(t)}),{Messaging:S}),new firebase.INTERNAL.ErrorFactory("messaging","Messaging",l),new firebase.INTERNAL.ErrorFactory("messaging","Messaging",l),new firebase.INTERNAL.ErrorFactory("messaging","Messaging",l)}.call(this),function(){for(var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,i=["Number","MIN_SAFE_INTEGER"],r=0;r<i.length-1;r++){var o=i[r];o in n||(n[o]={}),n=n[o]}var a=i[i.length-1];-9007199254740991!=n[a]&&e(n,a,{configurable:!0,writable:!0,value:-9007199254740991});var s=this,c=function(t){return void 0!==t},l=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},u=function(t,e){this.code="storage/"+t,this.message="Firebase Storage: "+e,this.serverResponse=null,this.name="FirebaseError"};!function(){var t=Error;function e(){}e.prototype=t.prototype,u.b=t.prototype,u.prototype=new e,u.a=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}();var h=function(){return new u("unknown","An unknown error occurred, please check the error payload for server response.")},d=function(){return new u("canceled","User canceled the upload/download.")},f=function(){return new u("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},p=function(t,e,n){return new u("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)},m=function(){return new u("app-deleted","The Firebase app was deleted.")},g=function(t,e){return new u("invalid-format","String does not match format '"+t+"': "+e)},v=function(t){throw new u("internal-error","Internal error: "+t)},b="https://firebasestorage.googleapis.com",y=function(t){if(void 0!==firebase)return new firebase.Promise(t);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},w=function(t,e){return-1!==t.indexOf(e)},E=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t){var e={};return E(t,(function(t,n){e[t]=n})),e},$=function(t,e,n,i){this.l=t,this.b={},this.method=e,this.headers={},this.body=null,this.m=n,this.c=this.a=null,this.f=[200],this.i=[],this.timeout=i,this.g=!0},A=function(t){var e=encodeURIComponent,n="?";return E(t,(function(t,i){t=e(t)+"="+e(i),n=n+t+"&"})),n=n.slice(0,-1)},x=function(t,e,n,i,r,o,a,s,c,l,u){this.F=t,this.D=e,this.A=n,this.u=i,this.B=r.slice(),this.s=o.slice(),this.m=this.o=this.c=this.b=null,this.g=this.i=!1,this.v=a,this.l=s,this.f=l,this.G=u,this.C=c;var h=this;this.w=y((function(t,e){h.o=t,h.m=e,S(h)}))},k=function(t,e,n){this.b=t,this.c=e,this.a=!!n},S=function(t){function e(t,e){var i=n.o;t=n.m;var r=e.c;if(e.b)try{var o=n.v(r,qt(r));c(o)?i(o):i()}catch(e){t(e)}else null!==r?(e=h(),o=qt(r),e.serverResponse=o,n.l?t(n.l(r,e)):t(e)):t(e=e.a?n.g?m():d():new u("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}var n=t;t.i?e(0,new k(!1,null,!0)):t.c=function(t,e,n){function i(){h||(h=!0,e.apply(null,arguments))}function r(e){c=setTimeout((function(){c=null,t(o,2===u)}),e)}function o(t,e){if(!h)if(t)i.apply(null,arguments);else if(2===u||l)i.apply(null,arguments);else{var n;64>s&&(s*=2),1===u?(u=2,n=0):n=1e3*(s+Math.random()),r(n)}}function a(t){d||(d=!0,h||(null!==c?(t||(u=2),clearTimeout(c),r(0)):t||(u=1)))}var s=1,c=null,l=!1,u=0,h=!1,d=!1;return r(0),setTimeout((function(){l=!0,a(!0)}),n),a}((function(t,e){function i(t){n.f(t.loaded,t.lengthComputable?t.total:-1)}e?t(!1,new k(!1,null,!0)):((e=new Ut).h.withCredentials=n.G,n.b=e,null!==n.f&&c(e.h.upload)&&e.h.upload.addEventListener("progress",i),Wt(e,n.F,n.D,n.u,n.A).then((function(e){null!==n.f&&c(e.h.upload)&&e.h.upload.removeEventListener("progress",i),n.b=null;var r=0===Vt(e),o=zt(e);if(!(r=!r)){r=w([408,429],o);var a=w(n.s,o);r=500<=o&&600>o||r||a}r?(e=2===Vt(e),t(!1,new k(!1,null,e))):t(!0,new k(w(n.B,o),e))})))}),e,t.C)};x.prototype.a=function(){return this.w},x.prototype.cancel=function(t){this.i=!0,this.g=t||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var T=function(t,e,n){var i=A(t.b),r=(i=t.l+i,t.headers?C(t.headers):{});return null!==e&&0<e.length&&(r.Authorization="Firebase "+e),r["X-Firebase-Storage-Version"]="webjs/"+(void 0!==firebase?firebase.SDK_VERSION:"AppManager"),new x(i,t.method,r,t.body,t.f,t.i,t.m,t.a,t.timeout,t.c,n)},_=function(t){this.b=firebase.Promise.reject(t)};_.prototype.a=function(){return this.b},_.prototype.cancel=function(){};var M=function(t,e){this.bucket=t,this.path=e},F=function(t){var e=encodeURIComponent;return"/b/"+e(t.bucket)+"/o/"+e(t.path)},D=function(t){var e;try{e=R(t)}catch(e){return new M(t,"")}if(""===e.path)return e;throw new u("invalid-default-bucket","Invalid default bucket '"+t+"'.")},R=function(t){for(var e=null,n=[{M:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,H:{bucket:1,path:3},L:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path=t.path.slice(0,-1))}},{M:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,H:{bucket:1,path:3},L:function(t){t.path=decodeURIComponent(t.path)}}],i=0;i<n.length;i++){var r=n[i],o=r.M.exec(t);if(o){e=o[r.H.bucket],(o=o[r.H.path])||(o=""),e=new M(e,o),r.L(e);break}}if(null==e)throw new u("invalid-url","Invalid URL '"+t+"'.");return e},O=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},L=function(t){return c(t)&&null!==t},I=function(t){return"string"==typeof t||t instanceof String},N=function(){return"undefined"!=typeof Blob},B=function(t,e,n,i,r){this.a=t,this.g=null,null!==this.a&&(t=this.a.options,L(t)&&(t=t.storageBucket||null,this.g=null==t?null:D(t).bucket)),this.s=e,this.o=n,this.l=r,this.m=i,this.c=12e4,this.b=6e4,this.i=new O,this.f=!1},P=function(t){return null!==t.a&&L(t.a.INTERNAL)&&L(t.a.INTERNAL.getToken)?t.a.INTERNAL.getToken().then((function(t){return L(t)?t.accessToken:null}),(function(){return null})):firebase.Promise.resolve(null)};B.prototype.bucket=function(){if(this.f)throw m();return this.g};var H,j=function(t,e,n){return t.f?new _(m()):(e=t.o(e,n,null===t.a,t.l),function(t,e){function n(){delete r.a[i]}var i=t.b;t.b++,t.a[i]=e;var r=t;e.a().then(n,n)}(t.i,e),e)},U=function(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)},W=function(t,e){return e},V=function(t,e,n,i){this.c=t,this.b=e||t,this.writable=!!n,this.a=i||W},z=null,q=function(){if(z)return z;var t=[];t.push(new V("bucket")),t.push(new V("generation")),t.push(new V("metageneration")),t.push(new V("name","fullPath",!0));var e=new V("name");return e.a=function(t,e){return!I(e)||2>e.length?e:U(e)},t.push(e),(e=new V("size")).a=function(t,e){return L(e)?+e:e},t.push(e),t.push(new V("timeCreated")),t.push(new V("updated")),t.push(new V("md5Hash",null,!0)),t.push(new V("cacheControl",null,!0)),t.push(new V("contentDisposition",null,!0)),t.push(new V("contentEncoding",null,!0)),t.push(new V("contentLanguage",null,!0)),t.push(new V("contentType",null,!0)),t.push(new V("metadata","customMetadata",!0)),t.push(new V("downloadTokens","downloadURLs",!1,(function(t,e){if(!(I(e)&&0<e.length))return[];var n=encodeURIComponent;return e.split(",").map((function(e){var i=t.fullPath;return(i="https://firebasestorage.googleapis.com/v0/b/"+n(t.bucket)+"/o/"+n(i))+A({alt:"media",token:e})}))}))),z=t},Y=function(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.c]=t[o.b])}return JSON.stringify(n)},K=function(t){if(!t||"object"!=typeof t)throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if("object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}else if(null!=n&&"object"==typeof n)throw"Mapping for '"+e+"' cannot be an object."}},G=function(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].b){i=o;break}if(!(i<=n.length&&n.length<=r))throw i===r?(e=i,i=1===i?"argument":"arguments"):(e="between "+i+" and "+r,i="arguments"),new u("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+e+" "+i+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].a(n[o])}catch(e){if(e instanceof Error)throw p(o,t,e.message);throw p(o,t,e)}},X=function(t,e){var n=this;this.a=function(e){n.b&&!c(e)||t(e)},this.b=!!e},Q=function(t,e){function n(t){if(!("string"==typeof t||t instanceof String))throw"Expected string."}var i;return i=t?function(t,e){return function(n){t(n),e(n)}}(n,t):n,new X(i,e)},J=function(){return new X((function(t){if(!(("number"==typeof t||t instanceof Number)&&0<=t))throw"Expected a number 0 or greater."}))},Z=function(t,e){return new X((function(e){if(!(null===e||L(e)&&e instanceof Object))throw"Expected an Object.";L(t)&&t(e)}),e)},tt=function(){return new X((function(t){if(null!==t&&"function"!=l(t))throw"Expected a Function."}),!0)},et=function(t){return function(){var e=[];Array.prototype.push.apply(e,arguments),firebase.Promise.resolve(!0).then((function(){t.apply(null,e)}))}},nt=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},it=function(t,e){return t<e?-1:t>e?1:0};t:{var rt=s.navigator;if(rt){var ot=rt.userAgent;if(ot){H=ot;break t}}H=""}var at,st,ct=-1!=H.indexOf("Opera"),lt=-1!=H.indexOf("Trident")||-1!=H.indexOf("MSIE"),ut=-1!=H.indexOf("Edge"),ht=!(-1==H.indexOf("Gecko")||-1!=H.toLowerCase().indexOf("webkit")&&-1==H.indexOf("Edge")||-1!=H.indexOf("Trident")||-1!=H.indexOf("MSIE")||-1!=H.indexOf("Edge")),dt=-1!=H.toLowerCase().indexOf("webkit")&&-1==H.indexOf("Edge");t:{var ft="",pt=(st=H,ht?/rv\:([^\);]+)(\)|;)/.exec(st):ut?/Edge\/([\d\.]+)/.exec(st):lt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(st):dt?/WebKit\/(\S+)/.exec(st):ct?/(?:Version)[ \/]?(\S+)/.exec(st):void 0);if(pt&&(ft=pt?pt[1]:""),lt){var mt,gt=s.document;if(null!=(mt=gt?gt.documentMode:void 0)&&mt>parseFloat(ft)){at=String(mt);break t}}at=ft}var vt=at,bt={},yt=function(t){return function(t,e){var n=bt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=nt(String(vt)).split("."),i=nt(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))},wt=function(t){var e=s.BlobBuilder||s.WebKitBlobBuilder;if(c(e)){e=new e;for(var n=0;n<arguments.length;n++)e.append(arguments[n]);return e.getBlob()}if(e=Array.prototype.slice.call(arguments),n=s.BlobBuilder||s.WebKitBlobBuilder,c(n)){n=new n;for(var i=0;i<e.length;i++)n.append(e[i],void 0);e=n.getBlob(void 0)}else{if(!c(s.Blob))throw Error("This browser doesn't seem to support creating Blobs");e=new Blob(e,{})}return e},Et={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ct=function(t){switch(t){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},$t=function(t,e){this.data=t,this.a=e||null},At=function(t,e){switch(t){case"raw":return new $t(xt(e));case"base64":case"base64url":return new $t(kt(t,e));case"data_url":var n;if((t=new St(e)).a)n=kt("base64",t.c);else{try{n=decodeURIComponent(t.c)}catch(t){throw g("data_url","Malformed data URL.")}n=xt(n)}return new $t(n,new St(e).b)}throw h()},xt=function(t){for(var e=[],n=0;n<t.length;n++)if(127>=(i=t.charCodeAt(n)))e.push(i);else if(2047>=i)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=65536|(1023&i)<<10|1023&t.charCodeAt(++n);e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i);return new Uint8Array(e)},kt=function(t,e){switch(t){case"base64":var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw g(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/"),n||i)throw g(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var r;try{r=atob(e)}catch(e){throw g(t,"Invalid character found")}for(t=new Uint8Array(r.length),e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t},St=function(t){var e=t.match(/^data:([^,]+)?,/);if(null===e)throw g("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(e=e[1]||null,this.a=!1,this.b=null,null!=e){var n=e.length-7;this.b=(this.a=0<=n&&e.indexOf(";base64",n)==n)?e.substring(0,e.length-7):e}this.c=t.substring(t.indexOf(",")+1)},Tt=function(t,e){N()&&t instanceof Blob?(this.j=t,e=t.size,t=t.type):(t instanceof ArrayBuffer?(e?this.j=new Uint8Array(t):(this.j=new Uint8Array(t.byteLength),this.j.set(new Uint8Array(t))),e=this.j.length):(e?this.j=t:(this.j=new Uint8Array(t.length),this.j.set(t)),e=t.length),t=""),this.a=e,this.b=t};Tt.prototype.type=function(){return this.b},Tt.prototype.slice=function(t,e){return N()&&this.j instanceof Blob?(t=function(t,e,n){return c(n)||(n=t.size),t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?ht&&!yt("13.0")||dt&&!yt("537.1")?(0>e&&(e+=t.size),0>e&&(e=0),0>n&&(n+=t.size),n<e&&(n=e),t.slice(e,n-e)):t.slice(e,n):null}(this.j,t,e),null===t?null:new Tt(t)):(t=new Uint8Array(this.j.buffer,t,e-t),new Tt(t,!0))};var _t=function(t){var e=[];if(Array.prototype.push.apply(e,arguments),N())return e=e.map((function(t){return t instanceof Tt?t.j:t})),new Tt(wt.apply(null,e));e=e.map((function(t){return I(t)?At("raw",t).data:t.j}));var n=0;e.forEach((function(t){n+=t.byteLength}));var i=new Uint8Array(n),r=0;return e.forEach((function(t){for(var e=0;e<t.length;e++)i[r++]=t[e]})),new Tt(i,!0)},Mt=function(t,e,n){"function"==l(t)||L(e)||L(n)?(this.b=t,this.error=e||null,this.a=n||null):(this.b=t.next||null,this.error=t.error||null,this.a=t.complete||null)},Ft=function(t){if(!t)throw h()},Dt=function(t,e){return function(n,i){var r;t:{try{r=JSON.parse(i)}catch(t){r=null;break t}r="object"==(n=typeof r)&&null!=r||"function"==n?r:null}if(null===r)r=null;else{n={type:"file"},i=e.length;for(var o=0;o<i;o++){var a=e[o];n[a.b]=a.a(n,r[a.c])}!function(t,e){Object.defineProperty(t,"ref",{get:function(){return e.s(e,new M(t.bucket,t.fullPath))}})}(n,t),r=n}return Ft(null!==r),r}},Rt=function(t){return function(e,n){return(e=401===zt(e)?new u("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===zt(e)?new u("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===zt(e)?new u("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,e}},Ot=function(t){var e=Rt(t);return function(n,i){var r=e(n,i);return 404===zt(n)&&(r=new u("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}},Lt=function(t,e,n){var i=F(e);return(t=new $(b+"/v0"+i,"GET",Dt(t,n),t.c)).a=Ot(e),t},It=function(t,e,n){return(n=n?C(n):{}).fullPath=t.path,n.size=e.a,n.contentType||(t=e&&e.type()||"application/octet-stream",n.contentType=t),n},Nt=function(t,e,n,i){this.current=t,this.total=e,this.I=!!n,this.metadata=i||null},Bt=function(t,e){var n;try{n=t.h.getResponseHeader("X-Goog-Upload-Status")}catch(t){Ft(!1)}return Ft(w(e||["active"],n)),n},Pt={STATE_CHANGED:"state_changed"},Ht={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},jt=function(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}},Ut=function(){var t=this;this.h=new XMLHttpRequest,this.b=0,this.c=y((function(e){t.h.addEventListener("abort",(function(){t.b=2,e(t)})),t.h.addEventListener("error",(function(){t.b=1,e(t)})),t.h.addEventListener("load",(function(){e(t)}))})),this.a=!1},Wt=function(t,e,n,i,r){if(t.a)throw v("cannot .send() more than once");return t.a=!0,t.h.open(n,e,!0),L(r)&&E(r,(function(e,n){t.h.setRequestHeader(e,n.toString())})),L(i)?t.h.send(i):t.h.send(),t.c},Vt=function(t){if(!t.a)throw v("cannot .getErrorCode() before sending");return t.b},zt=function(t){if(!t.a)throw v("cannot .getStatus() before sending");try{return t.h.status}catch(t){return-1}},qt=function(t){if(!t.a)throw v("cannot .getResponseText() before sending");return t.h.responseText};Ut.prototype.abort=function(){this.h.abort()};var Yt=function(){},Kt=function(t,e,n,i,r,o){this.b=t,this.i=e,this.f=n,this.a=i,this.g=r,this.c=o};(t=Kt.prototype).X=function(){return this.b},t.sa=function(){return this.i},t.pa=function(){return this.f},t.ka=function(){return this.a},t.Y=function(){if(L(this.a)){var t=this.a.downloadURLs;return L(t)&&L(t[0])?t[0]:null}return null},t.ra=function(){return this.g},t.na=function(){return this.c};var Gt=function(t,e,n,i,r,o){var a=this;this.O=t,this.c=e,this.o=n,this.f=r,this.i=void 0===o?null:o,this.u=i,this.l=0,this.G=this.w=!1,this.B=[],this.U=262144<this.f.a,this.b="running",this.a=this.A=this.g=null,this.m=1,this.s=function(t){a.a=null,a.m=1,"storage/canceled"===t.code?(a.w=!0,oe(a)):(a.g=t,re(a,"error"))},this.N=function(t){a.a=null,"storage/canceled"===t.code?oe(a):(a.g=t,re(a,"error"))},this.D=this.v=null,this.F=y((function(t,e){a.v=t,a.D=e,Xt(a)})),this.F.then(null,(function(){}))},Xt=function(t){"running"===t.b&&null===t.a&&(t.U?null===t.A?Jt(t):t.w?Zt(t):t.G?ee(t):te(t):ne(t))},Qt=function(t,e){P(t.c).then((function(n){switch(t.b){case"running":e(n);break;case"canceling":re(t,"canceled");break;case"pausing":re(t,"paused")}}))},Jt=function(t){Qt(t,(function(e){var n=function(t,e,n,i,r){var o="/b/"+encodeURIComponent(e.bucket)+"/o",a=It(e,i,r);return r={name:a.fullPath},o=b+"/v0"+o,i={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.a,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=Y(a,n),t=new $(o,"POST",(function(t){var e;Bt(t);try{e=t.h.getResponseHeader("X-Goog-Upload-URL")}catch(t){Ft(!1)}return Ft(I(e)),e}),t.b),t.b=r,t.headers=i,t.body=n,t.a=Rt(e),t}(t.c,t.o,t.u,t.f,t.i);t.a=j(t.c,n,e),t.a.a().then((function(e){t.a=null,t.A=e,t.w=!1,oe(t)}),t.s)}))},Zt=function(t){var e=t.A;Qt(t,(function(n){var i=function(t,e,n,i){return t=new $(n,"POST",(function(t){var e,n=Bt(t,["active","final"]);try{e=t.h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Ft(!1)}return t=e,isFinite(t)&&(t=String(t)),t="string"==typeof t?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN,Ft(!isNaN(t)),new Nt(t,i.a,"final"===n)}),t.b),t.headers={"X-Goog-Upload-Command":"query"},t.a=Rt(e),t.g=!1,t}(t.c,t.o,e,t.f);t.a=j(t.c,i,n),t.a.a().then((function(e){t.a=null,ie(t,e.current),t.w=!1,e.I&&(t.G=!0),oe(t)}),t.s)}))},te=function(t){var e=262144*t.m,n=new Nt(t.l,t.f.a),i=t.A;Qt(t,(function(r){var o;try{o=function(t,e,n,i,r,o,a,s){var c=new Nt(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=i.a),i.a!==c.total)throw new u("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=a=c.total-c.current;0<r&&(l=Math.min(l,r));var h=c.current;if(r={"X-Goog-Upload-Command":l===a?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},null===(a=i.slice(h,h+l)))throw f();return n=new $(n,"POST",(function(t,n){var r,a=Bt(t,["active","final"]),s=c.current+l,u=i.a;return r="final"===a?Dt(e,o)(t,n):null,new Nt(s,u,"final"===a,r)}),e.b),n.headers=r,n.body=a.j,n.c=s||null,n.a=Rt(t),n.g=!1,n}(t.o,t.c,i,t.f,e,t.u,n,function(t){var e=t.l;return function(n){ie(t,e+n)}}(t))}catch(e){return t.g=e,void re(t,"error")}t.a=j(t.c,o,r),t.a.a().then((function(e){33554432>262144*t.m&&(t.m*=2),t.a=null,ie(t,e.current),e.I?(t.i=e.metadata,re(t,"success")):oe(t)}),t.s)}))},ee=function(t){Qt(t,(function(e){var n=Lt(t.c,t.o,t.u);t.a=j(t.c,n,e),t.a.a().then((function(e){t.a=null,t.i=e,re(t,"success")}),t.N)}))},ne=function(t){Qt(t,(function(e){var n=function(t,e,n,i,r){var o,a="/b/"+encodeURIComponent(e.bucket)+"/o",s={"X-Goog-Upload-Protocol":"multipart"};o="";for(var c=0;2>c;c++)o+=Math.random().toString().slice(2);if(s["Content-Type"]="multipart/related; boundary="+o,r=It(e,i,r),c=Y(r,n),null===(i=_t("--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+o+"\r\nContent-Type: "+r.contentType+"\r\n\r\n",i,"\r\n--"+o+"--")))throw f();return(t=new $(b+"/v0"+a,"POST",Dt(t,n),t.b)).b={name:r.fullPath},t.headers=s,t.body=i.j,t.a=Rt(e),t}(t.c,t.o,t.u,t.f,t.i);t.a=j(t.c,n,e),t.a.a().then((function(e){t.a=null,t.i=e,ie(t,t.f.a),re(t,"success")}),t.s)}))},ie=function(t,e){var n=t.l;t.l=e,t.l!==n&&ae(t)},re=function(t,e){if(t.b!==e)switch(e){case"canceling":case"pausing":t.b=e,null!==t.a&&t.a.cancel();break;case"running":var n="paused"===t.b;t.b=e,n&&(ae(t),Xt(t));break;case"paused":case"error":case"success":t.b=e,ae(t);break;case"canceled":t.g=d(),t.b=e,ae(t)}},oe=function(t){switch(t.b){case"pausing":re(t,"paused");break;case"canceling":re(t,"canceled");break;case"running":Xt(t)}};Gt.prototype.C=function(){return new Kt(this.l,this.f.a,jt(this.b),this.i,this,this.O)},Gt.prototype.P=function(t,e,n,i){function r(t){try{return void a(t)}catch(t){}try{if(s(t),!(c(t.next)||c(t.error)||c(t.complete)))throw""}catch(t){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function o(t){return function(e,n,i){null!==t&&G("on",t,arguments);var r=new Mt(e,n,i);return l.B.push(r),ce(l,r),function(){var t=l.B,e=t.indexOf(r);-1!==e&&t.splice(e,1)}}}var a=tt().a,s=Z(null,!0).a;G("on",[Q((function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."})),Z(r,!0),tt(),tt()],arguments);var l=this,u=[Z((function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";r(t)})),tt(),tt()];return c(e)||c(n)||c(i)?o(null)(e,n,i):o(u)},Gt.prototype.then=function(t,e){return this.F.then(void 0===t?null:t,void 0===e?null:e)},Gt.prototype.catch=function(t){return this.then(null,t)};var ae=function(t){se(t),Array.prototype.slice.call(t.B).forEach((function(e){ce(t,e)}))},se=function(t){if(null!==t.v){var e=!0;switch(jt(t.b)){case"success":et(t.v.bind(null,t.C()))();break;case"canceled":case"error":et(t.D.bind(null,t.g))();break;default:e=!1}e&&(t.v=null,t.D=null)}},ce=function(t,e){switch(jt(t.b)){case"running":case"paused":null!==e.b&&et(e.b.bind(e,t.C()))();break;case"success":null!==e.a&&et(e.a.bind(e))();break;default:null!==e.error&&et(e.error.bind(e,t.g))()}};Gt.prototype.T=function(){G("resume",[],arguments);var t="paused"===this.b||"pausing"===this.b;return t&&re(this,"running"),t},Gt.prototype.R=function(){G("pause",[],arguments);var t="running"===this.b;return t&&re(this,"pausing"),t},Gt.prototype.cancel=function(){G("cancel",[],arguments);var t="running"===this.b||"pausing"===this.b;return t&&re(this,"canceling"),t};var le=function(t,e){this.a=t,this.location=e instanceof M?e:R(e)};le.prototype.toString=function(){return G("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path};var ue=function(t,e){return new le(t,e)};(t=le.prototype).J=function(t){G("child",[Q()],arguments);var e=function(t,e){return e=e.split("/").filter((function(t){return 0<t.length})).join("/"),0===t.length?e:t+"/"+e}(this.location.path,t);return ue(this.a,new M(this.location.bucket,e))},t.ma=function(){var t;if(0==(t=this.location.path).length)t=null;else{var e=t.lastIndexOf("/");t=-1===e?"":t.slice(0,e)}return null===t?null:ue(this.a,new M(this.location.bucket,t))},t.oa=function(){return ue(this.a,new M(this.location.bucket,""))},t.W=function(){return this.location.bucket},t.ha=function(){return this.location.path},t.la=function(){return U(this.location.path)},t.qa=function(){return this.a.m},t.aa=function(t,e){return G("put",[new X((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||N()&&t instanceof Blob))throw"Expected Blob or File."})),new X(K,!0)],arguments),he(this,"put"),new Gt(this,this.a,this.location,q(),new Tt(t),e)},t.ba=function(t,e,n){G("putString",[Q(),Q(Ct,!0),new X(K,!0)],arguments),he(this,"putString");var i=At(L(e)?e:"raw",t),r=n?C(n):{};return!L(r.contentType)&&L(i.a)&&(r.contentType=i.a),new Gt(this,this.a,this.location,q(),new Tt(i.data,!0),r)},t.Z=function(){G("delete",[],arguments),he(this,"delete");var t=this;return P(this.a).then((function(e){var n=function(t,e){var n=F(e);return(t=new $(b+"/v0"+n,"DELETE",(function(){}),t.c)).f=[200,204],t.a=Ot(e),t}(t.a,t.location);return j(t.a,n,e).a()}))},t.K=function(){G("getMetadata",[],arguments),he(this,"getMetadata");var t=this;return P(this.a).then((function(e){var n=Lt(t.a,t.location,q());return j(t.a,n,e).a()}))},t.ca=function(t){G("updateMetadata",[new X(K,void 0)],arguments),he(this,"updateMetadata");var e=this;return P(this.a).then((function(n){var i=e.a,r=e.location,o=t,a=q(),s=F(r);return s=b+"/v0"+s,o=Y(o,a),(i=new $(s,"PATCH",Dt(i,a),i.c)).headers={"Content-Type":"application/json; charset=utf-8"},i.body=o,i.a=Ot(r),j(e.a,i,n).a()}))},t.$=function(){return G("getDownloadURL",[],arguments),he(this,"getDownloadURL"),this.K().then((function(t){if(t=t.downloadURLs[0],L(t))return t;throw new u("no-download-url","The given file does not have any download URLs.")}))};var he=function(t,e){if(""===t.location.path)throw new u("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},de=function(t,e,n){this.a=new B(t,(function(t,e){return new le(t,e)}),T,this,e),this.c=t,c(n)?this.b=D(n):null!=this.a.bucket()&&(this.b=new M(this.a.bucket(),"")),this.f=new fe(this)};(t=de.prototype).da=function(t){if(G("ref",[Q((function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}),!0)],arguments),null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var e=new le(this.a,this.b);return c(t)?e.J(t):e},t.ea=function(t){return G("refFromURL",[Q((function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{R(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}),!1)],arguments),new le(this.a,t)},t.ja=function(){return this.a.b},t.ga=function(t){G("setMaxUploadRetryTime",[J()],arguments),this.a.b=t},t.ia=function(){return this.a.c},t.fa=function(t){G("setMaxOperationRetryTime",[J()],arguments),this.a.c=t},t.V=function(){return this.c},t.S=function(){return this.f};var fe=function(t){this.a=t};fe.prototype.b=function(){var t=this.a.a;t.f=!0,t.a=null,function(t){E(t.a,(function(t,e){e&&e.cancel(!0)})),t.a={}}(t.i)};var pe=function(t,e,n){Object.defineProperty(t,e,{get:n})};le.prototype.toString=le.prototype.toString,le.prototype.child=le.prototype.J,le.prototype.put=le.prototype.aa,le.prototype.putString=le.prototype.ba,le.prototype.delete=le.prototype.Z,le.prototype.getMetadata=le.prototype.K,le.prototype.updateMetadata=le.prototype.ca,le.prototype.getDownloadURL=le.prototype.$,pe(le.prototype,"parent",le.prototype.ma),pe(le.prototype,"root",le.prototype.oa),pe(le.prototype,"bucket",le.prototype.W),pe(le.prototype,"fullPath",le.prototype.ha),pe(le.prototype,"name",le.prototype.la),pe(le.prototype,"storage",le.prototype.qa),de.prototype.ref=de.prototype.da,de.prototype.refFromURL=de.prototype.ea,pe(de.prototype,"maxOperationRetryTime",de.prototype.ia),de.prototype.setMaxOperationRetryTime=de.prototype.fa,pe(de.prototype,"maxUploadRetryTime",de.prototype.ja),de.prototype.setMaxUploadRetryTime=de.prototype.ga,pe(de.prototype,"app",de.prototype.V),pe(de.prototype,"INTERNAL",de.prototype.S),fe.prototype.delete=fe.prototype.b,de.prototype.capi_=function(t){b=t},Gt.prototype.on=Gt.prototype.P,Gt.prototype.resume=Gt.prototype.T,Gt.prototype.pause=Gt.prototype.R,Gt.prototype.cancel=Gt.prototype.cancel,Gt.prototype.then=Gt.prototype.then,Gt.prototype.catch=Gt.prototype.catch,pe(Gt.prototype,"snapshot",Gt.prototype.C),pe(Kt.prototype,"bytesTransferred",Kt.prototype.X),pe(Kt.prototype,"totalBytes",Kt.prototype.sa),pe(Kt.prototype,"state",Kt.prototype.pa),pe(Kt.prototype,"metadata",Kt.prototype.ka),pe(Kt.prototype,"downloadURL",Kt.prototype.Y),pe(Kt.prototype,"task",Kt.prototype.ra),pe(Kt.prototype,"ref",Kt.prototype.na),Pt.STATE_CHANGED="state_changed",Ht.RUNNING="running",Ht.PAUSED="paused",Ht.SUCCESS="success",Ht.CANCELED="canceled",Ht.ERROR="error",Et.RAW="raw",Et.BASE64="base64",Et.BASE64URL="base64url",Et.DATA_URL="data_url",function(){var t={TaskState:Ht,TaskEvent:Pt,StringFormat:Et,Storage:de,Reference:le};if(void 0===firebase)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("storage",(function(t,e,n){return new de(t,new Yt,n)}),t,void 0,!0)}()}.call(this),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof n.define&&n.define.amd?define(e):n.Firepad=e()}(0,(function(){(t=t||{}).utils={},t.utils.makeEventEmitter=function(t,e){t.prototype.allowedEvents_=e,t.prototype.on=function(t,e,n){this.validateEventType_(t),this.eventListeners_=this.eventListeners_||{},this.eventListeners_[t]=this.eventListeners_[t]||[],this.eventListeners_[t].push({callback:e,context:n})},t.prototype.off=function(t,e){this.validateEventType_(t),this.eventListeners_=this.eventListeners_||{};for(var n=this.eventListeners_[t]||[],i=0;i<n.length;i++)if(n[i].callback===e)return void n.splice(i,1)},t.prototype.trigger=function(t){this.eventListeners_=this.eventListeners_||{};for(var e=this.eventListeners_[t]||[],n=0;n<e.length;n++)e[n].callback.apply(e[n].context,Array.prototype.slice.call(arguments,1))},t.prototype.validateEventType_=function(t){if(this.allowedEvents_){for(var e=!1,n=0;n<this.allowedEvents_.length;n++)if(this.allowedEvents_[n]===t){e=!0;break}if(!e)throw new Error('Unknown event "'+t+'"')}}},t.utils.elt=function(e,n,i){var r=document.createElement(e);if("string"==typeof n)t.utils.setTextContent(r,n);else if(n)for(var o=0;o<n.length;++o)r.appendChild(n[o]);for(var a in i||{})r.setAttribute(a,i[a]);return r},t.utils.setTextContent=function(t,e){t.innerHTML="",t.appendChild(document.createTextNode(e))},t.utils.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},t.utils.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},t.utils.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},t.utils.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},t.utils.stopEvent=function(e){t.utils.preventDefault(e),t.utils.stopPropagation(e)},t.utils.stopEventAnd=function(e){return function(n){return e(n),t.utils.stopEvent(n),!1}},t.utils.trim=function(t){return t.replace(/^\s+/g,"").replace(/\s+$/g,"")},t.utils.stringEndsWith=function(t,e){for(var n="string"==typeof e?[e]:e,i=0;i<n.length;i++)if(e=n[i],-1!==t.indexOf(e,t.length-e.length))return!0;return!1},t.utils.assert=function(t,e){if(!t)throw new Error(e||"assertion error")},t.utils.log=function(){if("undefined"!=typeof console&&void 0!==console.log){for(var t=["Firepad:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.log.apply(console,t)}},(t=t||{}).Span=function(){function t(t,e){this.pos=t,this.length=e}return t.prototype.end=function(){return this.pos+this.length},t}(),(t=t||{}).TextOp=function(){function e(t){this.type=t,this.chars=null,this.text=null,this.attributes=null,"insert"===t?(this.text=arguments[1],n.assert("string"==typeof this.text),this.attributes=arguments[2]||{},n.assert("object"==typeof this.attributes)):"delete"===t?(this.chars=arguments[1],n.assert("number"==typeof this.chars)):"retain"===t&&(this.chars=arguments[1],n.assert("number"==typeof this.chars),this.attributes=arguments[2]||{},n.assert("object"==typeof this.attributes))}var n=t.utils;return e.prototype.isInsert=function(){return"insert"===this.type},e.prototype.isDelete=function(){return"delete"===this.type},e.prototype.isRetain=function(){return"retain"===this.type},e.prototype.equals=function(t){return this.type===t.type&&this.text===t.text&&this.chars===t.chars&&this.attributesEqual(t.attributes)},e.prototype.attributesEqual=function(t){for(var e in this.attributes)if(this.attributes[e]!==t[e])return!1;for(e in t)if(this.attributes[e]!==t[e])return!1;return!0},e.prototype.hasEmptyAttributes=function(){var t=!0;for(var e in this.attributes){t=!1;break}return t},e}(),(t=t||{}).TextOperation=function(){"use strict";function e(){return this&&this.constructor===e?(this.ops=[],this.baseLength=0,void(this.targetLength=0)):new e}function n(t){var e=t.ops;switch(e.length){case 1:return e[0];case 2:return e[0].isRetain()?e[1]:e[1].isRetain()?e[0]:null;case 3:if(e[0].isRetain()&&e[2].isRetain())return e[1]}return null}function i(t){return t.ops[0].isRetain()?t.ops[0].chars:0}var r=t.TextOp,o=t.utils;return e.prototype.equals=function(t){if(this.baseLength!==t.baseLength)return!1;if(this.targetLength!==t.targetLength)return!1;if(this.ops.length!==t.ops.length)return!1;for(var e=0;e<this.ops.length;e++)if(!this.ops[e].equals(t.ops[e]))return!1;return!0},e.prototype.retain=function(t,e){if("number"!=typeof t||0>t)throw new Error("retain expects a positive integer.");if(0===t)return this;this.baseLength+=t,this.targetLength+=t,e=e||{};var n=this.ops.length>0?this.ops[this.ops.length-1]:null;return n&&n.isRetain()&&n.attributesEqual(e)?n.chars+=t:this.ops.push(new r("retain",t,e)),this},e.prototype.insert=function(t,e){if("string"!=typeof t)throw new Error("insert expects a string");if(""===t)return this;e=e||{},this.targetLength+=t.length;var n=this.ops.length>0?this.ops[this.ops.length-1]:null,i=this.ops.length>1?this.ops[this.ops.length-2]:null;return n&&n.isInsert()&&n.attributesEqual(e)?n.text+=t:n&&n.isDelete()?i&&i.isInsert()&&i.attributesEqual(e)?i.text+=t:(this.ops[this.ops.length-1]=new r("insert",t,e),this.ops.push(n)):this.ops.push(new r("insert",t,e)),this},e.prototype.delete=function(t){if("string"==typeof t&&(t=t.length),"number"!=typeof t||0>t)throw new Error("delete expects a positive integer or a string");if(0===t)return this;this.baseLength+=t;var e=this.ops.length>0?this.ops[this.ops.length-1]:null;return e&&e.isDelete()?e.chars+=t:this.ops.push(new r("delete",t)),this},e.prototype.isNoop=function(){return 0===this.ops.length||1===this.ops.length&&this.ops[0].isRetain()&&this.ops[0].hasEmptyAttributes()},e.prototype.clone=function(){for(var t=new e,n=0;n<this.ops.length;n++)this.ops[n].isRetain()?t.retain(this.ops[n].chars,this.ops[n].attributes):this.ops[n].isInsert()?t.insert(this.ops[n].text,this.ops[n].attributes):t.delete(this.ops[n].chars);return t},e.prototype.toString=function(){var t=Array.prototype.map||function(t){for(var e=[],n=0,i=this.length;i>n;n++)e[n]=t(this[n]);return e};return t.call(this.ops,(function(t){return t.isRetain()?"retain "+t.chars:t.isInsert()?"insert '"+t.text+"'":"delete "+t.chars})).join(", ")},e.prototype.toJSON=function(){for(var t=[],e=0;e<this.ops.length;e++)this.ops[e].hasEmptyAttributes()||t.push(this.ops[e].attributes),"retain"===this.ops[e].type?t.push(this.ops[e].chars):"insert"===this.ops[e].type?t.push(this.ops[e].text):"delete"===this.ops[e].type&&t.push(-this.ops[e].chars);return 0===t.length&&t.push(0),t},e.fromJSON=function(t){for(var n=new e,i=0,r=t.length;r>i;i++){var a=t[i],s={};"object"==typeof a&&(s=a,a=t[++i]),"number"==typeof a?a>0?n.retain(a,s):n.delete(-a):(o.assert("string"==typeof a),n.insert(a,s))}return n},e.prototype.apply=function(t,e,n){if(e=e||[],n=n||[],t.length!==this.baseLength)throw new Error("The operation's base length must be equal to the string's length.");for(var i,r,a=[],s=0,c=0,l=this.ops,u=0,h=l.length;h>u;u++){var d=l[u];if(d.isRetain()){if(c+d.chars>t.length)throw new Error("Operation can't retain more characters than are left in the string.");for(a[s++]=t.slice(c,c+d.chars),i=0;i<d.chars;i++){var f=e[c+i]||{},p={};for(r in f)p[r]=f[r],o.assert(!1!==p[r]);for(r in d.attributes)!1===d.attributes[r]?delete p[r]:p[r]=d.attributes[r],o.assert(!1!==p[r]);n.push(p)}c+=d.chars}else if(d.isInsert())for(a[s++]=d.text,i=0;i<d.text.length;i++){var m={};for(r in d.attributes)m[r]=d.attributes[r],o.assert(!1!==m[r]);n.push(m)}else c+=d.chars}if(c!==t.length)throw new Error("The operation didn't operate on the whole string.");var g=a.join("");return o.assert(g.length===n.length),g},e.prototype.invert=function(t){for(var n=0,i=new e,r=this.ops,o=0,a=r.length;a>o;o++){var s=r[o];s.isRetain()?(i.retain(s.chars),n+=s.chars):s.isInsert()?i.delete(s.text.length):(i.insert(t.slice(n,n+s.chars)),n+=s.chars)}return i},e.prototype.compose=function(t){function n(t,e,n){var i,r={};for(i in t)r[i]=t[i];for(i in e)n&&!1===e[i]?delete r[i]:r[i]=e[i];return r}if(this.targetLength!==t.baseLength)throw new Error("The base length of the second operation has to be the target length of the first operation");for(var i,r=new e,o=this.clone().ops,a=t.clone().ops,s=0,c=0,l=o[s++],u=a[c++];void 0!==l||void 0!==u;)if(l&&l.isDelete())r.delete(l.chars),l=o[s++];else if(u&&u.isInsert())r.insert(u.text,u.attributes),u=a[c++];else{if(void 0===l)throw new Error("Cannot compose operations: first operation is too short.");if(void 0===u)throw new Error("Cannot compose operations: first operation is too long.");if(l.isRetain()&&u.isRetain())i=n(l.attributes,u.attributes),l.chars>u.chars?(r.retain(u.chars,i),l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(r.retain(l.chars,i),l=o[s++],u=a[c++]):(r.retain(l.chars,i),u.chars-=l.chars,l=o[s++]);else if(l.isInsert()&&u.isDelete())l.text.length>u.chars?(l.text=l.text.slice(u.chars),u=a[c++]):l.text.length===u.chars?(l=o[s++],u=a[c++]):(u.chars-=l.text.length,l=o[s++]);else if(l.isInsert()&&u.isRetain())i=n(l.attributes,u.attributes,!0),l.text.length>u.chars?(r.insert(l.text.slice(0,u.chars),i),l.text=l.text.slice(u.chars),u=a[c++]):l.text.length===u.chars?(r.insert(l.text,i),l=o[s++],u=a[c++]):(r.insert(l.text,i),u.chars-=l.text.length,l=o[s++]);else{if(!l.isRetain()||!u.isDelete())throw new Error("This shouldn't happen: op1: "+JSON.stringify(l)+", op2: "+JSON.stringify(u));l.chars>u.chars?(r.delete(u.chars),l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(r.delete(u.chars),l=o[s++],u=a[c++]):(r.delete(l.chars),u.chars-=l.chars,l=o[s++])}}return r},e.prototype.shouldBeComposedWith=function(t){if(this.isNoop()||t.isNoop())return!0;var e=i(this),r=i(t),o=n(this),a=n(t);return!(!o||!a||(o.isInsert()&&a.isInsert()?e+o.text.length!==r:!o.isDelete()||!a.isDelete()||r+a.chars!==e&&e!==r))},e.prototype.shouldBeComposedWithInverted=function(t){if(this.isNoop()||t.isNoop())return!0;var e=i(this),r=i(t),o=n(this),a=n(t);return!!(o&&a&&(o.isInsert()&&a.isInsert()?e+o.text.length===r||e===r:o.isDelete()&&a.isDelete()&&r+a.chars===e))},e.transformAttributes=function(t,e){var n,i={},r={},a={};for(n in t)a[n]=!0;for(n in e)a[n]=!0;for(n in a){var s=t[n],c=e[n];o.assert(null!=s||null!=c),null==s?r[n]=c:null==c?i[n]=s:s===c||(i[n]=s)}return[i,r]},e.transform=function(t,n){if(t.baseLength!==n.baseLength)throw new Error("Both operations have to have the same base length");for(var i=new e,r=new e,o=t.clone().ops,a=n.clone().ops,s=0,c=0,l=o[s++],u=a[c++];void 0!==l||void 0!==u;)if(l&&l.isInsert())i.insert(l.text,l.attributes),r.retain(l.text.length),l=o[s++];else if(u&&u.isInsert())i.retain(u.text.length),r.insert(u.text,u.attributes),u=a[c++];else{if(void 0===l)throw new Error("Cannot transform operations: first operation is too short.");if(void 0===u)throw new Error("Cannot transform operations: first operation is too long.");var h;if(l.isRetain()&&u.isRetain()){var d=e.transformAttributes(l.attributes,u.attributes);l.chars>u.chars?(h=u.chars,l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(h=u.chars,l=o[s++],u=a[c++]):(h=l.chars,u.chars-=l.chars,l=o[s++]),i.retain(h,d[0]),r.retain(h,d[1])}else if(l.isDelete()&&u.isDelete())l.chars>u.chars?(l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(l=o[s++],u=a[c++]):(u.chars-=l.chars,l=o[s++]);else if(l.isDelete()&&u.isRetain())l.chars>u.chars?(h=u.chars,l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(h=u.chars,l=o[s++],u=a[c++]):(h=l.chars,u.chars-=l.chars,l=o[s++]),i.delete(h);else{if(!l.isRetain()||!u.isDelete())throw new Error("The two operations aren't compatible");l.chars>u.chars?(h=u.chars,l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(h=l.chars,l=o[s++],u=a[c++]):(h=l.chars,u.chars-=l.chars,l=o[s++]),r.delete(h)}}return[i,r]},e.prototype.transform=function(t){return e.transform(this,t)},e}(),(t=t||{}).AnnotationList=function(){function e(t,e){if(!t)throw new Error("AnnotationList assertion failed"+(e?": "+e:""))}function n(t,e){this.pos=t,this.length=e.length,this.annotation=e.annotation,this.attachedObject_=e.attachedObject}function i(t,e){this.pos=t,this.length=e.length,this.annotation=e.annotation,this.node_=e}function r(t){this.head_=new o(0,s),this.changeHandler_=t}function o(t,e){this.length=t,this.annotation=e,this.attachedObject=null,this.next=null}var a=t.Span;n.prototype.getAttachedObject=function(){return this.attachedObject_},i.prototype.attachObject=function(t){this.node_.attachedObject=t};var s={equals:function(){return!1}};return r.prototype.insertAnnotatedSpan=function(t,n){this.wrapOperation_(new a(t.pos,0),(function(i,r){e(!r||null===r.next);var a=new o(t.length,n);if(r){e(t.pos>i&&t.pos<i+r.length);var c=new o(0,s);return c.next=new o(t.pos-i,r.annotation),c.next.next=a,a.next=new o(i+r.length-t.pos,r.annotation),c.next}return a}))},r.prototype.removeSpan=function(t){0!==t.length&&this.wrapOperation_(t,(function(n,i){e(null!==i);var r=new o(0,s),a=r;for(t.pos>n&&(a.next=new o(t.pos-n,i.annotation),a=a.next);t.end()>n+i.length;)n+=i.length,i=i.next;var c=n+i.length-t.end();return c>0&&(a.next=new o(c,i.annotation)),r.next}))},r.prototype.updateSpan=function(t,n){0!==t.length&&this.wrapOperation_(t,(function(i,r){e(null!==r);var a=new o(0,s),c=a,l=i,u=t.pos-l;for(e(u<r.length),u>0&&(c.next=new o(u,r.annotation),l+=(c=c.next).length);null!==r&&t.end()>=i+r.length;){var h=i+r.length-l;c.next=new o(h,n(r.annotation,h)),c=c.next,i+=r.length,r=r.next,l=i}var d=t.end()-l;return d>0&&(e(d<r.length),c.next=new o(d,n(r.annotation,d)),l+=(c=c.next).length,c.next=new o(i+r.length-l,r.annotation)),a.next}))},r.prototype.wrapOperation_=function(t,e){if(t.pos<0)throw new Error("Span start cannot be negative.");var r,a=[],s=[],c=this.getAffectedNodes_(t);null!==c.start?(r=c.end.next,c.end.next=null):r=c.succ;var l=e(c.startPos,c.start),u=!1,h=!1;if(l){var d;for(this.mergeNodesWithSameAnnotations_(l),c.pred&&c.pred.annotation.equals(l.annotation)?(u=!0,l.length+=c.pred.length,c.beforePred.next=l,d=c.predPos):(c.beforeStart.next=l,d=c.startPos);l.next;)s.push(new i(d,l)),d+=l.length,l=l.next;c.succ&&c.succ.annotation.equals(l.annotation)?(l.length+=c.succ.length,h=!0,l.next=c.succ.next):l.next=r,s.push(new i(d,l))}else c.pred&&c.succ&&c.pred.annotation.equals(c.succ.annotation)?(u=!0,h=!0,l=new o(c.pred.length+c.succ.length,c.pred.annotation),c.beforePred.next=l,l.next=c.succ.next,s.push(new i(c.startPos-c.pred.length,l))):c.beforeStart.next=r;u&&a.push(new n(c.predPos,c.pred));for(var f=c.startPos,p=c.start;null!==p;)a.push(new n(f,p)),f+=p.length,p=p.next;h&&a.push(new n(f,c.succ)),this.changeHandler_(a,s)},r.prototype.getAffectedNodes_=function(t){for(var e={},n=null,i=this.head_,r=i.next,o=0;null!==r&&t.pos>=o+r.length;)o+=r.length,n=i,i=r,r=r.next;if(null===r&&(0!==t.length||t.pos!==o))throw new Error("Span start exceeds the bounds of the AnnotationList.");for(e.startPos=o,0===t.length&&t.pos===o?e.start=null:e.start=r,e.beforeStart=i,o===t.pos&&o>0?(e.pred=i,e.predPos=o-i.length,e.beforePred=n):e.pred=null;null!==r&&t.end()>o;)o+=r.length,i=r,r=r.next;if(t.end()>o)throw new Error("Span end exceeds the bounds of the AnnotationList.");return 0===t.length&&t.end()===o?e.end=null:e.end=i,e.succ=o===t.end()?r:null,e},r.prototype.mergeNodesWithSameAnnotations_=function(t){if(t)for(var e=null,n=t;n;)e&&e.annotation.equals(n.annotation)?(e.length+=n.length,e.next=n.next):e=n,n=n.next},r.prototype.forEach=function(t){for(var e=this.head_.next;null!==e;)t(e.length,e.annotation,e.attachedObject),e=e.next},r.prototype.getAnnotatedSpansForPos=function(t){for(var e=0,i=this.head_.next,r=null;null!==i&&e+i.length<=t;)e+=i.length,r=i,i=i.next;if(null===i&&e!==t)throw new Error("pos exceeds the bounds of the AnnotationList");var o=[];return e===t&&r&&o.push(new n(e-r.length,r)),i&&o.push(new n(e,i)),o},r.prototype.getAnnotatedSpansForSpan=function(t){if(0===t.length)return[];for(var e=[],n=this.getAffectedNodes_(t),i=n.startPos,r=n.start;null!==r&&i<t.end();){var o=Math.max(i,t.pos),s=Math.min(i+r.length,t.end()),c=new a(o,s-o);c.annotation=r.annotation,e.push(c),i+=r.length,r=r.next}return e},r.prototype.count=function(){for(var t=0,n=this.head_.next,i=null;null!==n;)i&&e(!i.annotation.equals(n.annotation)),i=n,n=n.next,t++;return t},o.prototype.clone=function(){var t=new o(this.spanLength,this.annotation);return t.next=this.next,t},r}(),(t=t||{}).Cursor=function(){"use strict";function t(t,e){this.position=t,this.selectionEnd=e}return t.fromJSON=function(e){return new t(e.position,e.selectionEnd)},t.prototype.equals=function(t){return this.position===t.position&&this.selectionEnd===t.selectionEnd},t.prototype.compose=function(t){return t},t.prototype.transform=function(e){function n(t){for(var n=t,i=e.ops,r=0,o=e.ops.length;o>r&&(i[r].isRetain()?t-=i[r].chars:i[r].isInsert()?n+=i[r].text.length:(n-=Math.min(t,i[r].chars),t-=i[r].chars),!(0>t));r++);return n}var i=n(this.position);return this.position===this.selectionEnd?new t(i,i):new t(i,n(this.selectionEnd))},t}(),(t=t||{}).FirebaseAdapter=function(e){function n(t,e,n){this.ref_=t,this.ready_=!1,this.firebaseCallbacks_=[],this.zombie_=!1,this.document_=new a,this.revision_=0,this.pendingReceivedRevisions_={};var i=this;if(e){this.setUserId(e),this.setColor(n);var r=t.root.child(".info/connected");this.firebaseOn_(r,"value",(function(t){!0===t.val()&&i.initializeUserData_()}),this),this.on("ready",(function(){i.monitorCursors_()}))}else this.userId_=t.push().key;setTimeout((function(){i.monitorHistory_()}),0)}function i(t,e){if(!t)throw new Error(e||"assertion error")}function r(t){if(0===t)return"A0";for(var e="";t>0;){var n=t%c.length;e=c[n]+e,t-=n,t/=c.length}return c[e.length+9]+e}function o(t){i(t.length>0&&t[0]===c[t.length+8]);for(var e=0,n=1;n<t.length;n++)e*=c.length,e+=c.indexOf(t[n]);return e}void 0===firebase&&"function"==typeof require&&"function"!=typeof Firebase&&(firebase=require("firebase"));var a=t.TextOperation,s=t.utils;s.makeEventEmitter(n,["ready","cursor","operation","ack","retry"]),n.prototype.dispose=function(){var t=this;return this.ready_?(this.removeFirebaseCallbacks_(),this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("color").remove()),this.ref_=null,this.document_=null,void(this.zombie_=!0)):void this.on("ready",(function(){t.dispose()}))},n.prototype.setUserId=function(t){this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("cursor").onDisconnect().cancel(),this.userRef_.child("color").remove(),this.userRef_.child("color").onDisconnect().cancel()),this.userId_=t,this.userRef_=this.ref_.child("users").child(t),this.initializeUserData_()},n.prototype.isHistoryEmpty=function(){return i(this.ready_,"Not ready yet."),0===this.revision_},n.prototype.sendOperation=function(t,e){var n=this;if(this.ready_){i(this.document_.targetLength===t.baseLength,"sendOperation() called with invalid operation.");var o=r(this.revision_);this.sent_={id:o,op:t},function t(i,r){n.ref_.child("history").child(i).transaction((function(t){return null===t?r:void 0}),(function(o,a,c){if(o){if("disconnect"!==o.message)throw s.log("Transaction failure!",o),o;n.sent_&&n.sent_.id===i?setTimeout((function(){t(i,r)}),0):e&&e(o,!1)}else e&&e(null,a)}),!1)}(o,{a:n.userId_,o:t.toJSON(),t:firebase.database.ServerValue.TIMESTAMP})}else this.on("ready",(function(){n.trigger("retry")}))},n.prototype.sendCursor=function(t){this.userRef_.child("cursor").set(t),this.cursor_=t},n.prototype.setColor=function(t){this.userRef_.child("color").set(t),this.color_=t},n.prototype.getDocument=function(){return this.document_},n.prototype.registerCallbacks=function(t){for(var e in t)this.on(e,t[e])},n.prototype.initializeUserData_=function(){this.userRef_.child("cursor").onDisconnect().remove(),this.userRef_.child("color").onDisconnect().remove(),this.sendCursor(this.cursor_||null),this.setColor(this.color_||null)},n.prototype.monitorCursors_=function(){function t(t){var e=t.key,i=t.val();n.trigger("cursor",e,i.cursor,i.color)}var e=this.ref_.child("users"),n=this;this.firebaseOn_(e,"child_added",t),this.firebaseOn_(e,"child_changed",t),this.firebaseOn_(e,"child_removed",(function(t){var e=t.key;n.trigger("cursor",e,null)}))},n.prototype.monitorHistory_=function(){var t=this;this.ref_.child("checkpoint").once("value",(function(e){if(!t.zombie_){var n=e.child("id").val(),i=e.child("o").val(),r=e.child("a").val();null!=i&&null!=n&&null!==r?(t.pendingReceivedRevisions_[n]={o:i,a:r},t.checkpointRevision_=o(n),t.monitorHistoryStartingAt_(t.checkpointRevision_+1)):(t.checkpointRevision_=0,t.monitorHistoryStartingAt_(t.checkpointRevision_))}}))},n.prototype.monitorHistoryStartingAt_=function(t){var e=this.ref_.child("history").startAt(null,r(t)),n=this;setTimeout((function(){n.firebaseOn_(e,"child_added",(function(t){var e=t.key;n.pendingReceivedRevisions_[e]=t.val(),n.ready_&&n.handlePendingReceivedRevisions_()})),e.once("value",(function(){n.handleInitialRevisions_()}))}),0)},n.prototype.handleInitialRevisions_=function(){i(!this.ready_,"Should not be called multiple times."),this.revision_=this.checkpointRevision_;for(var t=r(this.revision_),e=this.pendingReceivedRevisions_;null!=e[t];){var n=this.parseRevision_(e[t]);n?this.document_=this.document_.compose(n.operation):s.log("Invalid operation.",this.ref_.toString(),t,e[t]),delete e[t],this.revision_++,t=r(this.revision_)}this.trigger("operation",this.document_),this.ready_=!0;var o=this;setTimeout((function(){o.trigger("ready")}),0)},n.prototype.handlePendingReceivedRevisions_=function(){for(var t=this.pendingReceivedRevisions_,e=r(this.revision_),n=!1;null!=t[e];){this.revision_++;var i=this.parseRevision_(t[e]);i?(this.document_=this.document_.compose(i.operation),this.sent_&&e===this.sent_.id?this.sent_.op.equals(i.operation)&&i.author===this.userId_?(this.revision_%100==0&&this.saveCheckpoint_(),this.sent_=null,this.trigger("ack")):(n=!0,this.trigger("operation",i.operation)):this.trigger("operation",i.operation)):s.log("Invalid operation.",this.ref_.toString(),e,t[e]),delete t[e],e=r(this.revision_)}n&&(this.sent_=null,this.trigger("retry"))},n.prototype.parseRevision_=function(t){if("object"!=typeof t)return null;if("string"!=typeof t.a||"object"!=typeof t.o)return null;var e=null;try{e=a.fromJSON(t.o)}catch(t){return null}return e.baseLength!==this.document_.targetLength?null:{author:t.a,operation:e}},n.prototype.saveCheckpoint_=function(){this.ref_.child("checkpoint").set({a:this.userId_,o:this.document_.toJSON(),id:r(this.revision_-1)})},n.prototype.firebaseOn_=function(t,e,n,i){return this.firebaseCallbacks_.push({ref:t,eventType:e,callback:n,context:i}),t.on(e,n,i),n},n.prototype.firebaseOff_=function(t,e,n,i){t.off(e,n,i);for(var r=0;r<this.firebaseCallbacks_.length;r++){var o=this.firebaseCallbacks_[r];if(o.ref===t&&o.eventType===e&&o.callback===n&&o.context===i){this.firebaseCallbacks_.splice(r,1);break}}},n.prototype.removeFirebaseCallbacks_=function(){for(var t=0;t<this.firebaseCallbacks_.length;t++){var e=this.firebaseCallbacks_[t];e.ref.off(e.eventType,e.callback,e.context)}this.firebaseCallbacks_=[]};var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return n}(),(t=t||{}).RichTextToolbar=function(e){function n(t){this.imageInsertionUI=t,this.element_=this.makeElement_()}var i=t.utils;return i.makeEventEmitter(n,["bold","italic","underline","strike","font","font-size","color","left","center","right","unordered-list","ordered-list","todo-list","indent-increase","indent-decrease","undo","redo","insert-image"]),n.prototype.element=function(){return this.element_},n.prototype.makeButton_=function(t,e){var n=this;e=e||t;var r=i.elt("a",[i.elt("span","",{class:"firepad-tb-"+e})],{class:"firepad-btn"});return i.on(r,"click",i.stopEventAnd((function(){n.trigger(t)}))),r},n.prototype.makeElement_=function(){var t=this,e=this.makeFontDropdown_(),n=this.makeFontSizeDropdown_(),r=this.makeColorDropdown_(),o=[i.elt("div",[e],{class:"firepad-btn-group"}),i.elt("div",[n],{class:"firepad-btn-group"}),i.elt("div",[r],{class:"firepad-btn-group"}),i.elt("div",[t.makeButton_("bold"),t.makeButton_("italic"),t.makeButton_("underline"),t.makeButton_("strike","strikethrough")],{class:"firepad-btn-group"}),i.elt("div",[t.makeButton_("unordered-list","list-2"),t.makeButton_("ordered-list","numbered-list"),t.makeButton_("todo-list","list")],{class:"firepad-btn-group"}),i.elt("div",[t.makeButton_("indent-decrease"),t.makeButton_("indent-increase")],{class:"firepad-btn-group"}),i.elt("div",[t.makeButton_("left","paragraph-left"),t.makeButton_("center","paragraph-center"),t.makeButton_("right","paragraph-right")],{class:"firepad-btn-group"}),i.elt("div",[t.makeButton_("undo"),t.makeButton_("redo")],{class:"firepad-btn-group"})];t.imageInsertionUI&&o.push(i.elt("div",[t.makeButton_("insert-image")],{class:"firepad-btn-group"}));var a=i.elt("div",o,{class:"firepad-toolbar-wrapper"}),s=i.elt("div",null,{class:"firepad-toolbar"});return s.appendChild(a),s},n.prototype.makeFontDropdown_=function(){for(var t=["Arial","Comic Sans MS","Courier New","Impact","Times New Roman","Verdana"],e=[],n=0;n<t.length;n++){var r=i.elt("span",t[n]);r.setAttribute("style","font-family:"+t[n]),e.push({content:r,value:t[n]})}return this.makeDropdown_("Font","font",e)},n.prototype.makeFontSizeDropdown_=function(){for(var t=[9,10,12,14,18,24,32,42],e=[],n=0;n<t.length;n++){var r=i.elt("span",t[n].toString());r.setAttribute("style","font-size:"+t[n]+"px; line-height:"+(t[n]-6)+"px;"),e.push({content:r,value:t[n]})}return this.makeDropdown_("Size","font-size",e,"px")},n.prototype.makeColorDropdown_=function(){for(var t=["black","red","green","blue","yellow","cyan","magenta","grey"],e=[],n=0;n<t.length;n++){var r=i.elt("div");r.className="firepad-color-dropdown-item",r.setAttribute("style","background-color:"+t[n]),e.push({content:r,value:t[n]})}return this.makeDropdown_("Color","color",e)},n.prototype.makeDropdown_=function(t,e,n,r){function o(){u&&(l.style.display="",i.off(document,"click",o,!0),u=!1),h=!0,setTimeout((function(){h=!1}),0)}function a(t,n){"object"!=typeof t&&(t=document.createTextNode(String(t)));var a=i.elt("a",[t]);i.on(a,"click",i.stopEventAnd((function(){o(),s.trigger(e,n+r)}))),l.appendChild(a)}r=r||"";var s=this,c=i.elt("a",t+" â¾",{class:"firepad-btn firepad-dropdown"}),l=i.elt("ul",[],{class:"firepad-dropdown-menu"});c.appendChild(l);for(var u=!1,h=!1,d=0;d<n.length;d++)a(n[d].content,n[d].value);return i.on(c,"click",i.stopEventAnd((function(){h||u||(l.style.display="block",i.on(document,"click",o,!0),u=!0)}))),c},n}(),(t=t||{}).WrappedOperation=function(t){"use strict";function e(t,e){this.wrapped=t,this.meta=e}function n(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function i(t,e){return t&&"object"==typeof t&&"function"==typeof t.transform?t.transform(e):t}return e.prototype.apply=function(){return this.wrapped.apply.apply(this.wrapped,arguments)},e.prototype.invert=function(){var t=this.meta;return new e(this.wrapped.invert.apply(this.wrapped,arguments),t&&"object"==typeof t&&"function"==typeof t.invert?t.invert.apply(t,arguments):t)},e.prototype.compose=function(t){return new e(this.wrapped.compose(t.wrapped),function(t,e){if(t&&"object"==typeof t){if("function"==typeof t.compose)return t.compose(e);var i={};return n(t,i),n(e,i),i}return e}(this.meta,t.meta))},e.transform=function(t,n){var r=t.wrapped.transform(n.wrapped);return[new e(r[0],i(t.meta,n.wrapped)),new e(r[1],i(n.meta,t.wrapped))]},e.prototype.transform=function(t){return e.transform(this,t)},e}(),(t=t||{}).UndoManager=function(){"use strict";function t(t){this.maxItems=t||50,this.state=n,this.dontCompose=!1,this.undoStack=[],this.redoStack=[]}function e(t,e){for(var n=[],i=e.constructor,r=t.length-1;r>=0;r--){var o=i.transform(t[r],e);"function"==typeof o[0].isNoop&&o[0].isNoop()||n.push(o[0]),e=o[1]}return n.reverse()}var n="normal",i="undoing",r="redoing";return t.prototype.add=function(t,e){if(this.state===i)this.redoStack.push(t),this.dontCompose=!0;else if(this.state===r)this.undoStack.push(t),this.dontCompose=!0;else{var n=this.undoStack;!this.dontCompose&&e&&n.length>0?n.push(t.compose(n.pop())):(n.push(t),n.length>this.maxItems&&n.shift()),this.dontCompose=!1,this.redoStack=[]}},t.prototype.transform=function(t){this.undoStack=e(this.undoStack,t),this.redoStack=e(this.redoStack,t)},t.prototype.performUndo=function(t){if(this.state=i,0===this.undoStack.length)throw new Error("undo not possible");t(this.undoStack.pop()),this.state=n},t.prototype.performRedo=function(t){if(this.state=r,0===this.redoStack.length)throw new Error("redo not possible");t(this.redoStack.pop()),this.state=n},t.prototype.canUndo=function(){return 0!==this.undoStack.length},t.prototype.canRedo=function(){return 0!==this.redoStack.length},t.prototype.isUndoing=function(){return this.state===i},t.prototype.isRedoing=function(){return this.state===r},t}(),(t=t||{}).Client=function(){"use strict";function t(){this.state=r}function e(){}function n(t){this.outstanding=t}function i(t,e){this.outstanding=t,this.buffer=e}t.prototype.setState=function(t){this.state=t},t.prototype.applyClient=function(t){this.setState(this.state.applyClient(this,t))},t.prototype.applyServer=function(t){this.setState(this.state.applyServer(this,t))},t.prototype.serverAck=function(){this.setState(this.state.serverAck(this))},t.prototype.serverRetry=function(){this.setState(this.state.serverRetry(this))},t.prototype.sendOperation=function(t){throw new Error("sendOperation must be defined in child class")},t.prototype.applyOperation=function(t){throw new Error("applyOperation must be defined in child class")},t.Synchronized=e,e.prototype.applyClient=function(t,e){return t.sendOperation(e),new n(e)},e.prototype.applyServer=function(t,e){return t.applyOperation(e),this},e.prototype.serverAck=function(t){throw new Error("There is no pending operation.")},e.prototype.serverRetry=function(t){throw new Error("There is no pending operation.")};var r=new e;return t.AwaitingConfirm=n,n.prototype.applyClient=function(t,e){return new i(this.outstanding,e)},n.prototype.applyServer=function(t,e){var i=this.outstanding.transform(e);return t.applyOperation(i[1]),new n(i[0])},n.prototype.serverAck=function(t){return r},n.prototype.serverRetry=function(t){return t.sendOperation(this.outstanding),this},t.AwaitingWithBuffer=i,i.prototype.applyClient=function(t,e){var n=this.buffer.compose(e);return new i(this.outstanding,n)},i.prototype.applyServer=function(t,e){var n=this.outstanding.transform(e),r=this.buffer.transform(n[1]);return t.applyOperation(r[1]),new i(n[0],r[0])},i.prototype.serverRetry=function(t){var e=this.outstanding.compose(this.buffer);return t.sendOperation(e),new n(e)},i.prototype.serverAck=function(t){return t.sendOperation(this.buffer),new n(this.buffer)},t}(),(t=t||{}).EditorClient=function(){"use strict";function e(t,e){this.cursorBefore=t,this.cursorAfter=e}function n(t,e){this.id=t,this.editorAdapter=e}function i(t,e){r.call(this),this.serverAdapter=t,this.editorAdapter=e,this.undoManager=new a,this.clients={};var n=this;this.editorAdapter.registerCallbacks({change:function(t,e){n.onChange(t,e)},cursorActivity:function(){n.onCursorActivity()},blur:function(){n.onBlur()},focus:function(){n.onFocus()}}),this.editorAdapter.registerUndo((function(){n.undo()})),this.editorAdapter.registerRedo((function(){n.redo()})),this.serverAdapter.registerCallbacks({ack:function(){n.serverAck(),n.focused&&n.state instanceof r.Synchronized&&(n.updateCursor(),n.sendCursor(n.cursor)),n.emitStatus()},retry:function(){n.serverRetry()},operation:function(t){n.applyServer(t)},cursor:function(t,e,i){if(n.serverAdapter.userId_!==t&&n.state instanceof r.Synchronized){var a=n.getClientObject(t);e?(i&&a.setColor(i),a.updateCursor(o.fromJSON(e))):a.removeCursor()}}})}var r=t.Client,o=t.Cursor,a=t.UndoManager,s=t.WrappedOperation;return e.prototype.invert=function(){return new e(this.cursorAfter,this.cursorBefore)},e.prototype.compose=function(t){return new e(this.cursorBefore,t.cursorAfter)},e.prototype.transform=function(t){return new e(this.cursorBefore?this.cursorBefore.transform(t):null,this.cursorAfter?this.cursorAfter.transform(t):null)},n.prototype.setColor=function(t){this.color=t},n.prototype.updateCursor=function(t){this.removeCursor(),this.cursor=t,this.mark=this.editorAdapter.setOtherCursor(t,this.color,this.id)},n.prototype.removeCursor=function(){this.mark&&this.mark.clear()},function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}(i,r),i.prototype.getClientObject=function(t){return this.clients[t]||(this.clients[t]=new n(t,this.editorAdapter))},i.prototype.applyUnredo=function(t){this.undoManager.add(this.editorAdapter.invertOperation(t)),this.editorAdapter.applyOperation(t.wrapped),this.cursor=t.meta.cursorAfter,this.cursor&&this.editorAdapter.setCursor(this.cursor),this.applyClient(t.wrapped)},i.prototype.undo=function(){var t=this;this.undoManager.canUndo()&&this.undoManager.performUndo((function(e){t.applyUnredo(e)}))},i.prototype.redo=function(){var t=this;this.undoManager.canRedo()&&this.undoManager.performRedo((function(e){t.applyUnredo(e)}))},i.prototype.onChange=function(t,n){var i=this.cursor;this.updateCursor();var r=this.undoManager.undoStack.length>0&&n.shouldBeComposedWithInverted(function(t){return t[t.length-1]}(this.undoManager.undoStack).wrapped),o=new e(this.cursor,i);this.undoManager.add(new s(n,o),r),this.applyClient(t)},i.prototype.updateCursor=function(){this.cursor=this.editorAdapter.getCursor()},i.prototype.onCursorActivity=function(){var t=this.cursor;this.updateCursor(),!this.focused||t&&this.cursor.equals(t)||this.sendCursor(this.cursor)},i.prototype.onBlur=function(){this.cursor=null,this.sendCursor(null),this.focused=!1},i.prototype.onFocus=function(){this.focused=!0,this.onCursorActivity()},i.prototype.sendCursor=function(t){this.state instanceof r.AwaitingWithBuffer||this.serverAdapter.sendCursor(t)},i.prototype.sendOperation=function(t){this.serverAdapter.sendOperation(t),this.emitStatus()},i.prototype.applyOperation=function(t){this.editorAdapter.applyOperation(t),this.updateCursor(),this.undoManager.transform(new s(t,null))},i.prototype.emitStatus=function(){var t=this;setTimeout((function(){t.trigger("synced",t.state instanceof r.Synchronized)}),0)},i}(),t.utils.makeEventEmitter(t.EditorClient,["synced"]);var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;return null==t&&(t={}),t.ACEAdapter=function(){function i(t){var n;this.onCursorActivity=e(this.onCursorActivity,this),this.onFocus=e(this.onFocus,this),this.onBlur=e(this.onBlur,this),this.onChange=e(this.onChange,this),this.ace=t,this.aceSession=this.ace.getSession(),this.aceDoc=this.aceSession.getDocument(),this.aceDoc.setNewLineMode("unix"),this.grabDocumentState(),this.ace.on("change",this.onChange),this.ace.on("blur",this.onBlur),this.ace.on("focus",this.onFocus),this.aceSession.selection.on("changeCursor",this.onCursorActivity),null==this.aceRange&&(this.aceRange=(null!=(n=ace.require)?n:require)("ace/range").Range)}return i.prototype.ignoreChanges=!1,i.prototype.grabDocumentState=function(){return this.lastDocLines=this.aceDoc.getAllLines(),this.lastCursorRange=this.aceSession.selection.getRange()},i.prototype.detach=function(){return this.ace.removeListener("change",this.onChange),this.ace.removeListener("blur",this.onBlur),this.ace.removeListener("focus",this.onFocus),this.aceSession.selection.removeListener("changeCursor",this.onCursorActivity)},i.prototype.onChange=function(t){var e;return this.ignoreChanges?void 0:(e=this.operationFromACEChange(t),this.trigger.apply(this,["change"].concat(n.call(e))),this.grabDocumentState())},i.prototype.onBlur=function(){return this.ace.selection.isEmpty()?this.trigger("blur"):void 0},i.prototype.onFocus=function(){return this.trigger("focus")},i.prototype.onCursorActivity=function(){var t=this;return setTimeout((function(){return t.trigger("cursorActivity")}),0)},i.prototype.operationFromACEChange=function(e){var n,i,r,o,a,s,c;return e.data?("insertLines"===(c=(i=e.data).action)||"removeLines"===c?(s=i.lines.join("\n")+"\n",i.action.replace("Lines","")):(s=i.text.replace(this.aceDoc.getNewLineCharacter(),"\n"),i.action.replace("Text","")),a=this.indexFromPos(i.range.start)):(s=e.lines.join("\n"),a=this.indexFromPos(e.start)),o=this.lastDocLines.join("\n").length-a,"remove"===e.action&&(o-=s.length),r=(new t.TextOperation).retain(a).insert(s).retain(o),n=(new t.TextOperation).retain(a).delete(s).retain(o),"remove"===e.action?[n,r]:[r,n]},i.prototype.applyOperationToACE=function(t){var e,n,i,r,o,a,s,c;for(n=0,a=0,s=(c=t.ops).length;s>a;a++)(i=c[a]).isRetain()?n+=i.chars:i.isInsert()?(this.aceDoc.insert(this.posFromIndex(n),i.text),n+=i.text.length):i.isDelete()&&(e=this.posFromIndex(n),o=this.posFromIndex(n+i.chars),r=this.aceRange.fromPoints(e,o),this.aceDoc.remove(r));return this.grabDocumentState()},i.prototype.posFromIndex=function(t){var e,n,i,r,o;for(n=i=0,r=(o=this.aceDoc.$lines).length;r>i&&!(t<=(e=o[n]).length);n=++i)t-=e.length+1;return{row:n,column:t}},i.prototype.indexFromPos=function(t,e){var n,i,r,o;for(null==e&&(e=this.lastDocLines),i=0,n=r=0,o=t.row;o>=0?o>r:r>o;n=o>=0?++r:--r)i+=this.lastDocLines[n].length+1;return i+t.column},i.prototype.getValue=function(){return this.aceDoc.getValue()},i.prototype.getCursor=function(){var e,n,i,r,o;try{i=this.indexFromPos(this.aceSession.selection.getRange().start,this.aceDoc.$lines),n=this.indexFromPos(this.aceSession.selection.getRange().end,this.aceDoc.$lines)}catch(t){try{i=this.indexFromPos(this.lastCursorRange.start),n=this.indexFromPos(this.lastCursorRange.end)}catch(t){e=t,console.log("Couldn't figure out the cursor range:",e,"-- setting it to 0:0."),i=(r=[0,0])[0],n=r[1]}}return i>n&&(i=(o=[n,i])[0],n=o[1]),new t.Cursor(i,n)},i.prototype.setCursor=function(t){var e,n,i;return n=this.posFromIndex(t.position),e=this.posFromIndex(t.selectionEnd),t.position>t.selectionEnd&&(n=(i=[e,n])[0],e=i[1]),this.aceSession.selection.setSelectionRange(new this.aceRange(n.row,n.column,e.row,e.column))},i.prototype.setOtherCursor=function(t,e,n){var i,r,o,a,s,c,l,u,h=this;return null==this.otherCursors&&(this.otherCursors={}),(o=this.otherCursors[n])&&(o.start.detach(),o.end.detach(),this.aceSession.removeMarker(o.id)),l=this.posFromIndex(t.position),a=this.posFromIndex(t.selectionEnd),t.selectionEnd<t.position&&(l=(u=[a,l])[0],a=u[1]),i="other-client-selection-"+e.replace("#",""),(s=t.position===t.selectionEnd)&&(i=i.replace("selection","cursor")),r="."+i+" {\n  position: absolute;\n  background-color: "+(s?"transparent":e)+";\n  border-left: 2px solid "+e+";\n}",this.addStyleRule(r),this.otherCursors[n]=o=new this.aceRange(l.row,l.column,a.row,a.column),c=this,o.clipRows=function(){var t;return(t=c.aceRange.prototype.clipRows.apply(this,arguments)).isEmpty=function(){return!1},t},o.start=this.aceDoc.createAnchor(o.start),o.end=this.aceDoc.createAnchor(o.end),o.id=this.aceSession.addMarker(o,i,"text"),{clear:function(){return o.start.detach(),o.end.detach(),h.aceSession.removeMarker(o.id)}}},i.prototype.addStyleRule=function(t){var e;if("undefined"!=typeof document&&null!==document&&(this.addedStyleRules||(this.addedStyleRules={},e=document.createElement("style"),document.documentElement.getElementsByTagName("head")[0].appendChild(e),this.addedStyleSheet=e.sheet),!this.addedStyleRules[t]))return this.addedStyleRules[t]=!0,this.addedStyleSheet.insertRule(t,0)},i.prototype.registerCallbacks=function(t){this.callbacks=t},i.prototype.trigger=function(){var t,e,i,r;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],null!=(i=this.callbacks)&&null!=(r=i[e])?r.apply(this,t):void 0},i.prototype.applyOperation=function(t){return t.isNoop()||(this.ignoreChanges=!0),this.applyOperationToACE(t),this.ignoreChanges=!1},i.prototype.registerUndo=function(t){return this.ace.undo=t},i.prototype.registerRedo=function(t){return this.ace.redo=t},i.prototype.invertOperation=function(t){return t.invert(this.getValue())},i}(),t.MonacoAdapter=function(){function i(t){this.onCursorActivity=e(this.onCursorActivity,this),this.onFocus=e(this.onFocus,this),this.onBlur=e(this.onBlur,this),this.onChange=e(this.onChange,this),this.monaco=t,this.monacoModel=this.monaco.getModel(),this.grabDocumentState();var n=this.monaco.onDidChangeModelContent(this.onChange),i=this.monaco.onDidBlurEditor(this.onBlur),r=this.monaco.onDidFocusEditor(this.onFocus),o=this.monaco.onDidChangeCursorPosition(this.onCursorActivity);this.detach=function(){n.dispose(),i.dispose(),r.dispose(),o.dispose()}}return i.prototype.ignoreChanges=!1,i.prototype.grabDocumentState=function(){this.lastDocLines=this.monacoModel.getLinesContent();var t=this.monaco.getSelection();return this.lastCursorRange=t},i.prototype.onChange=function(t){var e;return this.ignoreChanges?void 0:(e=this.operationFromMonacoChange(t),this.trigger.apply(this,["change"].concat(n.call(e))),this.grabDocumentState())},i.prototype.onBlur=function(){return this.monaco.getSelection().isEmpty()?this.trigger("blur"):void 0},i.prototype.onFocus=function(){return this.trigger("focus")},i.prototype.onCursorActivity=function(){var t=this;return setTimeout((function(){return t.trigger("cursorActivity")}),0)},i.prototype.operationFromMonacoChange=function(e){return text=e.changes[0].text,start=this.indexFromPos(e.changes[0].range,"start"),restLength=this.lastDocLines.join("\n").length-start,text_ins=e.changes[0].text,rangeLen=e.changes[0].rangeLength,e.changes[0].rangeLength>0&&(restLength-=rangeLen,text=this.lastDocLines.join("\n").slice(start,start+rangeLen)),insert_op=(new t.TextOperation).retain(start).insert(text).retain(restLength),delete_op=(new t.TextOperation).retain(start).delete(text).retain(restLength),ins_op_ne=(new t.TextOperation).retain(start).delete(text_ins).insert(text).retain(restLength),del_op_ne=(new t.TextOperation).retain(start).delete(text).insert(text_ins).retain(restLength),""===e.changes[0].text&&rangeLen>0?[delete_op,insert_op]:""!==e.changes[0].text&&rangeLen>0?[del_op_ne,ins_op_ne]:[insert_op,delete_op]},i.prototype.applyOperationToMonaco=function(t){var e,n,i,r,o,a,s,c;for(n=0,o=0,a=(s=t.ops).length;a>o;o++)(i=s[o]).isRetain()?n+=i.chars:i.isInsert()?(c={identifier:{major:1,minor:1},range:new monaco.Range(this.posFromIndex(n).row,this.posFromIndex(n).column,this.posFromIndex(n).row,this.posFromIndex(n).column),text:i.text,forceMoveMarkers:!0},this.monaco.executeEdits("my-source",[c]),n+=i.text.length):i.isDelete()&&(content=this.monacoModel.getLinesContent(),e=this.posFromIndex(n,content),r=this.posFromIndex(n+i.chars,content),c={identifier:{major:1,minor:2},range:new monaco.Range(e.row,e.column,r.row,r.column),text:"",forceMoveMarkers:!0},this.monaco.executeEdits("my-source",[c]));return this.grabDocumentState()},i.prototype.posFromIndex=function(t,e){var n,i,r,o,a;for(i=r=0,o=(a=null==e?this.lastDocLines:e).length;o>r&&!(t<=(n=a[i]).length);i=++r)t-=n.length+1;return{row:i+1,column:t+1}},i.prototype.indexFromPos=function(t,e,n){var i;if(null==n&&(n=this.lastDocLines),i=0,"start"===e){for(row=1;row<t.startLineNumber;row++)i+=n[row-1].length+1;return i+t.startColumn-1}for(row=1;row<t.endLineNumber;row++)i+=n[row-1].length+1;return i+t.endColumn-1},i.prototype.getValue=function(){return this.monacoModel.getValue()},i.prototype.getCursor=function(){var e,n,i,r,o;try{selection=this.monaco.getSelection(),i=this.indexFromPos(selection,"start",this.lastDocLines),n=this.indexFromPos(selection,"end",this.lastDocLines)}catch(t){try{i=this.indexFromPos(this.lastCursorRange,"start"),n=this.indexFromPos(this.lastCursorRange,"end")}catch(t){e=t,console.log("Couldn't figure out the cursor range:",e,"-- setting it to 0:0."),i=(r=[0,0])[0],n=r[1]}}return i>n&&(i=(o=[n,i])[0],n=o[1]),new t.Cursor(i,n)},i.prototype.setCursor=function(t){var e,n,i;return n=this.posFromIndex(t.position),e=this.posFromIndex(t.selectionEnd),t.position>t.selectionEnd&&(n=(i=[e,n])[0],e=i[1]),this.monaco.setSelection(new monaco.Range(n.row,n.column,e.row,e.column))},i.prototype.setOtherCursor=function(t,e,n){return null==this.otherCursors&&(this.otherCursors={},this.otherCursors[n]=[]),this.otherCursors[n]&&(this.otherCursors[n]=this.monaco.deltaDecorations(this.otherCursors[n],[])),start=this.posFromIndex(t.position),end=this.posFromIndex(t.selectionEnd),clazz="other-client-selection-"+e.replace("#",""),start<0||end<0||start>end?void 0:(justCursor=t.position===t.selectionEnd,justCursor&&(clazz=clazz.replace("selection","cursor")),css="."+clazz+" {\n  position: relative;\nbackground-color: "+(justCursor?"transparent":e)+";\nborder-left: 2px solid "+e+";\n}",this.addStyleRule(css),this.otherCursors[n]=this.monaco.deltaDecorations(this.otherCursors[n],[{range:new monaco.Range(start.row,start.column,end.row,end.column),options:{className:clazz}}]),_this=this,{clear:function(){return _this.monaco.deltaDecorations(_this.otherCursors[n],[])}})},i.prototype.addStyleRule=function(t){var e;if("undefined"!=typeof document&&null!==document&&(this.addedStyleRules||(this.addedStyleRules={},e=document.createElement("style"),document.documentElement.getElementsByTagName("head")[0].appendChild(e),this.addedStyleSheet=e.sheet),!this.addedStyleRules[t]))return this.addedStyleRules[t]=!0,this.addedStyleSheet.insertRule(t,0)},i.prototype.registerCallbacks=function(t){this.callbacks=t},i.prototype.trigger=function(t){var e=Array.prototype.slice.call(arguments,1),n=this.callbacks&&this.callbacks[t];n&&n.apply(this,e)},i.prototype.applyOperation=function(t){return t.isNoop()||(this.ignoreChanges=!0),this.applyOperationToMonaco(t),this.ignoreChanges=!1},i.prototype.registerUndo=function(t){return this.monacoModel.undo=t},i.prototype.registerRedo=function(t){return this.monacoModel.redo=t},i.prototype.invertOperation=function(t){return t.invert(this.getValue())},i}(),(t=t||{}).AttributeConstants={BOLD:"b",ITALIC:"i",UNDERLINE:"u",STRIKE:"s",FONT:"f",FONT_SIZE:"fs",COLOR:"c",BACKGROUND_COLOR:"bc",ENTITY_SENTINEL:"ent",LINE_SENTINEL:"l",LINE_INDENT:"li",LINE_ALIGN:"la",LIST_TYPE:"lt"},t.sentinelConstants={LINE_SENTINEL_CHARACTER:"î",ENTITY_SENTINEL_CHARACTER:"î"},(t=t||{}).EntityManager=function(){function e(){this.entities_={};var t=["src","alt","width","height","style","class"];this.register("img",{render:function(t){n.assert(t.src,"image entity should have 'src'!");for(var e=["src","alt","width","height","style","class"],i="<img ",r=0;r<e.length;r++){var o=e[r];o in t&&(i+=" "+o+'="'+t[o]+'"')}return i+">"},fromElement:function(e){for(var n={},i=0;i<t.length;i++){var r=t[i];e.hasAttribute(r)&&(n[r]=e.getAttribute(r))}return n}})}var n=t.utils;return e.prototype.register=function(e,n){t.utils.assert(n.render,"Entity options should include a 'render' function!"),t.utils.assert(n.fromElement,"Entity options should include a 'fromElement' function!"),this.entities_[e]=n},e.prototype.renderToElement=function(t,e){return this.tryRenderToElement_(t,"render",e)},e.prototype.exportToElement=function(t){var e=this.tryRenderToElement_(t,"export")||this.tryRenderToElement_(t,"getHtml")||this.tryRenderToElement_(t,"render");return e.setAttribute("data-firepad-entity",t.type),e},e.prototype.updateElement=function(t,e){var n=t.type,i=t.info;this.entities_[n]&&void 0!==this.entities_[n].update&&this.entities_[n].update(i,e)},e.prototype.fromElement=function(e){var n=e.getAttribute("data-firepad-entity");if(n||(n=e.nodeName.toLowerCase()),n&&this.entities_[n]){var i=this.entities_[n].fromElement(e);return new t.Entity(n,i)}},e.prototype.tryRenderToElement_=function(e,n,i){var r=e.type,o=e.info;if(this.entities_[r]&&this.entities_[r][n]){var a=t.document||window&&window.document,s=this.entities_[r][n](o,i,a);if(s){if("string"==typeof s){var c=(t.document||document).createElement("div");return c.innerHTML=s,c.childNodes[0]}if("object"==typeof s)return t.utils.assert(void 0!==s.nodeType,"Error rendering "+r+" entity.  render() function must return an html string or a DOM element."),s}}},e.prototype.entitySupportsUpdate=function(t){return this.entities_[t]&&this.entities_[t].update},e}(),(t=t||{}).Entity=function(){function e(t,n){return this instanceof e?(this.type=t,void(this.info=n||{})):new e(t,n)}var n=t.AttributeConstants.ENTITY_SENTINEL,i=n+"_";return e.prototype.toAttributes=function(){var t={};for(var e in t[n]=this.type,this.info)t[i+e]=this.info[e];return t},e.fromAttributes=function(t){var r=t[n],o={};for(var a in t)0===a.indexOf(i)&&(o[a.substr(i.length)]=t[a]);return new e(r,o)},e}(),(t=t||{}).RichTextCodeMirror=function(){function e(t,e,n){this.codeMirror=t,this.options_=n||{},this.entityManager_=e,this.currentAttributes_=null;var i=this;this.annotationList_=new s((function(t,e){i.onAnnotationsChanged_(t,e)})),this.initAnnotationList_(),a(this,"onCodeMirrorBeforeChange_"),a(this,"onCodeMirrorChange_"),a(this,"onCursorActivity_"),parseInt(CodeMirror.version)>=4?this.codeMirror.on("changes",this.onCodeMirrorChange_):this.codeMirror.on("change",this.onCodeMirrorChange_),this.codeMirror.on("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.on("cursorActivity",this.onCursorActivity_),this.changeId_=0,this.outstandingChanges_={},this.dirtyLines_=[]}function n(t,e){return function(t,e){return t.line-e.line||t.ch-e.ch}(t,e)<=0}function i(t){return t[t.length-1]}function r(t){if(0===t.length)return 0;for(var e=0,n=0;n<t.length;n++)e+=t[n].length;return e+t.length-1}function o(t){this.attributes=t||{}}function a(t,e){var n=t[e];t[e]=function(){n.apply(t,arguments)}}var s=t.AnnotationList,c=t.Span,l=t.utils,u=t.AttributeConstants,h={c:"color",bc:"background-color",fs:"font-size",li:function(t){return"padding-left: "+40*t+"px"}},d={};l.makeEventEmitter(e,["change","attributesChange","newLine"]);var f=t.sentinelConstants.LINE_SENTINEL_CHARACTER,p=t.sentinelConstants.ENTITY_SENTINEL_CHARACTER;return e.prototype.detach=function(){this.codeMirror.off("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.off("change",this.onCodeMirrorChange_),this.codeMirror.off("changes",this.onCodeMirrorChange_),this.codeMirror.off("cursorActivity",this.onCursorActivity_),this.clearAnnotations_()},e.prototype.toggleAttribute=function(t,e){var n=e||!0;if(this.emptySelection_()){var i=this.getCurrentAttributes_();i[t]===n?delete i[t]:i[t]=n,this.currentAttributes_=i}else{var r=this.getCurrentAttributes_()[t]!==n&&n;this.setAttribute(t,r)}},e.prototype.setAttribute=function(t,e){var n=this.codeMirror;if(this.emptySelection_()){var i=this.getCurrentAttributes_();!1===e?delete i[t]:i[t]=e,this.currentAttributes_=i}else this.updateTextAttributes(n.indexFromPos(n.getCursor("start")),n.indexFromPos(n.getCursor("end")),(function(n){!1===e?delete n[t]:n[t]=e})),this.updateCurrentAttributes_()},e.prototype.updateTextAttributes=function(t,e,n,i,r){var a=[],s=t,l=this;this.annotationList_.updateSpan(new c(t,e-t),(function(t,e){var c={};for(var h in t.attributes)c[h]=t.attributes[h];(!c[u.LINE_SENTINEL]||r)&&n(c);var d={},f={};return l.computeChangedAttributes_(t.attributes,c,d,f),function(t){for(var e in t)return!1;return!0}(d)||a.push({start:s,end:s+e,attributes:d,attributesInverse:f,origin:i}),s+=e,new o(c)})),a.length>0&&this.trigger("attributesChange",this,a)},e.prototype.computeChangedAttributes_=function(t,e,n,i){var r,o={};for(r in t)o[r]=!0;for(r in e)o[r]=!0;for(r in o)r in e?r in t?t[r]!==e[r]&&(n[r]=e[r],i[r]=t[r]):(n[r]=e[r],i[r]=!1):(n[r]=!1,i[r]=t[r])},e.prototype.toggleLineAttribute=function(t,e){var n,i=this.getCurrentLineAttributes_();n=(!(t in i)||i[t]!==e)&&e,this.setLineAttribute(t,n)},e.prototype.setLineAttribute=function(t,e){this.updateLineAttributesForSelection((function(n){!1===e?delete n[t]:n[t]=e}))},e.prototype.updateLineAttributesForSelection=function(t){var e=this.codeMirror,n=e.getCursor("start"),i=e.getCursor("end"),r=n.line,o=i.line,a=e.getLine(o),s=this.areLineSentinelCharacters_(a.substr(0,i.ch));o>r&&s&&o--,this.updateLineAttributes(r,o,t)},e.prototype.updateLineAttributes=function(t,e,n){for(var i=t;e>=i;i++){var r=this.codeMirror.getLine(i),o=this.codeMirror.indexFromPos({line:i,ch:0});if(r[0]!==f){var a={};a[u.LINE_SENTINEL]=!0,n(a),this.insertText(o,f,a)}else this.updateTextAttributes(o,o+1,n,null,!0)}},e.prototype.replaceText=function(t,e,n,i,r){this.changeId_++;var o="cmrt-"+this.changeId_;this.outstandingChanges_[o]={origOrigin:r,attributes:i};var a=this.codeMirror,s=a.posFromIndex(t),c="number"==typeof e?a.posFromIndex(e):null;a.replaceRange(n,s,c,o)},e.prototype.insertText=function(t,e,n,i){var r=this.codeMirror,o=r.getCursor(),a="RTCMADAPTER"==i&&!r.somethingSelected()&&t==r.indexFromPos(o);this.replaceText(t,null,e,n,i),a&&r.setCursor(o)},e.prototype.removeText=function(t,e,n){var i=this.codeMirror;i.replaceRange("",i.posFromIndex(t),i.posFromIndex(e),n)},e.prototype.insertEntityAtCursor=function(t,e,n){var i=this.codeMirror,r=i.indexFromPos(i.getCursor("head"));this.insertEntityAt(r,t,e,n)},e.prototype.insertEntityAt=function(e,n,i,r){this.codeMirror,this.insertEntity_(e,new t.Entity(n,i),r)},e.prototype.insertEntity_=function(t,e,n){this.replaceText(t,null,p,e.toAttributes(),n)},e.prototype.getAttributeSpans=function(t,e){for(var n=[],i=this.annotationList_.getAnnotatedSpansForSpan(new c(t,e-t)),r=0;r<i.length;r++)n.push({length:i[r].length,attributes:i[r].annotation.attributes});return n},e.prototype.end=function(){var t=this.codeMirror.lineCount()-1;return this.codeMirror.indexFromPos({line:t,ch:this.codeMirror.getLine(t).length})},e.prototype.getRange=function(t,e){var n=this.codeMirror.posFromIndex(t),i=this.codeMirror.posFromIndex(e);return this.codeMirror.getRange(n,i)},e.prototype.initAnnotationList_=function(){var t=this.end();0!==t&&this.annotationList_.insertAnnotatedSpan(new c(0,t),new o)},e.prototype.onAnnotationsChanged_=function(t,e){var n,i={};this.tryToUpdateEntitiesInPlace(t,e);for(var r=0;r<t.length;r++){var o=t[r].annotation.attributes;u.LINE_SENTINEL in o&&(i[this.codeMirror.posFromIndex(t[r].pos).line]=!0),(n=t[r].getAttachedObject())&&n.clear()}for(r=0;r<e.length;r++){var a=e[r].annotation,s=u.LINE_SENTINEL in a.attributes,c=u.ENTITY_SENTINEL in a.attributes,l=this.codeMirror.posFromIndex(e[r].pos);if(s)i[l.line]=!0;else if(c)this.markEntity_(e[r]);else{var h=this.getClassNameForAttributes_(a.attributes);if(""!==h){var d=this.codeMirror.posFromIndex(e[r].pos+e[r].length);n=this.codeMirror.markText(l,d,{className:h}),e[r].attachObject(n)}}}for(var f in i)this.dirtyLines_.push(this.codeMirror.getLineHandle(Number(f))),this.queueLineMarking_()},e.prototype.tryToUpdateEntitiesInPlace=function(t,e){for(var n=t.length;n--;)for(var i=t[n],r=e.length;r--;){var o=e[r];if(i.pos==o.pos&&i.length==o.length&&i.annotation.attributes.ent&&i.annotation.attributes.ent==o.annotation.attributes.ent){var a=o.annotation.attributes.ent;if(this.entityManager_.entitySupportsUpdate(a)){t.splice(n,1),e.splice(r,1);var s=i.getAttachedObject();s.update(o.annotation.attributes),o.attachObject(s)}}}},e.prototype.queueLineMarking_=function(){if(null==this.lineMarkTimeout_){var t=this;this.lineMarkTimeout_=setTimeout((function(){t.lineMarkTimeout_=null;for(var e=[],n=0;n<t.dirtyLines_.length;n++){var i=t.codeMirror.getLineNumber(t.dirtyLines_[n]);e.push(Number(i))}t.dirtyLines_=[],e.sort((function(t,e){return t-e}));var r=-1;for(n=0;n<e.length;n++){var o=e[n];o>r&&(r=t.markLineSentinelCharactersForChangedLines_(o,o))}}),0)}},e.prototype.addStyleWithCSS_=function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)},e.prototype.getClassNameForAttributes_=function(e){var n="";for(var i in e){var r=e[i];if(i===u.LINE_SENTINEL)t.utils.assert(!0===r,"LINE_SENTINEL attribute should be true if it exists.");else{var o=(this.options_.cssPrefix||"cmrt-")+i;if(!0!==r){i===u.FONT_SIZE&&"string"!=typeof r&&(r+="px");var a=r.toString().toLowerCase().replace(/[^a-z0-9-_]/g,"-");if(o+="-"+a,h[i]&&(d[i]||(d[i]={}),!d[i][a])){d[i][a]=!0;var s=h[i],c="function"==typeof s?s(r):s+": "+r,l=i==u.LINE_INDENT?"pre."+o:"."+o;this.addStyleWithCSS_(l+" { "+c+" }")}}n=n+" "+o}}return n},e.prototype.markEntity_=function(e){for(var n=e.annotation.attributes,i=t.Entity.fromAttributes(n),r=this.codeMirror,o=this,a=[],s=0;s<e.length;s++){var c=r.posFromIndex(e.pos+s),l=r.posFromIndex(e.pos+s+1),u={collapsed:!0,atomic:!0,inclusiveLeft:!1,inclusiveRight:!1},h=this.createEntityHandle_(i,e.pos),d=this.entityManager_.renderToElement(i,h);d&&(u.replacedWith=d);var f=r.markText(c,l,u);a.push(f),h.setMarker(f)}e.attachObject({clear:function(){for(var t=0;t<a.length;t++)a[t].clear()},update:function(e){for(var n=t.Entity.fromAttributes(e),i=0;i<a.length;i++)o.entityManager_.updateElement(n,a[i].replacedWith)}}),this.queueRefresh_()},e.prototype.queueRefresh_=function(){var t=this;this.refreshTimer_||(this.refreshTimer_=setTimeout((function(){t.codeMirror.refresh(),t.refreshTimer_=null}),0))},e.prototype.createEntityHandle_=function(e,n){function i(){if(r){var t=r.find();return t?o.codeMirror.indexFromPos(t.from):null}return n}var r=null,o=this;return{find:i,remove:function(){var t=i();null!=t&&(o.codeMirror.focus(),o.removeText(t,t+1))},replace:function(n){var r=t.AttributeConstants.ENTITY_SENTINEL,a=r+"_",s=i();o.updateTextAttributes(s,s+1,(function(t){for(var i in t)delete t[i];for(var o in t[r]=e.type,n)t[a+o]=n[o]}))},setMarker:function(t){r=t}}},e.prototype.lineClassRemover_=function(t){var e=this.codeMirror,n=e.getLineHandle(t);return{clear:function(){e.removeLineClass(n,"text",".*")}}},e.prototype.emptySelection_=function(){var t=this.codeMirror.getCursor("start"),e=this.codeMirror.getCursor("end");return t.line===e.line&&t.ch===e.ch},e.prototype.onCodeMirrorBeforeChange_=function(t,e){if("+input"===e.origin||"paste"===e.origin){for(var n=[],i=0;i<e.text.length;i++){var r=e.text[i];r=r.replace(new RegExp("["+f+p+"]","g"),""),n.push(r)}e.update(e.from,e.to,n)}},e.prototype.onCodeMirrorChange_=function(t,e){if("object"==typeof e.from){for(var n=[];e;)n.push(e),e=e.next;e=n}for(var i=this.convertCoordinateSystemForChanges_(e),r=[],a=0;a<i.length;a++){var s,l=i[a],u=l.start,h=(l.end,l.text),d=l.removed,f=l.origin;if(d.length>0){for(var p=this.annotationList_.getAnnotatedSpansForSpan(new c(u,d.length)),m=0,g=0;g<p.length;g++){var v=p[g];r.push({start:u,end:u+v.length,removedAttributes:v.annotation.attributes,removed:d.substr(m,v.length),attributes:{},text:"",origin:l.origin}),m+=v.length}this.annotationList_.removeSpan(new c(u,d.length))}h.length>0&&("+input"===l.origin||"paste"===l.origin?s=this.currentAttributes_||{}:f in this.outstandingChanges_?(s=this.outstandingChanges_[f].attributes,f=this.outstandingChanges_[f].origOrigin,delete this.outstandingChanges_[f]):s={},this.annotationList_.insertAnnotatedSpan(new c(u,h.length),new o(s)),r.push({start:u,end:u,removedAttributes:{},removed:"",text:h,attributes:s,origin:f}))}this.markLineSentinelCharactersForChanges_(e),r.length>0&&this.trigger("change",this,r)},e.prototype.convertCoordinateSystemForChanges_=function(t){function e(t,e){return function(o){return n(o,e.from)?t(o):n(e.to,o)?t({line:o.line+e.text.length-1-(e.to.line-e.from.line),ch:e.to.line<o.line?o.ch:e.text.length<=1?o.ch-(e.to.ch-e.from.ch)+r(e.text):o.ch-e.to.ch+i(e.text).length})+r(e.removed)-r(e.text):e.from.line===o.line?t(e.from)+o.ch-e.from.ch:t(e.from)+r(e.removed.slice(0,o.line-e.from.line))+1+o.ch}}for(var o=this,a=function(t){return o.codeMirror.indexFromPos(t)},s=[],c=t.length-1;c>=0;c--){var l=t[c],u=(a=e(a,l))(l.from),h=l.removed.join("\n"),d=l.text.join("\n");s.unshift({start:u,end:u+h.length,removed:h,text:d,origin:l.origin})}return s},e.prototype.markLineSentinelCharactersForChanges_=function(t){for(var e=Number.MAX_VALUE,n=-1,i=0;i<t.length;i++){var r=t[i],o=r.from.line;r.from.ch,(r.removed.length>1||r.removed[0].indexOf(f)>=0)&&(e=Math.min(e,o),n=Math.max(n,o)),r.text.length>1?(e=Math.min(e,o),n=Math.max(n,o+r.text.length-1)):r.text[0].indexOf(f)>=0&&(e=Math.min(e,o),n=Math.max(n,o))}n=Math.min(n,this.codeMirror.lineCount()-1),this.markLineSentinelCharactersForChangedLines_(e,n)},e.prototype.markLineSentinelCharactersForChangedLines_=function(t,e){if(t<Number.MAX_VALUE)for(;t>0&&this.lineIsListItemOrIndented_(t-1);)t--;if(e>-1)for(var n=this.codeMirror.lineCount();n>e+1&&this.lineIsListItemOrIndented_(e+1);)e++;for(var i=[],r=this.codeMirror,o=t;e>=o;o++){var a=r.getLine(o),s=r.getLineHandle(o);if(r.removeLineClass(s,"text",".*"),a.length>0)for(var c=a.indexOf(f);c>=0;){for(var l=c;c<a.length&&a[c]===f;){for(var u=r.findMarksAt({line:o,ch:c}),h=0;h<u.length;h++)u[h].isForLineSentinel&&u[h].clear();c++}this.markLineSentinelCharacters_(o,l,c,i),c=a.indexOf(f,c)}else i=[]}return e},e.prototype.markLineSentinelCharacters_=function(t,e,n,i){var r=this.codeMirror,o=null,a=null,s=function(){var t=a.find();return t?t.from.line:null};if(0===e){var c=this.getLineAttributes_(t),l=c[u.LIST_TYPE],h=c[u.LINE_INDENT]||0;for(l&&0===h&&(h=1);h>=i.length;)i.push(1);"o"===l?(o=this.makeOrderedListElement_(i[h]),i[h]++):"u"===l?(o=this.makeUnorderedListElement_(),i[h]=1):"t"===l?(o=this.makeTodoListElement_(!1,s),i[h]=1):"tc"===l&&(o=this.makeTodoListElement_(!0,s),i[h]=1);var d=this.getClassNameForAttributes_(c);""!==d&&this.codeMirror.addLineClass(t,"text",d),i=i.slice(0,h+1)}var f={inclusiveLeft:!0,collapsed:!0};o&&(f.replacedWith=o),(a=r.markText({line:t,ch:e},{line:t,ch:n},f)).isForLineSentinel=!0},e.prototype.makeOrderedListElement_=function(t){return l.elt("div",t+".",{class:"firepad-list-left"})},e.prototype.makeUnorderedListElement_=function(){return l.elt("div","â¢",{class:"firepad-list-left"})},e.prototype.toggleTodo=function(t){var e,n=u.LIST_TYPE,i=this.getCurrentLineAttributes_();!(n in i)||"t"!==i[n]&&"tc"!==i[n]?e="t":"t"===i[n]?e="tc":"tc"===i[n]&&(e=!!t&&"t"),this.setLineAttribute(n,e)},e.prototype.makeTodoListElement_=function(t,e){var n={type:"checkbox",class:"firepad-todo-left"};t&&(n.checked=!0);var i=l.elt("input",!1,n),r=this;return l.on(i,"click",l.stopEventAnd((function(t){r.codeMirror.setCursor({line:e(),ch:1}),r.toggleTodo(!0)}))),i},e.prototype.lineIsListItemOrIndented_=function(t){var e=this.getLineAttributes_(t);return!1!==(e[u.LIST_TYPE]||!1)||0!==(e[u.LINE_INDENT]||0)},e.prototype.onCursorActivity_=function(){var t=this;setTimeout((function(){t.updateCurrentAttributes_()}),1)},e.prototype.getCurrentAttributes_=function(){return this.currentAttributes_||this.updateCurrentAttributes_(),this.currentAttributes_},e.prototype.updateCurrentAttributes_=function(){var e=this.codeMirror,n=e.indexFromPos(e.getCursor("anchor")),i=e.indexFromPos(e.getCursor("head")),r=i;if(n>i){for(;r<this.end();){var o=this.getRange(r,r+1);if("\n"!==o&&o!==f)break;r++}r<this.end()&&r++}else for(;r>0&&("\n"===(o=this.getRange(r-1,r))||o===f);)r--;var a=this.annotationList_.getAnnotatedSpansForPos(r);this.currentAttributes_={};var s={};for(var c in a.length>0&&!(u.LINE_SENTINEL in a[0].annotation.attributes)?s=a[0].annotation.attributes:a.length>1&&(t.utils.assert(!(u.LINE_SENTINEL in a[1].annotation.attributes),"Cursor can't be between two line sentinel characters."),s=a[1].annotation.attributes),s)"l"!==c&&"lt"!==c&&"li"!==c&&0!==c.indexOf(u.ENTITY_SENTINEL)&&(this.currentAttributes_[c]=s[c])},e.prototype.getCurrentLineAttributes_=function(){var t=this.codeMirror,e=t.getCursor("anchor"),n=t.getCursor("head"),i=n.line;return 0===n.ch&&e.line<n.line&&i--,this.getLineAttributes_(i)},e.prototype.getLineAttributes_=function(e){var n={},i=this.codeMirror.getLine(e);if(i.length>0&&i[0]===f){var r=this.codeMirror.indexFromPos({line:e,ch:0}),o=this.annotationList_.getAnnotatedSpansForSpan(new c(r,1));for(var a in t.utils.assert(1===o.length),o[0].annotation.attributes)n[a]=o[0].annotation.attributes[a]}return n},e.prototype.clearAnnotations_=function(){this.annotationList_.updateSpan(new c(0,this.end()),(function(t,e){return new o({})}))},e.prototype.newline=function(){var t=this.codeMirror,e=this;if(this.emptySelection_()){var n=t.getCursor("head").line,i=this.getLineAttributes_(n),r=i[u.LIST_TYPE];r&&1===t.getLine(n).length?this.updateLineAttributes(n,n,(function(t){delete t[u.LIST_TYPE],delete t[u.LINE_INDENT]})):(t.replaceSelection("\n","end","+input"),this.updateLineAttributes(n+1,n+1,(function(t){for(var o in i)t[o]=i[o];"tc"===r&&(t[u.LIST_TYPE]="t"),e.trigger("newLine",{line:n+1,attr:t})})))}else t.replaceSelection("\n","end","+input")},e.prototype.deleteLeft=function(){var t=this.codeMirror,e=t.getCursor("head"),n=this.getLineAttributes_(e.line),i=n[u.LIST_TYPE],r=n[u.LINE_INDENT],o=this.emptySelection_()&&1===e.ch;o&&i?this.updateLineAttributes(e.line,e.line,(function(t){delete t[u.LIST_TYPE],delete t[u.LINE_INDENT]})):o&&r&&r>0?this.unindent():t.deleteH(-1,"char")},e.prototype.deleteRight=function(){var t=this.codeMirror,e=t.getCursor("head"),n=t.getLine(e.line),i=this.areLineSentinelCharacters_(n),r=e.line+1<t.lineCount()?t.getLine(e.line+1):"";this.emptySelection_()&&i&&r[0]===f?(t.replaceRange("",{line:e.line,ch:0},{line:e.line+1,ch:0},"+input"),t.setCursor({line:e.line,ch:0})):t.deleteH(1,"char")},e.prototype.indent=function(){this.updateLineAttributesForSelection((function(t){var e=t[u.LINE_INDENT],n=t[u.LIST_TYPE];e?t[u.LINE_INDENT]++:t[u.LINE_INDENT]=n?2:1}))},e.prototype.unindent=function(){this.updateLineAttributesForSelection((function(t){var e=t[u.LINE_INDENT];e&&e>1?t[u.LINE_INDENT]=e-1:(delete t[u.LIST_TYPE],delete t[u.LINE_INDENT])}))},e.prototype.getText=function(){return this.codeMirror.getValue().replace(new RegExp(f,"g"),"")},e.prototype.areLineSentinelCharacters_=function(t){for(var e=0;e<t.length;e++)if(t[e]!==f)return!1;return!0},o.prototype.equals=function(t){if(!(t instanceof o))return!1;var e;for(e in this.attributes)if(t.attributes[e]!==this.attributes[e])return!1;for(e in t.attributes)if(t.attributes[e]!==this.attributes[e])return!1;return!0},e}(),(t=t||{}).RichTextCodeMirrorAdapter=function(){"use strict";function e(t){this.rtcm=t,this.cm=t.codeMirror,r(this,"onChange"),r(this,"onAttributesChange"),r(this,"onCursorActivity"),r(this,"onFocus"),r(this,"onBlur"),this.rtcm.on("change",this.onChange),this.rtcm.on("attributesChange",this.onAttributesChange),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onFocus),this.cm.on("blur",this.onBlur)}function n(t){var e=t.lineCount()-1;return t.indexFromPos({line:e,ch:t.getLine(e).length})}function i(t,e){if(!t)throw new Error(e||"assertion error")}function r(t,e){var n=t[e];t[e]=function(){n.apply(t,arguments)}}function o(t){for(var e in t)return!1;return!0}function a(t,e){if("string"!=typeof t)throw new TypeError("Expected a string");3===(t=t.replace(/^#/,"")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16),i=[n>>16,n>>8&255,255&n],r="rgb";return function(t){return null!=t}(e)&&(r="rgba",i.push(e)),r+"("+i.join(",")+")"}var s=t.TextOperation,c=t.WrappedOperation,l=t.Cursor;return e.prototype.detach=function(){this.rtcm.off("change",this.onChange),this.rtcm.off("attributesChange",this.onAttributesChange),this.cm.off("cursorActivity",this.onCursorActivity),this.cm.off("focus",this.onFocus),this.cm.off("blur",this.onBlur)},e.operationFromCodeMirrorChanges=function(t,e){for(var i=n(e),r=(new s).retain(i),o=(new s).retain(i),a=t.length-1;a>=0;a--){var c=t[a],l=c.start,u=i-l-c.text.length;r=(new s).retain(l).delete(c.removed.length).insert(c.text,c.attributes).retain(u).compose(r),o=o.compose((new s).retain(l).delete(c.text.length).insert(c.removed,c.removedAttributes).retain(u)),i+=c.removed.length-c.text.length}return[r,o]},e.operationFromAttributesChanges=function(t,e){for(var r=n(e),o=new s,a=new s,c=0,l=0;l<t.length;l++){var u=t[l],h=u.start-c;i(h>=0),o.retain(h),a.retain(h);var d=u.end-u.start;o.retain(d,u.attributes),a.retain(d,u.attributesInverse),c=u.start+d}return o.retain(r-c),a.retain(r-c),[o,a]},e.prototype.registerCallbacks=function(t){this.callbacks=t},e.prototype.onChange=function(t,n){if("RTCMADAPTER"!==n[0].origin){var i=e.operationFromCodeMirrorChanges(n,this.cm);this.trigger("change",i[0],i[1])}},e.prototype.onAttributesChange=function(t,n){if("RTCMADAPTER"!==n[0].origin){var i=e.operationFromAttributesChanges(n,this.cm);this.trigger("change",i[0],i[1])}},e.prototype.onCursorActivity=function(){var t=this;setTimeout((function(){t.trigger("cursorActivity")}),1)},e.prototype.onFocus=function(){this.trigger("focus")},e.prototype.onBlur=function(){this.cm.somethingSelected()||this.trigger("blur")},e.prototype.getValue=function(){return this.cm.getValue()},e.prototype.getCursor=function(){var t,e=this.cm,n=e.getCursor(),i=e.indexFromPos(n);if(e.somethingSelected()){var r=e.getCursor(!0),o=function(t,e){return 0===function(t,e){return t.line<e.line?-1:t.line>e.line?1:t.ch<e.ch?-1:t.ch>e.ch?1:0}(t,e)}(n,r)?e.getCursor(!1):r;t=e.indexFromPos(o)}else t=i;return new l(i,t)},e.prototype.setCursor=function(t){this.cm.setSelection(this.cm.posFromIndex(t.position),this.cm.posFromIndex(t.selectionEnd))},e.prototype.addStyleRule=function(t){if("undefined"!=typeof document&&null!==document){if(!this.addedStyleRules){this.addedStyleRules={};var e=document.createElement("style");document.documentElement.getElementsByTagName("head")[0].appendChild(e),this.addedStyleSheet=e.sheet}if(!this.addedStyleRules[t])return this.addedStyleRules[t]=!0,this.addedStyleSheet.insertRule(t,0)}},e.prototype.setOtherCursor=function(t,e,n){var i=this.cm.posFromIndex(t.position);if("string"==typeof e&&e.match(/^#[a-fA-F0-9]{3,6}$/)){var r=this.rtcm.end();if("object"==typeof t&&"number"==typeof t.position&&"number"==typeof t.selectionEnd&&!(t.position<0||t.position>r||t.selectionEnd<0||t.selectionEnd>r)){if(t.position===t.selectionEnd){var o=this.cm.cursorCoords(i),s=document.createElement("span");return s.className="other-client",s.style.borderLeftWidth="2px",s.style.borderLeftStyle="solid",s.style.borderLeftColor=e,s.style.marginLeft=s.style.marginRight="-1px",s.style.height=.9*(o.bottom-o.top)+"px",s.setAttribute("data-clientid",n),s.style.zIndex=0,this.cm.setBookmark(i,{widget:s,insertLeft:!0})}var c,l,u="selection-"+e.replace("#",""),h="."+u+" { background: "+a(e)+";\n background: "+a(e,.4)+";}";return this.addStyleRule(h),t.selectionEnd>t.position?(c=i,l=this.cm.posFromIndex(t.selectionEnd)):(c=this.cm.posFromIndex(t.selectionEnd),l=i),this.cm.markText(c,l,{className:u})}}},e.prototype.trigger=function(t){var e=Array.prototype.slice.call(arguments,1),n=this.callbacks&&this.callbacks[t];n&&n.apply(this,e)},e.prototype.applyOperation=function(t){t.ops.length>10&&this.rtcm.codeMirror.getWrapperElement().setAttribute("style","display: none");for(var e=t.ops,n=0,i=0,r=e.length;r>i;i++){var a=e[i];a.isRetain()?(o(a.attributes)||this.rtcm.updateTextAttributes(n,n+a.chars,(function(t){for(var e in a.attributes)!1===a.attributes[e]?delete t[e]:t[e]=a.attributes[e]}),"RTCMADAPTER",!0),n+=a.chars):a.isInsert()?(this.rtcm.insertText(n,a.text,a.attributes,"RTCMADAPTER"),n+=a.text.length):a.isDelete()&&this.rtcm.removeText(n,n+a.chars,"RTCMADAPTER")}t.ops.length>10&&(this.rtcm.codeMirror.getWrapperElement().setAttribute("style",""),this.rtcm.codeMirror.refresh())},e.prototype.registerUndo=function(t){this.cm.undo=t},e.prototype.registerRedo=function(t){this.cm.redo=t},e.prototype.invertOperation=function(t){for(var e,n,i=0,r=this.rtcm.codeMirror,a=new s,l=0;l<t.wrapped.ops.length;l++){var u=t.wrapped.ops[l];if(u.isRetain())if(o(u.attributes))a.retain(u.chars),i+=u.chars;else for(e=this.rtcm.getAttributeSpans(i,i+u.chars),n=0;n<e.length;n++){var h={};for(var d in u.attributes){var f=u.attributes[d],p=e[n].attributes[d];!1===f?p&&(h[d]=p):f!==p&&(h[d]=p||!1)}a.retain(e[n].length,h),i+=e[n].length}else if(u.isInsert())a.delete(u.text.length);else if(u.isDelete()){var m=r.getRange(r.posFromIndex(i),r.posFromIndex(i+u.chars));e=this.rtcm.getAttributeSpans(i,i+u.chars);var g=0;for(n=0;n<e.length;n++)a.insert(m.substr(g,e[n].length),e[n].attributes),g+=e[n].length;i+=u.chars}}return new c(a,t.meta.invert())},e}(),(t=t||{}).Formatting=function(){function e(t){return this instanceof e?void(this.attributes=t||{}):new e(t)}var n=t.AttributeConstants;return e.prototype.cloneWithNewAttribute_=function(t,n){var i={};for(var r in this.attributes)i[r]=this.attributes[r];return!1===n?delete i[t]:i[t]=n,new e(i)},e.prototype.bold=function(t){return this.cloneWithNewAttribute_(n.BOLD,t)},e.prototype.italic=function(t){return this.cloneWithNewAttribute_(n.ITALIC,t)},e.prototype.underline=function(t){return this.cloneWithNewAttribute_(n.UNDERLINE,t)},e.prototype.strike=function(t){return this.cloneWithNewAttribute_(n.STRIKE,t)},e.prototype.font=function(t){return this.cloneWithNewAttribute_(n.FONT,t)},e.prototype.fontSize=function(t){return this.cloneWithNewAttribute_(n.FONT_SIZE,t)},e.prototype.color=function(t){return this.cloneWithNewAttribute_(n.COLOR,t)},e.prototype.backgroundColor=function(t){return this.cloneWithNewAttribute_(n.BACKGROUND_COLOR,t)},e}(),(t=t||{}).Text=function e(n,i){return this instanceof e?(this.text=n,void(this.formatting=i||t.Formatting())):new e(n,i)},(t=t||{}).LineFormatting=function(){function e(t){return this instanceof e?(this.attributes=t||{},void(this.attributes[n.LINE_SENTINEL]=!0)):new e(t)}var n=t.AttributeConstants;return e.LIST_TYPE={NONE:!1,ORDERED:"o",UNORDERED:"u",TODO:"t",TODOCHECKED:"tc"},e.prototype.cloneWithNewAttribute_=function(t,n){var i={};for(var r in this.attributes)i[r]=this.attributes[r];return!1===n?delete i[t]:i[t]=n,new e(i)},e.prototype.indent=function(t){return this.cloneWithNewAttribute_(n.LINE_INDENT,t)},e.prototype.align=function(t){return this.cloneWithNewAttribute_(n.LINE_ALIGN,t)},e.prototype.listItem=function(e){return t.utils.assert(!1===e||"u"===e||"o"===e||"t"===e||"tc"===e),this.cloneWithNewAttribute_(n.LIST_TYPE,e)},e.prototype.getIndent=function(){return this.attributes[n.LINE_INDENT]||0},e.prototype.getAlign=function(){return this.attributes[n.LINE_ALIGN]||0},e.prototype.getListItem=function(){return this.attributes[n.LIST_TYPE]||!1},e}(),(t=t||{}).Line=function e(n,i){return this instanceof e?("[object Array]"!==Object.prototype.toString.call(n)&&(n=void 0===n?[]:[n]),this.textPieces=n,void(this.formatting=i||t.LineFormatting())):new e(n,i)},(t=t||{}).ParseHtml=function(){function e(e,n,i){this.listType=e||o.UNORDERED,this.lineFormatting=n||t.LineFormatting(),this.textFormatting=i||t.Formatting()}function n(){this.lines=[],this.currentLine=[],this.currentLineListItemType=null}function i(e,n,i){if(e.nodeType===s.ELEMENT_NODE){var c=a.fromElement(e);if(c)return void i.currentLine.push(new t.Text(t.sentinelConstants.ENTITY_SENTINEL_CHARACTER,new t.Formatting(c.toAttributes())))}switch(e.nodeType){case s.TEXT_NODE:var l=e.nodeValue.replace(/[ \n\t]+/g," ");i.currentLine.push(t.Text(l,n.textFormatting));break;case s.ELEMENT_NODE:switch(n=function(e,n){for(var i=e.textFormatting,r=e.lineFormatting,o=n.split(";"),a=0;a<o.length;a++){var s=o[a].split(":");if(2===s.length){var c=t.utils.trim(s[0]).toLowerCase(),l=t.utils.trim(s[1]).toLowerCase();switch(c){case"text-decoration":var u=l.indexOf("underline")>=0,h=l.indexOf("line-through")>=0;i=i.underline(u).strike(h);break;case"font-weight":var d="bold"===l||parseInt(l)>=600;i=i.bold(d);break;case"font-style":var f="italic"===l||"oblique"===l;i=i.italic(f);break;case"color":i=i.color(l);break;case"background-color":i=i.backgroundColor(l);break;case"text-align":r=r.align(l);break;case"font-size":var p=null;t.utils.stringEndsWith(l,["px","pt","%","em","xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"])?p=l:parseInt(l)&&(p=parseInt(l)+"px"),p&&(i=i.fontSize(p));break;case"font-family":var m=t.utils.trim(l.split(",")[0]);m=(m=m.replace(/['"]/g,"")).replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})),i=i.font(m)}}}return e.withLineFormatting(r).withTextFormatting(i)}(n,e.getAttribute("style")||""),e.nodeName.toLowerCase()){case"div":case"h1":case"h2":case"h3":case"p":i.newlineIfNonEmpty(n),r(e,n,i),i.newlineIfNonEmpty(n);break;case"center":n=n.withAlign("center"),i.newlineIfNonEmpty(n),r(e,n.withAlign("center"),i),i.newlineIfNonEmpty(n);break;case"b":case"strong":r(e,n.withTextFormatting(n.textFormatting.bold(!0)),i);break;case"u":r(e,n.withTextFormatting(n.textFormatting.underline(!0)),i);break;case"i":case"em":r(e,n.withTextFormatting(n.textFormatting.italic(!0)),i);break;case"s":r(e,n.withTextFormatting(n.textFormatting.strike(!0)),i);break;case"font":var u=e.getAttribute("face"),h=e.getAttribute("color"),d=parseInt(e.getAttribute("size"));u&&(n=n.withTextFormatting(n.textFormatting.font(u))),h&&(n=n.withTextFormatting(n.textFormatting.color(h))),d&&(n=n.withTextFormatting(n.textFormatting.fontSize(d))),r(e,n,i);break;case"br":i.newline(n);break;case"ul":i.newlineIfNonEmptyOrListItem(n);var f="firepad-todo"===e.getAttribute("class")?o.TODO:o.UNORDERED;r(e,n.withListType(f).withIncreasedIndent(),i),i.newlineIfNonEmpty(n);break;case"ol":i.newlineIfNonEmptyOrListItem(n),r(e,n.withListType(o.ORDERED).withIncreasedIndent(),i),i.newlineIfNonEmpty(n);break;case"li":!function(t,e,n){n.newlineIfNonEmptyOrListItem(e);var i="firepad-checked"===t.getAttribute("class")?o.TODOCHECKED:e.listType;n.makeListItem(i);var a=n.currentLine;r(t,e,n),(a===n.currentLine||n.currentLine.length>0)&&n.newline(e)}(e,n,i);break;case"style":break;default:r(e,n,i)}}}function r(t,e,n){if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++)i(t.childNodes[r],e,n)}var o=t.LineFormatting.LIST_TYPE;e.prototype.withTextFormatting=function(t){return new e(this.listType,this.lineFormatting,t)},e.prototype.withLineFormatting=function(t){return new e(this.listType,t,this.textFormatting)},e.prototype.withListType=function(t){return new e(t,this.lineFormatting,this.textFormatting)},e.prototype.withIncreasedIndent=function(){var t=this.lineFormatting.indent(this.lineFormatting.getIndent()+1);return new e(this.listType,t,this.textFormatting)},e.prototype.withAlign=function(t){var n=this.lineFormatting.align(t);return new e(this.listType,n,this.textFormatting)},n.prototype.newlineIfNonEmpty=function(t){this.cleanLine_(),this.currentLine.length>0&&this.newline(t)},n.prototype.newlineIfNonEmptyOrListItem=function(t){this.cleanLine_(),(this.currentLine.length>0||null!==this.currentLineListItemType)&&this.newline(t)},n.prototype.newline=function(e){this.cleanLine_();var n=e.lineFormatting;null!==this.currentLineListItemType&&(n=n.listItem(this.currentLineListItemType),this.currentLineListItemType=null),this.lines.push(t.Line(this.currentLine,n)),this.currentLine=[]},n.prototype.makeListItem=function(t){this.currentLineListItemType=t},n.prototype.cleanLine_=function(){if(this.currentLine.length>0){var t=this.currentLine.length-1;this.currentLine[0].text=this.currentLine[0].text.replace(/^ +/,""),this.currentLine[t].text=this.currentLine[t].text.replace(/ +$/g,"");for(var e=0;e<this.currentLine.length;e++)this.currentLine[e].text=this.currentLine[e].text.replace(/\u00a0/g," ")}1===this.currentLine.length&&""===this.currentLine[0].text&&(this.currentLine=[])};var a,s=s||{ELEMENT_NODE:1,TEXT_NODE:3};return function(r,o){var s=(t.document||document).createElement("div");s.innerHTML=r,a=o;var c=new n;return i(s,new e,c),c.lines}}(),(t=t||{}).SerializeHtml=function(){function e(t){return t===s.ORDERED?"<ol>":t===s.UNORDERED?"<ul>":'<ul class="firepad-todo">'}function n(t){return t===s.ORDERED?"</ol>":"</ul>"}function i(t,e){return t===e||t===s.TODO&&e===s.TODOCHECKED||t===s.TODOCHECKED&&e===s.TODO}function r(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g,"&nbsp;")}var o=t.utils,a=t.AttributeConstants,s=t.LineFormatting.LIST_TYPE;return function(c,l){for(var u="",h=!0,d=[],f=!1,p=!0,m=!0,g=0,v=c.ops[g],b=!1;v;){o.assert(v.isInsert());var y=v.attributes;if(h){h=!1;var w=0,E=null,C="left";a.LINE_SENTINEL in y&&(w=y[a.LINE_INDENT]||0,E=y[a.LIST_TYPE]||null,C=y[a.LINE_ALIGN]||"left"),E&&(w=w||1),f?(u+="</li>",f=!1):p||(m&&(u+="<br/>"),u+="</div>"),p=!1,o.assert(w>=0,"Indent must not be negative.");for(;d.length>w||w===d.length&&null!==E&&!i(E,d[d.length-1]);)u+=n(d.pop());for(;d.length<w;){var $=E||s.UNORDERED;b=E==s.TODO||E==s.TODOCHECKED||b,u+=e($),d.push($)}var A="left"!==C?' style="text-align:'+C+'"':"";if(E){var x="";switch(E){case s.TODOCHECKED:x=' class="firepad-checked"';break;case s.TODO:x=' class="firepad-unchecked"'}u+="<li"+x+A+">",f=!0}else u+="<div"+A+">";m=!0}if(a.LINE_SENTINEL in y)v=c.ops[++g];else if(a.ENTITY_SENTINEL in y){for(var k=0;k<v.text.length;k++){var S=t.Entity.fromAttributes(y);u+=l.exportToElement(S).outerHTML}v=c.ops[++g]}else{var T="",_="";for(var M in y){var F,D,R=y[M];M===a.BOLD||M===a.ITALIC||M===a.UNDERLINE||M===a.STRIKE?(o.assert(!0===R),F=D=M):M===a.FONT_SIZE?(F='span style="font-size: '+R,F+="string"!=typeof R||-1===R.indexOf("px",R.length-2)?'px"':'"',D="span"):M===a.FONT?(F='span style="font-family: '+R+'"',D="span"):M===a.COLOR?(F='span style="color: '+R+'"',D="span"):M===a.BACKGROUND_COLOR?(F='span style="background-color: '+R+'"',D="span"):o.log(!1,"Encountered unknown attribute while rendering html: "+M),F&&(T+="<"+F+">"),D&&(_="</"+D+">"+_)}var O=v.text,L=O.indexOf("\n");L>=0?(h=!0,v=L<O.length-1?new t.TextOp("insert",O.substr(L+1),y):c.ops[++g],O=O.substr(0,L)):v=c.ops[++g],O=O.replace(/  +/g,(function(t){return new Array(t.length+1).join("Â ")})).replace(/^ /,"Â ").replace(/ $/,"Â "),O.length>0&&(m=!1),u+=T+r(O)+_}}for(f?u+="</li>":p||(m&&(u+="&nbsp;"),u+="</div>");d.length>0;)u+=n(d.pop());return b&&(u='<style>ul.firepad-todo { list-style: none; margin-left: 0; padding-left: 0; } ul.firepad-todo > li { padding-left: 1em; text-indent: -1em; } ul.firepad-todo > li:before { content: "\\2610"; padding-right: 5px; } ul.firepad-todo > li.firepad-checked:before { content: "\\2611"; padding-right: 5px; }</style>\n'+u),u}}(),(t=t||{}).textPiecesToInserts=function(e,n){function i(n,i){n instanceof t.Text&&(i=n.formatting.attributes,n=n.text),o.push({string:n,attributes:i}),e="\n"===n[n.length-1]}function r(n,r){e&&i(t.sentinelConstants.LINE_SENTINEL_CHARACTER,n.formatting.attributes);for(var o=0;o<n.textPieces.length;o++)i(n.textPieces[o]);r&&i("\n")}for(var o=[],a=0;a<n.length;a++)n[a]instanceof t.Line?r(n[a],a<n.length-1):i(n[a]);return o},(t=t||{}).Headless=function(){function e(t){if(!(this instanceof e))return new e(t);var n,o;"string"==typeof t?(void 0===window.firebase&&"object"!=typeof n?(console.log("REQUIRING"),n=require("firebase")):n=window.firebase,o=n.database().refFromURL(t)):o=t,this.entityManager_=new r,this.firebaseAdapter_=new i(o),this.ready_=!1,this.zombie_=!1}var n=t.TextOperation,i=t.FirebaseAdapter,r=t.EntityManager,o=t.ParseHtml;return e.prototype.getDocument=function(t){var e=this;return e.ready_?t(e.firebaseAdapter_.getDocument()):void e.firebaseAdapter_.on("ready",(function(){e.ready_=!0,t(e.firebaseAdapter_.getDocument())}))},e.prototype.getText=function(e){if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");this.getDocument((function(n){var i=n.apply("");for(key in t.sentinelConstants)i=i.replace(new RegExp(t.sentinelConstants[key],"g"),"");e(i)}))},e.prototype.setText=function(t,e){if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");var i=n().insert(t);this.sendOperationWithRetry(i,e)},e.prototype.initializeFakeDom=function(e){"object"==typeof document||"object"==typeof t.document?e():require("jsdom").env("<head></head><body></body>",(function(n,i){return t.document?(i.close(),e()):(t.document=i.document,void e())}))},e.prototype.getHtml=function(e){var n=this;if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");n.initializeFakeDom((function(){n.getDocument((function(i){e(t.SerializeHtml(i,n.entityManager_))}))}))},e.prototype.setHtml=function(e,i){var r=this;if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");r.initializeFakeDom((function(){for(var a=o(e,r.entityManager_),s=t.textPiecesToInserts(!0,a),c=new n,l=0;l<s.length;l++)c.insert(s[l].string,s[l].attributes);r.sendOperationWithRetry(c,i)}))},e.prototype.sendOperationWithRetry=function(t,e){var n=this;n.getDocument((function(i){var r=t.clone().delete(i.targetLength);n.firebaseAdapter_.sendOperation(r,(function(i,r){r?void 0!==e&&e(null,r):n.sendOperationWithRetry(t,e)}))}))},e.prototype.dispose=function(){this.zombie_=!0,this.firebaseAdapter_.dispose()},e}(),(t=t||{}).Firepad=function(e){function n(t,r,s){if(!(this instanceof n))return new n(t,r,s);if(!m&&!g&&!e.monaco)throw new Error("Couldn't find CodeMirror, ACE or Monaco.  Did you forget to include codemirror.js/ace.js or import monaco?");if(this.zombie_=!1,m&&r instanceof m){this.codeMirror_=this.editor_=r;var f=this.codeMirror_.getValue();if(""!==f)throw new Error("Can't initialize Firepad with a CodeMirror instance that already contains text.")}else if(g&&r&&r.session instanceof g.EditSession){if(this.ace_=this.editor_=r,""!==(f=this.ace_.getValue()))throw new Error("Can't initialize Firepad with an ACE instance that already contains text.")}else if(e.monaco&&r&&r instanceof e.monaco.constructor){if(e.monaco,this.monaco_=this.editor_=r,""!==(f=this.monaco_.getValue()))throw new Error("Can't initialize Firepad with a Monaco instance that already contains text.")}else this.codeMirror_=this.editor_=new m(r);var v;v=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_?this.ace_.container:this.monaco_.getDomNode(),this.firepadWrapper_=p.elt("div",null,{class:"firepad"}),v.parentNode.replaceChild(this.firepadWrapper_,v),this.firepadWrapper_.appendChild(v),p.on(v,"dragstart",p.stopEvent),this.editor_.firepad=this,this.options_=s||{},this.getOption("richTextShortcuts",!1)&&(m.keyMap.richtext||this.initializeKeyMap_(),this.codeMirror_.setOption("keyMap","richtext"),this.firepadWrapper_.className+=" firepad-richtext"),this.imageInsertionUI=this.getOption("imageInsertionUI",!0),this.getOption("richTextToolbar",!1)&&(this.addToolbar_(),this.firepadWrapper_.className+=" firepad-richtext firepad-with-toolbar"),this.addPoweredByLogo_(),this.codeMirror_&&this.codeMirror_.refresh();var b=this.getOption("userId",t.push().key),y=this.getOption("userColor",i(b));this.entityManager_=new d,this.firebaseAdapter_=new u(t,b,y),this.codeMirror_?(this.richTextCodeMirror_=new a(this.codeMirror_,this.entityManager_,{cssPrefix:"firepad-"}),this.editorAdapter_=new o(this.richTextCodeMirror_)):this.ace_?this.editorAdapter_=new c(this.ace_):this.editorAdapter_=new l(this.monaco_),this.client_=new h(this.firebaseAdapter_,this.editorAdapter_);var w=this;this.firebaseAdapter_.on("cursor",(function(){w.trigger.apply(w,["cursor"].concat([].slice.call(arguments)))})),this.codeMirror_&&this.richTextCodeMirror_.on("newLine",(function(){w.trigger.apply(w,["newLine"].concat([].slice.call(arguments)))})),this.firebaseAdapter_.on("ready",(function(){w.ready_=!0,this.ace_&&this.editorAdapter_.grabDocumentState(),this.monaco_&&this.editorAdapter_.grabDocumentState();var t=w.getOption("defaultText",null);t&&w.isHistoryEmpty()&&w.setText(t),w.trigger("ready")})),this.client_.on("synced",(function(t){w.trigger("synced",t)})),"Microsoft Internet Explorer"==navigator.appName&&navigator.userAgent.match(/MSIE 8\./)&&(window.onload=function(){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet.cssText=":before,:after{content:none !important;}",t.appendChild(e),setTimeout((function(){t.removeChild(e)}),0)})}function i(t){for(var e=1,n=0;n<t.length;n++)e=17*(e+t.charCodeAt(n))%360;return function(t,e,n){var i=.5,o=function(t){return 0>t&&(t+=1),t>1&&(t-=1),1>6*t?i+3*t:1>2*t?1:2>3*t?i+3*(2/3-t):i};return r(o(t+1/3),o(t),o(t-1/3))}(e/360)}function r(t,e,n){function i(t){var e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e}return"#"+i(t)+i(e)+i(n)}if(!t.RichTextCodeMirrorAdapter)throw new Error("Oops! It looks like you're trying to include lib/firepad.js directly.  This is actually one of many source files that make up firepad.  You want dist/firepad.js instead.");var o=t.RichTextCodeMirrorAdapter,a=t.RichTextCodeMirror,s=t.RichTextToolbar,c=t.ACEAdapter,l=t.MonacoAdapter,u=t.FirebaseAdapter,h=t.EditorClient,d=t.EntityManager,f=t.AttributeConstants,p=t.utils,m=(t.LineFormatting.LIST_TYPE,e.CodeMirror),g=e.ace;return e.monaco,p.makeEventEmitter(n),n.fromCodeMirror=n,n.fromACE=n,n.fromMonaco=n,n.prototype.dispose=function(){this.zombie_=!0,this.codeMirror_?editorWrapper=this.codeMirror_.getWrapperElement():this.ace_?editorWrapper=this.ace_.container:editorWrapper=this.monaco_.getDomNode(),this.firepadWrapper_.removeChild(editorWrapper),this.firepadWrapper_.parentNode.replaceChild(editorWrapper,this.firepadWrapper_),this.editor_.firepad=null,this.codeMirror_&&"richtext"===this.codeMirror_.getOption("keyMap")&&this.codeMirror_.setOption("keyMap","default"),this.firebaseAdapter_.dispose(),this.editorAdapter_.detach(),this.richTextCodeMirror_&&this.richTextCodeMirror_.detach()},n.prototype.setUserId=function(t){this.firebaseAdapter_.setUserId(t)},n.prototype.setUserColor=function(t){this.firebaseAdapter_.setColor(t)},n.prototype.getText=function(){return this.assertReady_("getText"),this.codeMirror_?this.richTextCodeMirror_.getText():this.ace_?this.ace_.getSession().getDocument().getValue():this.monaco_.getModel().getValue()},n.prototype.setText=function(t){return this.assertReady_("setText"),this.monaco_?this.monaco_.getModel().setValue(t):this.ace_?this.ace_.getSession().getDocument().setValue(t):(this.codeMirror_.getWrapperElement().setAttribute("style","display: none"),this.codeMirror_.setValue(""),this.insertText(0,t),this.codeMirror_.getWrapperElement().setAttribute("style",""),this.codeMirror_.refresh(),void this.editorAdapter_.setCursor({position:0,selectionEnd:0}))},n.prototype.insertTextAtCursor=function(t){this.insertText(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),t)},n.prototype.insertText=function(e,n){p.assert(!this.ace_,"Not supported for ace yet."),p.assert(!this.monaco_,"Not supported for monaco yet."),this.assertReady_("insertText"),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);var i=this;i.codeMirror_.operation((function(){for(var r=0===e,o=t.textPiecesToInserts(r,n),a=0;a<o.length;a++){var s=o[a].string,c=o[a].attributes;i.richTextCodeMirror_.insertText(e,s,c),e+=s.length}}))},n.prototype.getOperationForSpan=function(e,n){for(var i=this.richTextCodeMirror_.getRange(e,n),r=this.richTextCodeMirror_.getAttributeSpans(e,n),o=0,a=new t.TextOperation,s=0;s<r.length;s++)a.insert(i.substr(o,r[s].length),r[s].attributes),o+=r[s].length;return a},n.prototype.getHtml=function(){return this.getHtmlFromRange(null,null)},n.prototype.getHtmlFromSelection=function(){var t=this.codeMirror_.getCursor("start"),e=this.codeMirror_.getCursor("end"),n=this.codeMirror_.indexFromPos(t),i=this.codeMirror_.indexFromPos(e);return this.getHtmlFromRange(n,i)},n.prototype.getHtmlFromRange=function(e,n){this.assertReady_("getHtmlFromRange");var i=null!=e&&null!=n?this.getOperationForSpan(e,n):this.getOperationForSpan(0,this.codeMirror_.getValue().length);return t.SerializeHtml(i,this.entityManager_)},n.prototype.insertHtml=function(e,n){var i=t.ParseHtml(n,this.entityManager_);this.insertText(e,i)},n.prototype.insertHtmlAtCursor=function(t){this.insertHtml(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),t)},n.prototype.setHtml=function(e){var n=t.ParseHtml(e,this.entityManager_);this.setText(n)},n.prototype.isHistoryEmpty=function(){return this.assertReady_("isHistoryEmpty"),this.firebaseAdapter_.isHistoryEmpty()},n.prototype.bold=function(){this.richTextCodeMirror_.toggleAttribute(f.BOLD),this.codeMirror_.focus()},n.prototype.italic=function(){this.richTextCodeMirror_.toggleAttribute(f.ITALIC),this.codeMirror_.focus()},n.prototype.underline=function(){this.richTextCodeMirror_.toggleAttribute(f.UNDERLINE),this.codeMirror_.focus()},n.prototype.strike=function(){this.richTextCodeMirror_.toggleAttribute(f.STRIKE),this.codeMirror_.focus()},n.prototype.fontSize=function(t){this.richTextCodeMirror_.setAttribute(f.FONT_SIZE,t),this.codeMirror_.focus()},n.prototype.font=function(t){this.richTextCodeMirror_.setAttribute(f.FONT,t),this.codeMirror_.focus()},n.prototype.color=function(t){this.richTextCodeMirror_.setAttribute(f.COLOR,t),this.codeMirror_.focus()},n.prototype.highlight=function(){this.richTextCodeMirror_.toggleAttribute(f.BACKGROUND_COLOR,"rgba(255,255,0,.65)"),this.codeMirror_.focus()},n.prototype.align=function(t){if("left"!==t&&"center"!==t&&"right"!==t)throw new Error('align() must be passed "left", "center", or "right".');this.richTextCodeMirror_.setLineAttribute(f.LINE_ALIGN,t),this.codeMirror_.focus()},n.prototype.orderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(f.LIST_TYPE,"o"),this.codeMirror_.focus()},n.prototype.unorderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(f.LIST_TYPE,"u"),this.codeMirror_.focus()},n.prototype.todo=function(){this.richTextCodeMirror_.toggleTodo(),this.codeMirror_.focus()},n.prototype.newline=function(){this.richTextCodeMirror_.newline()},n.prototype.deleteLeft=function(){this.richTextCodeMirror_.deleteLeft()},n.prototype.deleteRight=function(){this.richTextCodeMirror_.deleteRight()},n.prototype.indent=function(){this.richTextCodeMirror_.indent(),this.codeMirror_.focus()},n.prototype.unindent=function(){this.richTextCodeMirror_.unindent(),this.codeMirror_.focus()},n.prototype.undo=function(){this.codeMirror_.undo()},n.prototype.redo=function(){this.codeMirror_.redo()},n.prototype.insertEntity=function(t,e,n){this.richTextCodeMirror_.insertEntityAtCursor(t,e,n)},n.prototype.insertEntityAt=function(t,e,n,i){this.richTextCodeMirror_.insertEntityAt(t,e,n,i)},n.prototype.registerEntity=function(t,e){this.entityManager_.register(t,e)},n.prototype.getOption=function(t,e){return t in this.options_?this.options_[t]:e},n.prototype.assertReady_=function(t){if(!this.ready_)throw new Error('You must wait for the "ready" event before calling '+t+".");if(this.zombie_)throw new Error("You can't use a Firepad after calling dispose()!  [called "+t+"]")},n.prototype.makeImageDialog_=function(){this.makeDialog_("img","Insert image url")},n.prototype.makeDialog_=function(t,e){var n=this,i=p.elt("input",null,{class:"firepad-dialog-input",id:t,type:"text",placeholder:e,autofocus:"autofocus"}),r=p.elt("a","Submit",{class:"firepad-btn",id:"submitbtn"});p.on(r,"click",p.stopEventAnd((function(){var e=document.getElementById("overlay");e.style.visibility="hidden";var i=document.getElementById(t).value;null!==i&&n.insertEntity(t,{src:i}),n.firepadWrapper_.removeChild(e)})));var o=p.elt("a","Cancel",{class:"firepad-btn"});p.on(o,"click",p.stopEventAnd((function(){var t=document.getElementById("overlay");t.style.visibility="hidden",n.firepadWrapper_.removeChild(t)})));var a=p.elt("div",[r,o],{class:"firepad-btn-group"}),s=p.elt("div",[i,a],{class:"firepad-dialog-div"}),c=p.elt("div",[s],{class:"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(c)},n.prototype.addToolbar_=function(){this.toolbar=new s(this.imageInsertionUI),this.toolbar.on("undo",this.undo,this),this.toolbar.on("redo",this.redo,this),this.toolbar.on("bold",this.bold,this),this.toolbar.on("italic",this.italic,this),this.toolbar.on("underline",this.underline,this),this.toolbar.on("strike",this.strike,this),this.toolbar.on("font-size",this.fontSize,this),this.toolbar.on("font",this.font,this),this.toolbar.on("color",this.color,this),this.toolbar.on("left",(function(){this.align("left")}),this),this.toolbar.on("center",(function(){this.align("center")}),this),this.toolbar.on("right",(function(){this.align("right")}),this),this.toolbar.on("ordered-list",this.orderedList,this),this.toolbar.on("unordered-list",this.unorderedList,this),this.toolbar.on("todo-list",this.todo,this),this.toolbar.on("indent-increase",this.indent,this),this.toolbar.on("indent-decrease",this.unindent,this),this.toolbar.on("insert-image",this.makeImageDialog_,this),this.firepadWrapper_.insertBefore(this.toolbar.element(),this.firepadWrapper_.firstChild)},n.prototype.addPoweredByLogo_=function(){var t=p.elt("a",null,{class:"powered-by-firepad"});t.setAttribute("href","http://www.firepad.io/"),t.setAttribute("target","_blank"),this.firepadWrapper_.appendChild(t)},n.prototype.initializeKeyMap_=function(){function t(t){return function(e){setTimeout((function(){t.call(e.firepad)}),0)}}m.keyMap.richtext={"Ctrl-B":t(this.bold),"Cmd-B":t(this.bold),"Ctrl-I":t(this.italic),"Cmd-I":t(this.italic),"Ctrl-U":t(this.underline),"Cmd-U":t(this.underline),"Ctrl-H":t(this.highlight),"Cmd-H":t(this.highlight),Enter:t(this.newline),Delete:t(this.deleteRight),Backspace:t(this.deleteLeft),Tab:t(this.indent),"Shift-Tab":t(this.unindent),fallthrough:["default"]}},n}(this),t.Firepad.Formatting=t.Formatting,t.Firepad.Text=t.Text,t.Firepad.Entity=t.Entity,t.Firepad.LineFormatting=t.LineFormatting,t.Firepad.Line=t.Line,t.Firepad.TextOperation=t.TextOperation,t.Firepad.Headless=t.Headless,t.Firepad.RichTextCodeMirrorAdapter=t.RichTextCodeMirrorAdapter,t.Firepad.ACEAdapter=t.ACEAdapter,t.Firepad.MonacoAdapter=t.MonacoAdapter,t.Firepad}),this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,(function(){"use strict";var t,e;function n(){return t.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Me(t,e,n,i,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var n=d(t),i=e.call(n.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(t._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function p(t){var e=h(NaN);return null!=t?u(d(e),t):d(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var m=n.momentProperties=[];function g(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=d(e)),o(e._locale)||(t._locale=e._locale),m.length>0)for(n=0;n<m.length;n++)o(r=e[i=m[n]])||(t[i]=r);return t}var v=!1;function b(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function y(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function E(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function C(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&E(t[i])!==E(e[i]))&&a++;return a+o}function $(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function A(t,e){var i=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}$(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var x,k={};function S(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),k[t]||($(e),k[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function _(t,e){var n,i=u({},t);for(n in e)l(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},u(i[n],t[n]),u(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)l(t,n)&&!l(e,n)&&r(t[n])&&(i[n]=u({},i[n]));return i}function M(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,x=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var F={};function D(t,e){var n=t.toLowerCase();F[n]=F[n+"s"]=F[e]=t}function R(t){return"string"==typeof t?F[t]||F[t.toLowerCase()]:void 0}function O(t){var e,n,i={};for(n in t)l(t,n)&&(e=R(n))&&(i[e]=t[n]);return i}var L={};function I(t,e){L[t]=e}function N(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},j={};function U(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(j[t]=r),e&&(j[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),n&&(j[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=V(e,t.localeData()),H[e]=H[e]||function(t){var e,n,i,r=t.match(B);for(e=0,n=r.length;e<n;e++)j[r[e]]?r[e]=j[r[e]]:r[e]=(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(e,t):r[i];return o}}(e),H[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(P.lastIndex=0;n>=0&&P.test(t);)t=t.replace(P,i),P.lastIndex=0,n-=1;return t}var z=/\d/,q=/\d\d/,Y=/\d{3}/,K=/\d{4}/,G=/[+-]?\d{6}/,X=/\d\d?/,Q=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,it=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function ct(t,e,n){st[t]=T(e)?e:function(t,i){return t&&n?n:e}}function lt(t,e){return l(st,t)?st[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r}))))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht={};function dt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=E(t)}),n=0;n<t.length;n++)ht[t[n]]=i}function ft(t,e){dt(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function pt(t,e,n){null!=e&&l(ht,t)&&ht[t](e,n._a,n,t)}var mt=0,gt=1,vt=2,bt=3,yt=4,wt=5,Et=6,Ct=7,$t=8;function At(t){return xt(t)?366:365}function xt(t){return t%4==0&&t%100!=0||t%400==0}U("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),D("year","y"),I("year",1),ct("Y",it),ct("YY",X,q),ct("YYYY",tt,K),ct("YYYYY",et,G),ct("YYYYYY",et,G),dt(["YYYYY","YYYYYY"],mt),dt("YYYY",(function(t,e){e[mt]=2===t.length?n.parseTwoDigitYear(t):E(t)})),dt("YY",(function(t,e){e[mt]=n.parseTwoDigitYear(t)})),dt("Y",(function(t,e){e[mt]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return E(t)+(E(t)>68?1900:2e3)};var kt,St=Tt("FullYear",!0);function Tt(t,e){return function(i){return null!=i?(Mt(this,t,i),n.updateOffset(this,e),this):_t(this,t)}}function _t(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Mt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&xt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ft(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ft(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?xt(t)?29:28:31-n%7%2}kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),U("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),D("month","M"),I("month",8),ct("M",X),ct("MM",X,q),ct("MMM",(function(t,e){return e.monthsShortRegex(t)})),ct("MMMM",(function(t,e){return e.monthsRegex(t)})),dt(["M","MM"],(function(t,e){e[gt]=E(t)-1})),dt(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[gt]=r:d(n).invalidMonth=t}));var Dt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Lt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=kt.call(this._shortMonthsParse,a))?r:null:-1!==(r=kt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=kt.call(this._shortMonthsParse,a))||-1!==(r=kt.call(this._longMonthsParse,a))?r:null:-1!==(r=kt.call(this._longMonthsParse,a))||-1!==(r=kt.call(this._shortMonthsParse,a))?r:null}function It(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=E(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ft(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Nt(t){return null!=t?(It(this,t),n.updateOffset(this,!0),this):_t(this,"Month")}var Bt=at,Pt=at;function Ht(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=ut(i[e]),r[e]=ut(r[e]);for(e=0;e<24;e++)o[e]=ut(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function jt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function Ut(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Wt(t,e,n){var i=7+e-n;return-(7+Ut(t,0,i).getUTCDay()-e)%7+i-1}function Vt(t,e,n,i,r){var o,a,s=1+7*(e-1)+(7+n-i)%7+Wt(t,i,r);return s<=0?a=At(o=t-1)+s:s>At(t)?(o=t+1,a=s-At(t)):(o=t,a=s),{year:o,dayOfYear:a}}function zt(t,e,n){var i,r,o=Wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?i=a+qt(r=t.year()-1,e,n):a>qt(t.year(),e,n)?(i=a-qt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function qt(t,e,n){var i=Wt(t,e,n),r=Wt(t+1,e,n);return(At(t)-i+r)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),I("week",5),I("isoWeek",5),ct("w",X),ct("ww",X,q),ct("W",X),ct("WW",X,q),ft(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=E(t)})),U("d",0,"do","day"),U("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),U("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),U("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),ct("d",X),ct("e",X),ct("E",X),ct("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ct("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ct("dddd",(function(t,e){return e.weekdaysRegex(t)})),ft(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t})),ft(["d","e","E"],(function(t,e,n,i){e[i]=E(t)}));var Yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Kt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Xt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=kt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=kt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=kt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=kt.call(this._weekdaysParse,a))||-1!==(r=kt.call(this._shortWeekdaysParse,a))||-1!==(r=kt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=kt.call(this._shortWeekdaysParse,a))||-1!==(r=kt.call(this._weekdaysParse,a))||-1!==(r=kt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=kt.call(this._minWeekdaysParse,a))||-1!==(r=kt.call(this._weekdaysParse,a))||-1!==(r=kt.call(this._shortWeekdaysParse,a))?r:null}var Qt=at,Jt=at,Zt=at;function te(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],c=[],l=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),c.push(o),l.push(i),l.push(r),l.push(o);for(a.sort(t),s.sort(t),c.sort(t),l.sort(t),e=0;e<7;e++)s[e]=ut(s[e]),c[e]=ut(c[e]),l[e]=ut(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ee(){return this.hours()%12||12}function ne(t,e){U(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function ie(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,ee),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+ee.apply(this)+N(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+ee.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),ne("a",!0),ne("A",!1),D("hour","h"),I("hour",13),ct("a",ie),ct("A",ie),ct("H",X),ct("h",X),ct("k",X),ct("HH",X,q),ct("hh",X,q),ct("kk",X,q),ct("hmm",Q),ct("hmmss",J),ct("Hmm",Q),ct("Hmmss",J),dt(["H","HH"],bt),dt(["k","kk"],(function(t,e,n){var i=E(t);e[bt]=24===i?0:i})),dt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),dt(["h","hh"],(function(t,e,n){e[bt]=E(t),d(n).bigHour=!0})),dt("hmm",(function(t,e,n){var i=t.length-2;e[bt]=E(t.substr(0,i)),e[yt]=E(t.substr(i)),d(n).bigHour=!0})),dt("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[bt]=E(t.substr(0,i)),e[yt]=E(t.substr(i,2)),e[wt]=E(t.substr(r)),d(n).bigHour=!0})),dt("Hmm",(function(t,e,n){var i=t.length-2;e[bt]=E(t.substr(0,i)),e[yt]=E(t.substr(i))})),dt("Hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[bt]=E(t.substr(0,i)),e[yt]=E(t.substr(i,2)),e[wt]=E(t.substr(r))}));var re,oe=Tt("Hours",!0),ae={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Rt,monthsShort:Ot,week:{dow:0,doy:6},weekdays:Yt,weekdaysMin:Gt,weekdaysShort:Kt,meridiemParse:/[ap]\.?m?\.?/i},se={},ce={};function le(t){return t?t.toLowerCase().replace("_","-"):t}function ue(t){var e=null;if(!se[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=re._abbr,require("./locale/"+t),he(e)}catch(t){}return se[t]}function he(t,e){var n;return t&&((n=o(e)?fe(t):de(t,e))?re=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),re._abbr}function de(t,e){if(null!==e){var n,i=ae;if(e.abbr=t,null!=se[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=se[t]._config;else if(null!=e.parentLocale)if(null!=se[e.parentLocale])i=se[e.parentLocale]._config;else{if(null==(n=ue(e.parentLocale)))return ce[e.parentLocale]||(ce[e.parentLocale]=[]),ce[e.parentLocale].push({name:t,config:e}),null;i=n._config}return se[t]=new M(_(i,e)),ce[t]&&ce[t].forEach((function(t){de(t.name,t.config)})),he(t),se[t]}return delete se[t],null}function fe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return re;if(!i(t)){if(e=ue(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=le(t[o]).split("-")).length,n=(n=le(t[o+1]))?n.split("-"):null;e>0;){if(i=ue(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&C(r,n,!0)>=e-1)break;e--}o++}return re}(t)}function pe(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[gt]<0||n[gt]>11?gt:n[vt]<1||n[vt]>Ft(n[mt],n[gt])?vt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[yt]||0!==n[wt]||0!==n[Et])?bt:n[yt]<0||n[yt]>59?yt:n[wt]<0||n[wt]>59?wt:n[Et]<0||n[Et]>999?Et:-1,d(t)._overflowDayOfYear&&(e<mt||e>vt)&&(e=vt),d(t)._overflowWeeks&&-1===e&&(e=Ct),d(t)._overflowWeekday&&-1===e&&(e=$t),d(t).overflow=e),t}function me(t,e,n){return null!=t?t:null!=e?e:n}function ge(t){var e,i,r,o,a,s=[];if(!t._d){for(r=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[vt]&&null==t._a[gt]&&function(t){var e,n,i,r,o,a,s,c;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=me(e.GG,t._a[mt],zt(Fe(),1,4).year),i=me(e.W,1),((r=me(e.E,1))<1||r>7)&&(c=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=zt(Fe(),o,a);n=me(e.gg,t._a[mt],l.year),i=me(e.w,l.week),null!=e.d?((r=e.d)<0||r>6)&&(c=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(c=!0)):r=o}i<1||i>qt(n,o,a)?d(t)._overflowWeeks=!0:null!=c?d(t)._overflowWeekday=!0:(s=Vt(n,i,r,o,a),t._a[mt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=me(t._a[mt],r[mt]),(t._dayOfYear>At(a)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),i=Ut(a,0,t._dayOfYear),t._a[gt]=i.getUTCMonth(),t._a[vt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[yt]&&0===t._a[wt]&&0===t._a[Et]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Ut:jt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(d(t).weekdayMismatch=!0)}}var ve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,be=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/Z|[+-]\d\d(?::?\d\d)?/,we=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ee=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ce=/^\/?Date\((\-?\d+)/i;function $e(t){var e,n,i,r,o,a,s=t._i,c=ve.exec(s)||be.exec(s);if(c){for(d(t).iso=!0,e=0,n=we.length;e<n;e++)if(we[e][1].exec(c[1])){r=we[e][0],i=!1!==we[e][2];break}if(null==r)return void(t._isValid=!1);if(c[3]){for(e=0,n=Ee.length;e<n;e++)if(Ee[e][1].exec(c[3])){o=(c[2]||" ")+Ee[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(c[4]){if(!ye.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),Te(t)}else t._isValid=!1}var Ae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function xe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,n,i,r,o,a,s,c=Ae.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){var l=(e=c[4],n=c[3],i=c[2],r=c[5],o=c[6],a=c[7],s=[xe(e),Ot.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),s);if(!function(t,e,n){return!t||Kt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],l,t))return;t._a=l,t._tzm=function(t,e,n){if(t)return ke[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),t._d=Ut.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function Te(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],d(t).empty=!0;var e,i,r,o,a,s=""+t._i,c=s.length,l=0;for(r=V(t._f,t._locale).match(B)||[],e=0;e<r.length;e++)o=r[e],(i=(s.match(lt(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(i))).length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),l+=i.length),j[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),pt(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=c-l,s.length>0&&d(t).unusedInput.push(s),t._a[bt]<=12&&!0===d(t).bigHour&&t._a[bt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[bt]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[bt],t._meridiem),ge(t),pe(t)}else Se(t);else $e(t)}function _e(t){var e=t._i,l=t._f;return t._locale=t._locale||fe(t._l),null===e||void 0===l&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new b(pe(e)):(s(e)?t._d=e:i(l)?function(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Te(e),f(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));u(t,n||e)}(t):l?Te(t):function(t){var e=t._i;o(e)?t._d=new Date(n.now()):s(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=Ce.exec(t._i);null===e?($e(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):i(e)?(t._a=c(e.slice(0),(function(t){return parseInt(t,10)})),ge(t)):r(e)?function(t){if(!t._d){var e=O(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ge(t)}}(t):a(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),f(t)||(t._d=null),t))}function Me(t,e,n,o,a){var s,c={};return!0!==n&&!1!==n||(o=n,n=void 0),(r(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=n,c._i=t,c._f=e,c._strict=o,(s=new b(pe(_e(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Fe(t,e,n,i){return Me(t,e,n,i,!1)}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var De=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Fe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()})),Re=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Fe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}));function Oe(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Fe();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ie(t){var e=O(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===kt.call(Le,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Le.length;++i)if(t[Le[i]]){if(n)return!1;parseFloat(t[Le[i]])!==E(t[Le[i]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=fe(),this._bubble()}function Ne(t){return t instanceof Ie}function Be(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Pe(t,e){U(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+N(~~(t/60),2)+e+N(~~t%60,2)}))}Pe("Z",":"),Pe("ZZ",""),ct("Z",ot),ct("ZZ",ot),dt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=je(ot,t)}));var He=/([\+\-]|\d\d)/gi;function je(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(He)||["-",0,0],r=60*i[1]+E(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Ue(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(y(t)||s(t)?t.valueOf():Fe(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):Fe(t).local()}function We(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var ze=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var n,i,r,o=t,s=null;return Ne(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=ze.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:E(s[vt])*n,h:E(s[bt])*n,m:E(s[yt])*n,s:E(s[wt])*n,ms:E(Be(1e3*s[Et]))*n}):(s=qe.exec(t))?(n="-"===s[1]?-1:(s[1],1),o={y:Ke(s[2],n),M:Ke(s[3],n),w:Ke(s[4],n),d:Ke(s[5],n),h:Ke(s[6],n),m:Ke(s[7],n),s:Ke(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Ue(e,t),t.isBefore(e)?n=Ge(t,e):((n=Ge(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Fe(o.from),Fe(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Ie(o),Ne(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function Ke(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ge(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Xe(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Qe(this,Ye(n="string"==typeof n?+n:n,i),t),this}}function Qe(t,e,i,r){var o=e._milliseconds,a=Be(e._days),s=Be(e._months);t.isValid()&&(r=null==r||r,s&&It(t,_t(t,"Month")+s*i),a&&Mt(t,"Date",_t(t,"Date")+a*i),o&&t._d.setTime(t._d.valueOf()+o*i),r&&n.updateOffset(t,a||s))}Ye.fn=Ie.prototype,Ye.invalid=function(){return Ye(NaN)};var Je=Xe(1,"add"),Ze=Xe(-1,"subtract");function tn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function en(t){var e;return void 0===t?this._locale._abbr:(null!=(e=fe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function rn(){return this._locale}function on(t,e){U(0,[t,t.length],0,e)}function an(t,e,n,i,r){var o;return null==t?zt(this,i,r).year:(e>(o=qt(t,i,r))&&(e=o),sn.call(this,t,e,n,i,r))}function sn(t,e,n,i,r){var o=Vt(t,e,n,i,r),a=Ut(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),ct("G",it),ct("g",it),ct("GG",X,q),ct("gg",X,q),ct("GGGG",tt,K),ct("gggg",tt,K),ct("GGGGG",et,G),ct("ggggg",et,G),ft(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=E(t)})),ft(["gg","GG"],(function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)})),U("Q",0,"Qo","quarter"),D("quarter","Q"),I("quarter",7),ct("Q",z),dt("Q",(function(t,e){e[gt]=3*(E(t)-1)})),U("D",["DD",2],"Do","date"),D("date","D"),I("date",9),ct("D",X),ct("DD",X,q),ct("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),dt(["D","DD"],vt),dt("Do",(function(t,e){e[vt]=E(t.match(X)[0])}));var cn=Tt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),I("dayOfYear",4),ct("DDD",Z),ct("DDDD",Y),dt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=E(t)})),U("m",["mm",2],0,"minute"),D("minute","m"),I("minute",14),ct("m",X),ct("mm",X,q),dt(["m","mm"],yt);var ln=Tt("Minutes",!1);U("s",["ss",2],0,"second"),D("second","s"),I("second",15),ct("s",X),ct("ss",X,q),dt(["s","ss"],wt);var un,hn=Tt("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),D("millisecond","ms"),I("millisecond",16),ct("S",Z,z),ct("SS",Z,q),ct("SSS",Z,Y),un="SSSS";un.length<=9;un+="S")ct(un,nt);function dn(t,e){e[Et]=E(1e3*("0."+t))}for(un="S";un.length<=9;un+="S")dt(un,dn);var fn=Tt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var pn=b.prototype;function mn(t){return t}pn.add=Je,pn.calendar=function(t,e){var i=t||Fe(),r=Ue(i,this).startOf("day"),o=n.calendarFormat(this,r)||"sameElse",a=e&&(T(e[o])?e[o].call(this,i):e[o]);return this.format(a||this.localeData().calendar(o,this,Fe(i)))},pn.clone=function(){return new b(this)},pn.diff=function(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Ue(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=R(e)){case"year":o=tn(this,i)/12;break;case"month":o=tn(this,i);break;case"quarter":o=tn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:w(o)},pn.endOf=function(t){return void 0===(t=R(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},pn.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},pn.from=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||Fe(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pn.fromNow=function(t){return this.from(Fe(),t)},pn.to=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||Fe(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pn.toNow=function(t){return this.to(Fe(),t)},pn.get=function(t){return T(this[t=R(t)])?this[t]():this},pn.invalidAt=function(){return d(this).overflow},pn.isAfter=function(t,e){var n=y(t)?t:Fe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=R(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},pn.isBefore=function(t,e){var n=y(t)?t:Fe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=R(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},pn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},pn.isSame=function(t,e){var n,i=y(t)?t:Fe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=R(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},pn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},pn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},pn.isValid=function(){return f(this)},pn.lang=nn,pn.locale=en,pn.localeData=rn,pn.max=Re,pn.min=De,pn.parsingFlags=function(){return u({},d(this))},pn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:L[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=O(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(T(this[t=R(t)]))return this[t](e);return this},pn.startOf=function(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},pn.subtract=Ze,pn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},pn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},pn.toDate=function(){return new Date(this.valueOf())},pn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},pn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},pn.toJSON=function(){return this.isValid()?this.toISOString():null},pn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},pn.unix=function(){return Math.floor(this.valueOf()/1e3)},pn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},pn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},pn.year=St,pn.isLeapYear=function(){return xt(this.year())},pn.weekYear=function(t){return an.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},pn.isoWeekYear=function(t){return an.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},pn.quarter=pn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},pn.month=Nt,pn.daysInMonth=function(){return Ft(this.year(),this.month())},pn.week=pn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},pn.isoWeek=pn.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},pn.weeksInYear=function(){var t=this.localeData()._week;return qt(this.year(),t.dow,t.doy)},pn.isoWeeksInYear=function(){return qt(this.year(),1,4)},pn.date=cn,pn.day=pn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},pn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},pn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},pn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},pn.hour=pn.hours=oe,pn.minute=pn.minutes=ln,pn.second=pn.seconds=hn,pn.millisecond=pn.milliseconds=fn,pn.utcOffset=function(t,e,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=je(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=We(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Qe(this,Ye(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:We(this)},pn.utc=function(t){return this.utcOffset(0,t)},pn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(We(this),"m")),this},pn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=je(rt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},pn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Fe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},pn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},pn.isLocal=function(){return!!this.isValid()&&!this._isUTC},pn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},pn.isUtc=Ve,pn.isUTC=Ve,pn.zoneAbbr=function(){return this._isUTC?"UTC":""},pn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},pn.dates=A("dates accessor is deprecated. Use date instead.",cn),pn.months=A("months accessor is deprecated. Use month instead",Nt),pn.years=A("years accessor is deprecated. Use year instead",St),pn.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),pn.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=_e(t))._a){var e=t._isUTC?h(t._a):Fe(t._a);this._isDSTShifted=this.isValid()&&C(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var gn=M.prototype;function vn(t,e,n,i){var r=fe(),o=h().set(i,e);return r[n](o,t)}function bn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return vn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=vn(t,i,n,"month");return r}function yn(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var r,o=fe(),s=t?o._week.dow:0;if(null!=n)return vn(e,(n+s)%7,i,"day");var c=[];for(r=0;r<7;r++)c[r]=vn(e,(r+s)%7,i,"day");return c}gn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i},gn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},gn.invalidDate=function(){return this._invalidDate},gn.ordinal=function(t){return this._ordinal.replace("%d",t)},gn.preparse=mn,gn.postformat=mn,gn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)},gn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)},gn.set=function(t){var e,n;for(n in t)T(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gn.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Dt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},gn.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Dt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return Lt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},gn.monthsRegex=function(t){return this._monthsParseExact?(l(this,"_monthsRegex")||Ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},gn.monthsShortRegex=function(t){return this._monthsParseExact?(l(this,"_monthsRegex")||Ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},gn.week=function(t){return zt(t,this._week.dow,this._week.doy).week},gn.firstDayOfYear=function(){return this._week.doy},gn.firstDayOfWeek=function(){return this._week.dow},gn.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},gn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},gn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},gn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Xt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},gn.weekdaysRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},gn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Zt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},gn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},he("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===E(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=A("moment.lang is deprecated. Use moment.locale instead.",he),n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",fe);var wn=Math.abs;function En(t,e,n,i){var r=Ye(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Cn(t){return t<0?Math.floor(t):Math.ceil(t)}function $n(t){return 4800*t/146097}function An(t){return 146097*t/4800}function xn(t){return function(){return this.as(t)}}var kn=xn("ms"),Sn=xn("s"),Tn=xn("m"),_n=xn("h"),Mn=xn("d"),Fn=xn("w"),Dn=xn("M"),Rn=xn("y");function On(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ln=On("milliseconds"),In=On("seconds"),Nn=On("minutes"),Bn=On("hours"),Pn=On("days"),Hn=On("months"),jn=On("years"),Un=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,M:11};function Vn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}var zn=Math.abs;function qn(t){return(t>0)-(t<0)||+t}function Yn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=zn(this._milliseconds)/1e3,i=zn(this._days),r=zn(this._months);t=w(n/60),e=w(t/60),n%=60,t%=60;var o=w(r/12),a=r%=12,s=i,c=e,l=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=qn(this._months)!==qn(h)?"-":"",p=qn(this._days)!==qn(h)?"-":"",m=qn(this._milliseconds)!==qn(h)?"-":"";return d+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var Kn=Ie.prototype;return Kn.isValid=function(){return this._isValid},Kn.abs=function(){var t=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),t.milliseconds=wn(t.milliseconds),t.seconds=wn(t.seconds),t.minutes=wn(t.minutes),t.hours=wn(t.hours),t.months=wn(t.months),t.years=wn(t.years),this},Kn.add=function(t,e){return En(this,t,e,1)},Kn.subtract=function(t,e){return En(this,t,e,-1)},Kn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=R(t))||"year"===t)return e=this._days+i/864e5,n=this._months+$n(e),"month"===t?n:n/12;switch(e=this._days+Math.round(An(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Kn.asMilliseconds=kn,Kn.asSeconds=Sn,Kn.asMinutes=Tn,Kn.asHours=_n,Kn.asDays=Mn,Kn.asWeeks=Fn,Kn.asMonths=Dn,Kn.asYears=Rn,Kn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Kn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Cn(An(s)+a),a=0,s=0),c.milliseconds=o%1e3,t=w(o/1e3),c.seconds=t%60,e=w(t/60),c.minutes=e%60,n=w(e/60),c.hours=n%24,a+=w(n/24),s+=r=w($n(a)),a-=Cn(An(r)),i=w(s/12),s%=12,c.days=a,c.months=s,c.years=i,this},Kn.clone=function(){return Ye(this)},Kn.get=function(t){return t=R(t),this.isValid()?this[t+"s"]():NaN},Kn.milliseconds=Ln,Kn.seconds=In,Kn.minutes=Nn,Kn.hours=Bn,Kn.days=Pn,Kn.weeks=function(){return w(this.days()/7)},Kn.months=Hn,Kn.years=jn,Kn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var i=Ye(t).abs(),r=Un(i.as("s")),o=Un(i.as("m")),a=Un(i.as("h")),s=Un(i.as("d")),c=Un(i.as("M")),l=Un(i.as("y")),u=r<=Wn.ss&&["s",r]||r<Wn.s&&["ss",r]||o<=1&&["m"]||o<Wn.m&&["mm",o]||a<=1&&["h"]||a<Wn.h&&["hh",a]||s<=1&&["d"]||s<Wn.d&&["dd",s]||c<=1&&["M"]||c<Wn.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=n,Vn.apply(null,u)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Kn.toISOString=Yn,Kn.toString=Yn,Kn.toJSON=Yn,Kn.locale=en,Kn.localeData=rn,Kn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),Kn.lang=nn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ct("x",it),ct("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),dt("x",(function(t,e,n){n._d=new Date(E(t))})),n.version="2.22.2",t=Fe,n.fn=pn,n.min=function(){return Oe("isBefore",[].slice.call(arguments,0))},n.max=function(){return Oe("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(t){return Fe(1e3*t)},n.months=function(t,e){return bn(t,e,"months")},n.isDate=s,n.locale=he,n.invalid=p,n.duration=Ye,n.isMoment=y,n.weekdays=function(t,e,n){return yn(t,e,n,"weekdays")},n.parseZone=function(){return Fe.apply(null,arguments).parseZone()},n.localeData=fe,n.isDuration=Ne,n.monthsShort=function(t,e){return bn(t,e,"monthsShort")},n.weekdaysMin=function(t,e,n){return yn(t,e,n,"weekdaysMin")},n.defineLocale=de,n.updateLocale=function(t,e){if(null!=e){var n,i,r=ae;null!=(i=ue(t))&&(r=i._config),(n=new M(e=_(r,e))).parentLocale=se[t],se[t]=n,he(t)}else null!=se[t]&&(null!=se[t].parentLocale?se[t]=se[t].parentLocale:null!=se[t]&&delete se[t]);return se[t]},n.locales=function(){return x(se)},n.weekdaysShort=function(t,e,n){return yn(t,e,n,"weekdaysShort")},n.normalizeUnits=R,n.relativeTimeRounding=function(t){return void 0===t?Un:"function"==typeof t&&(Un=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Wn[t]&&(void 0===e?Wn[t]:(Wn[t]=e,"s"===t&&(Wn.ss=e-1),!0))},n.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=pn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n})),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(e,n):t[e]=n()}(this,"bowser",(function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function i(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),c=/nexus\s*[0-6]\s*/i.test(e),l=!c&&/nexus\s*[0-9]+/i.test(e),u=/CrOS/.test(e),h=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),p=/(web|hpw)(o|0)s/i.test(e),m=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),v=!a&&!h&&/macintosh/i.test(e),b=!s&&!d&&!f&&!p&&/linux/i.test(e),y=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),E=/tablet/i.test(e)&&!/tablet pc/i.test(e),C=!E&&/[^-]mobi/i.test(e),$=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?r={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?r={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?r={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},y?(r.msedge=t,r.version=y):(r.msie=t,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:y}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:d?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(r={name:"WebOS",osname:"WebOS",webos:t,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?r={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:w}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},w&&(r.version=w)):a?(r={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},w&&(r.version=w)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&w&&(r.version=w)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&a?(r[a]=t,r.ios=t,r.osname="iOS"):v?(r.mac=t,r.osname="macOS"):$?(r.xbox=t,r.osname="Xbox"):g?(r.windows=t,r.osname="Windows"):b&&(r.linux=t,r.osname="Linux"):(r.android=t,r.osname="Android");var A="";r.windows?A=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?A=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?A=(A=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?A=(A=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?A=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?A=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?A=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?A=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(A=n(/tizen[\/\s](\d+(\.\d+)*)/i)),A&&(r.osversion=A);var x=!r.windows&&A.split(".")[0];return E||l||"ipad"==a||s&&(3==x||x>=4&&!C)||r.silk?r.tablet=t:(C||"iphone"==a||"ipod"==a||s||c||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===o([r.version,"1.0"])||r.mzbrowser&&1===o([r.version,"6.0"])||r.focus&&1===o([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}var n=e("undefined"!=typeof navigator&&navigator.userAgent||"");function i(t){return t.split(".").length}function r(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function o(t){for(var e=Math.max(i(t[0]),i(t[1])),n=r(t,(function(t){var n=e-i(t);return r((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function a(t,i,r){var a=n;"string"==typeof i&&(r=i,i=void 0),void 0===i&&(i=!1),r&&(a=e(r));var s=""+a.version;for(var c in t)if(t.hasOwnProperty(c)&&a[c]){if("string"!=typeof t[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(t));return o([s,t[c]])<0}return i}return n.test=function(t){for(var e=0;e<t.length;++e){var i=t[e];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(t,e,n){return!a(t,e,n)},n._detect=e,n.detect=e,n}));